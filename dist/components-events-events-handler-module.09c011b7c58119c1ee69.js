(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AIvX:function(e,t,n){"use strict";n.r(t),n.d(t,"EventsHandlerModule",(function(){return xt}));var i=n("ofXK"),r=n("PCNd"),c=n("sYmb"),a=n("zQsl"),o=n("zB/H"),s=n("0d0Z"),l=n("unh5"),d=n("fXoL"),b=n("cH1L"),f=n("5+WD"),u=n("NFeN"),m=n("f7OT"),p=n("rBWh"),h=n("ue6I"),g=n("DDyt"),v=n("3Pt+"),H=n("EEPM"),S=n("tk/3"),T=n("AytR"),w=function(){function e(e){this.http=e,this.accessToken="",this.API_URL=T.a.EVENT_HANDLER_URL,this.headers={headers:new S.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return e.prototype.getAllActionType=function(){return this.http.get(this.API_URL+"/actionType/getAllActionType")},e.prototype.addNewEvent=function(e){return this.http.post(this.API_URL+"/AddEvent",e)},e.prototype.addNewReminder=function(e){return this.http.post(this.API_URL+"/reminder/AddReminder",e)},e.prototype.getAllReminderType=function(){return this.http.get(this.API_URL+"/reminderType/getAllReminderType")},e.prototype.getAllStatusType=function(){return this.http.get(this.API_URL+"/statusReminderType/getAllStatusType")},e.prototype.getEventByEmail=function(e){return this.http.post(this.API_URL+"/getEventByEmail/?email="+e,null)},e.prototype.deleteEventById=function(e){return this.http.delete(this.API_URL+"/deleteEvent/?id="+e,this.headers)},e.prototype.deleteReminderById=function(e){return this.http.delete(this.API_URL+"/reminder/deleteReminder/?id="+e,this.headers)},e.\u0275fac=function(t){return new(t||e)(d.Xb(S.a))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),y=n("wd/R"),_=n("0IaG"),k=["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],I=n("XiUW"),x=n("+Ibf"),C=n("kmnG"),B=n("d3UM"),D=n("qFsG"),M=n("iadO"),O=n("FKr1"),P=n("bTqV");function F(e,t){if(1&e&&(d.Tb(0,"mat-option",24),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                ",n.description,"\n              ")}}function N(e,t){if(1&e&&(d.Tb(0,"mat-option",24),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                ",n.description,"\n              ")}}function R(e,t){1&e&&(d.Tb(0,"span"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Ic(d.gc(2,1,"events_handler.form.start_at_error")))}function E(e,t){if(1&e&&(d.Tb(0,"mat-option",24),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                ",n,"\n              ")}}function A(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n              ",d.gc(2,1,"events_handler.form.start_time_error"),"\n            "))}function L(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",25),d.ac("click",(function(){return d.vc(n),d.ec(2).cancelReminderBtn()})),d.Hc(1,"\n        "),d.Tb(2,"span",26),d.Hc(3),d.fc(4,"translate"),d.Sb(),d.Hc(5,"\n      "),d.Sb()}2&e&&(d.Bb(3),d.Ic(d.gc(4,1,"global.dismiss")))}function U(e,t){if(1&e&&(d.Tb(0,"button",27),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",28),d.Hc(3,"check"),d.Sb(),d.Hc(4,"\n        "),d.Tb(5,"span",26),d.Hc(6),d.fc(7,"translate"),d.Sb(),d.Hc(8,"\n      "),d.Sb()),2&e){var n=d.ec(2);d.kc("disabled",!n.reminderForm.valid),d.Bb(6),d.Ic(d.gc(7,2,"global.submit"))}}function J(e,t){if(1&e){var n=d.Ub();d.Tb(0,"form",5),d.ac("submit",(function(){return d.vc(n),d.ec().submitReminder()})),d.Hc(1,"\n    "),d.Tb(2,"div",6),d.Hc(3,"\n      "),d.Tb(4,"div",7),d.Hc(5,"\n        "),d.Tb(6,"div",8),d.Hc(7,"\n          "),d.Tb(8,"mat-form-field",9),d.Hc(9,"\n            "),d.Tb(10,"mat-label"),d.Hc(11),d.fc(12,"translate"),d.Sb(),d.Hc(13,"\n            "),d.Tb(14,"mat-select",10),d.Hc(15,"\n              "),d.Fc(16,F,2,2,"mat-option",11),d.Hc(17,"\n            "),d.Sb(),d.Hc(18,"\n          "),d.Sb(),d.Hc(19,"\n        "),d.Sb(),d.Hc(20,"\n        "),d.Tb(21,"div",8),d.Hc(22,"\n          "),d.Tb(23,"mat-form-field",9),d.Hc(24,"\n            "),d.Tb(25,"mat-label"),d.Hc(26),d.fc(27,"translate"),d.Sb(),d.Hc(28,"\n            "),d.Tb(29,"mat-select",12),d.Hc(30,"\n              "),d.Fc(31,N,2,2,"mat-option",11),d.Hc(32,"\n            "),d.Sb(),d.Hc(33,"\n          "),d.Sb(),d.Hc(34,"\n        "),d.Sb(),d.Hc(35,"\n      "),d.Sb(),d.Hc(36,"\n\n      "),d.Tb(37,"div",7),d.Hc(38,"\n        "),d.Tb(39,"div",8),d.Hc(40,"\n          "),d.Tb(41,"mat-form-field",9),d.Hc(42,"\n            "),d.Tb(43,"mat-label"),d.Hc(44),d.fc(45,"translate"),d.Sb(),d.Hc(46,"\n            "),d.Tb(47,"input",13),d.ac("click",(function(){return d.vc(n),d.rc(51).open()}))("dateChange",(function(e){return d.vc(n),d.ec().dateToGregorianReminder("startReminder",e)}))("focus",(function(){return d.vc(n),d.rc(51).open()})),d.fc(48,"translate"),d.Sb(),d.Hc(49,"\n            "),d.Ob(50,"mat-datepicker",null,14),d.Hc(52,"\n            "),d.Tb(53,"mat-error"),d.Hc(54,"\n              "),d.Fc(55,R,3,3,"span",15),d.Hc(56,"\n            "),d.Sb(),d.Hc(57,"\n          "),d.Sb(),d.Hc(58,"\n        "),d.Sb(),d.Hc(59,"\n        "),d.Tb(60,"div",8),d.Hc(61,"\n          "),d.Tb(62,"mat-form-field",9),d.Hc(63,"\n            "),d.Tb(64,"mat-label"),d.Hc(65),d.fc(66,"translate"),d.Sb(),d.Hc(67,"\n            "),d.Tb(68,"mat-select",16),d.Hc(69,"\n              "),d.Fc(70,E,2,2,"mat-option",11),d.Hc(71,"\n            "),d.Sb(),d.Hc(72,"\n\n            "),d.Fc(73,A,3,3,"mat-error",15),d.Hc(74,"\n          "),d.Sb(),d.Hc(75,"\n        "),d.Sb(),d.Hc(76,"\n        "),d.Hc(77,"\n      "),d.Sb(),d.Hc(78,"\n\n      "),d.Tb(79,"div",17),d.Hc(80,"\n        "),d.Tb(81,"div",18),d.Hc(82,"\n          "),d.Tb(83,"mat-form-field",19),d.Hc(84,"\n            "),d.Tb(85,"mat-label"),d.Hc(86),d.fc(87,"translate"),d.Sb(),d.Hc(88,"\n            "),d.Ob(89,"textarea",20),d.fc(90,"translate"),d.Hc(91,"\n          "),d.Sb(),d.Hc(92,"\n        "),d.Sb(),d.Hc(93,"\n      "),d.Sb(),d.Hc(94,"\n\n    "),d.Sb(),d.Hc(95,"\n    "),d.Tb(96,"div",21),d.Hc(97,"\n      "),d.Fc(98,L,6,3,"button",22),d.Hc(99,"\n\n      "),d.Fc(100,U,9,4,"button",23),d.Hc(101,"\n    "),d.Sb(),d.Hc(102,"\n  "),d.Sb()}if(2&e){var i=d.rc(51),r=d.ec();d.kc("dir",r.rtlDirection?"rtl":"ltr")("formGroup",r.reminderForm),d.Bb(11),d.Ic(d.gc(12,17,"events_handler.form.reminder_type")),d.Bb(5),d.kc("ngForOf",r.reminderTypeList),d.Bb(10),d.Ic(d.gc(27,19,"events_handler.form.reminder_status")),d.Bb(5),d.kc("ngForOf",r.statusList),d.Bb(13),d.Ic(d.gc(45,21,"events_handler.form.start_at")),d.Bb(3),d.lc("placeholder",d.gc(48,23,"events_handler.form.start_at")),d.kc("matDatepicker",i),d.Bb(8),d.kc("ngIf",!r.reminderForm.get("startReminder").value),d.Bb(10),d.Ic(d.gc(66,25,"events_handler.form.start_time")),d.Bb(5),d.kc("ngForOf",r.hours),d.Bb(3),d.kc("ngIf",!r.reminderForm.get("startTime").valid&&r.reminderForm.get("startTime").touched),d.Bb(13),d.Ic(d.gc(87,27,"events_handler.form.reminder_description")),d.Bb(3),d.lc("placeholder",d.gc(90,29,"events_handler.form.reminder_description")),d.Bb(9),d.kc("ngIf",r.editableReminder||"detail"!==r.data.action),d.Bb(2),d.kc("ngIf",r.editableReminder)}}var z,j=function(){function e(e,t,n,i,r,c,a,s){this.data=e,this.fb=t,this.dialog=n,this.eventApi=i,this.messageService=r,this.translateService=c,this.eventHandlerService=a,this.dialogRef=s,this.editableReminder=!1,this.reminderTypeList=[],this.statusList=[],this.hours=k,this._subscription=new o.Subscription,this.rtlDirection=this.data.rtlDirection,this.eventItems=this.data.eventItems}return e.prototype.ngOnInit=function(){var e=this;this._subscription.add(this.eventApi.getAllReminderType().subscribe((function(t){200==t.status&&(e.reminderTypeList=t.content,e._subscription.add(e.eventApi.getAllStatusType().subscribe((function(t){200==t.status&&(e.statusList=t.content)}))))}))),this.createReminderForm().then((function(){e.editableReminder=!0,e.reminderForm.enable()}))},e.prototype.selectCurrentTime=function(){var e=new Date,t=e.getHours()<10?"0"+e.getHours():e.getHours(),n=e.getMinutes(),i="";return n<15?i="00":n>=15&&n<30||n>=30&&n<45?i="15":n>=45&&(i="45"),t+":"+i},e.prototype.createReminderForm=function(){var e=this;return new Promise((function(t){e.reminderForm=e.fb.group({reminderType:new v.e(null,v.u.required),status:new v.e(null,v.u.required),startReminder:new v.e("0000-00-00",v.u.required),startTime:new v.e(e.selectCurrentTime(),v.u.required),endTime:new v.e(e.selectCurrentTime(),v.u.required),description:new v.e("",v.u.required)}),t()}))},e.prototype.submitReminder=function(){var e=this,t={reminders:[this.reminderForm.value],id:this.data.eventItems.id};t.reminders[0].startReminder=t.reminders[0].startReminder+" "+t.reminders[0].startTime+":00",this._subscription.add(this.eventApi.addNewReminder(t).subscribe((function(t){"successful"==t.result?(e.messageService.showMessage(e.getTranslate("events_handler.form.add_reminder_successful")),e.dialogRef.close(!0),e.eventHandlerService.moveEventItems(null)):e.messageService.showMessage(e.getTranslate("events_handler.form.add_reminder_error"))})))},e.prototype.cancelReminderBtn=function(){this.dialogRef.close(!0)},e.prototype.dateToGregorianReminder=function(e,t){this.reminderForm.get(e).setValue(y(t.value._d).format("YYYY-MM-DD"))},e.prototype.getTranslate=function(e){return this.translateService.instant(e)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(d.Nb(_.a),d.Nb(v.d),d.Nb(_.b),d.Nb(w),d.Nb(I.a),d.Nb(c.d),d.Nb(x.a),d.Nb(_.e))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-events-handler-add-reminder"]],decls:15,vars:5,consts:[[1,"full-page-size","padding-full","overflow-hide",3,"dir"],[1,"task-heading","clear-both","full-width","height-45","display-flex","flex-space-between"],[1,"no-margin","height-45","line-height-45","font-full-plus-one-tenth-em","text-eclipse","padding-r-l","text-pink-600","text-weight-500"],[1,"text-gray-700"],["class","full-height",3,"dir","formGroup","submit",4,"ngIf"],[1,"full-height",3,"dir","formGroup","submit"],[1,"height-full-minus-45","overflow-x-hide","overflow-y-auto","full-width"],[1,"display-flex","margin-r-l-reverse"],[1,"half-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","reminderType","required","","tabIndex","5"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status","required","","tabIndex","5"],["formControlName","startReminder","matInput","","readonly","","required","","tabindex","8",3,"matDatepicker","placeholder","click","dateChange","focus"],["picker1",""],[4,"ngIf"],["formControlName","startTime","required","","tabIndex","9"],[1,"display-flex","margin-b-full","margin-r-l-reverse"],[1,"full-width","padding-r-l"],[1,"full-width","height-80","font-9-em"],["formControlName","description","matInput","","required","","tabindex","12",3,"placeholder"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["class","no-bg no-border cursor-pointer text-red-500 line-height-30 font-9-em overflow-hide text-weight-normal","type","button",3,"click",4,"ngIf"],["class","green-gradient text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","","tabindex","13","type","submit",3,"disabled",4,"ngIf"],[3,"value"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Hc(1,"\n  "),d.Tb(2,"div",1),d.Hc(3,"\n    "),d.Tb(4,"h1",2),d.Hc(5,"\n      "),d.Tb(6,"span",3),d.Hc(7),d.fc(8,"translate"),d.Sb(),d.Hc(9,"\n    "),d.Sb(),d.Hc(10,"\n  "),d.Sb(),d.Hc(11,"\n  "),d.Fc(12,J,103,31,"form",4),d.Hc(13,"\n"),d.Sb(),d.Hc(14,"\n")),2&e&&(d.kc("dir",t.rtlDirection?"rtl":"ltr"),d.Bb(7),d.Ic(d.gc(8,3,"events_handler.main.add_new_reminder")),d.Bb(5),d.kc("ngIf",t.reminderForm))},directives:[b.b,i.k,v.v,v.o,v.i,C.c,C.f,B.a,v.n,v.g,v.t,i.j,v.c,D.b,M.c,M.b,C.b,O.n,P.a,u.a],pipes:[c.c],encapsulation:2}),e}(),q=n("8Tul"),W=n("ds6q"),G=n("quSY"),V=n("OVb6"),Y=n("OC8m"),$=n("dJ3e"),X=function(){function e(e,t,n,i,r,c){this.eventApi=e,this.electronService=t,this.notificationService=n,this.dateTimeservice=i,this.translateService=r,this.eventHandlerService=c,this.msg=new W.Subject,this.connectedStatus=new W.Subject,this._subscription=new G.a}return e.prototype.getEventsByEmail=function(e){var t=this;return this.loggedInUsers=e,new Promise((function(n,i){t.eventApi.getEventByEmail(e.email).subscribe((function(i){var r=[],c=[];if(200==i.status)if(i.contents){if(i.contents.length){(r=i.contents).map((function(n){n.sTime=new Date(n.startDate).toLocaleTimeString(),n.eTime=new Date(n.endDate).toLocaleTimeString(),n.startDate=t.dateTimeservice.getDateByTimezone(n.startDate,e.timezone),n.endDate=t.dateTimeservice.getDateByTimezone(n.endDate,e.timezone),n.reminders.length&&(c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],a=0,o=c.length;a<o;a++,r++)i[r]=c[a];return i}(c,n.reminders))})),c.map((function(n){n.startdate_format=new Date(n.startReminder).toLocaleDateString(),n.enddate_format=new Date(n.endReminder).toLocaleDateString(),n.startReminder=t.dateTimeservice.getDateByTimezone(n.startReminder,e.timezone),n.endReminder=t.dateTimeservice.getDateByTimezone(n.endReminder,e.timezone)}));var a={events:r,reminders:c};t.eventHandlerService.moveEventsReminders(a),n(a)}}else n({events:[],reminders:[]});else n({events:[],reminders:[]})}))}))},e.prototype.initializeWebSocketConnection=function(){var e=this;return new Promise((function(t,n){var i=new SockJS(T.a.EVENT_HANDLER_URL+"/api");e.stompClient=Stomp.over(i),e.stompClient.debug=function(){},e.stompClient.reconnect_delay=2e3,e.stompClient.connect({},(function(n){t(n),e.connectedStatus.next(!0),e.stompClient.subscribe("/calendar",(function(t){var n,i=JSON.parse(t.body);Array.isArray(i)?(i=i[0],e.electronService.remote.getCurrentWindow().isFocused()||(n=new Notification(e.getTranslate("events_handler.main.notification_reminder_title"),{body:i.description+" "+i.startReminder,icon:"",dir:"auto",data:e.loggedInUsers}))):i.users&&i.users.length&&i.users.forEach((function(t){e.electronService.remote.getCurrentWindow().isFocused()||(n=new Notification(e.getTranslate("events_handler.main.notification_event_title"),{body:e.getTranslate("events_handler.main.notification_event_from")+" "+i.createUser.name,icon:"assets/profileImg/"+i.createUser.email+".jpg",dir:"auto",data:e.loggedInUsers})),e.getEventsByEmail(e.loggedInUsers)})),e.electronService.remote.getCurrentWindow().isFocused()||(e.notificationService.changeCurrentNotification(n),e._subscription.add(e.notificationService.currentNotification.subscribe((function(t){t&&(t.onclick=function(){e.electronService.remote.getCurrentWindow().show()},t.onclose=function(){})}))))})),e.stompClient.subscribe("/actionEvent",(function(e){})),e.stompClient.subscribe("/actionReminder",(function(e){}))}),(function(t){n(),e.errorCallBack(t)}))}))},e.prototype.getTranslate=function(e){return this.translateService.instant(e)},e.prototype.errorCallBack=function(e){},e.prototype.sendMessage=function(e){this.stompClient.send("/app/autoComplete",{},JSON.stringify(e))},e.prototype.sendMessageSearchAll=function(e){console.log("send: ",e),this.stompClient.send("/app/search",{},JSON.stringify(e))},e.\u0275fac=function(t){return new(t||e)(d.Xb(w),d.Xb($.a),d.Xb(Y.a),d.Xb(V.a),d.Xb(c.d),d.Xb(x.a))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),K=n("0EQZ"),Q=n("+0xr"),Z=n("bSwM"),ee=n("MutI"),te=n("f0Cb"),ne=n("K3ar"),ie=(z=function(e,t){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),re=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],a=0,o=c.length;a<o;a++,r++)i[r]=c[a];return i};function ce(e,t){1&e&&(d.Tb(0,"span",15),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Ic(d.gc(2,1,"events_handler.main.add_event_title")))}function ae(e,t){if(1&e&&(d.Tb(0,"span"),d.Tb(1,"span",15),d.Hc(2),d.Sb(),d.Hc(3),d.Sb()),2&e){var n=d.ec(2);d.Bb(2),d.Jc("#",n.data.eventItems.id,""),d.Bb(1),d.Jc(" ",n.data.eventItems.name,"")}}function oe(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",16),d.ac("click",(function(){return d.vc(n),d.ec(2).deleteEvent()})),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",8),d.Hc(3,"delete"),d.Sb(),d.Hc(4,"\n      "),d.Sb()}}function se(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",17),d.ac("click",(function(){return d.vc(n),d.ec(2).enableForm()})),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",8),d.Hc(3,"edit"),d.Sb(),d.Hc(4,"\n      "),d.Sb()}}function le(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n                  ",d.gc(2,1,"events_handler.form.event_name_error"),"\n                "))}function de(e,t){if(1&e&&(d.Tb(0,"mat-option",58),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                    ",n.actionDescription,"\n                  ")}}function be(e,t){if(1&e&&(d.Tb(0,"mat-option",58),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                    ",n.description,"\n                  ")}}function fe(e,t){if(1&e&&(d.Tb(0,"div",24),d.Hc(1,"\n              "),d.Tb(2,"mat-form-field",22),d.Hc(3,"\n                "),d.Tb(4,"mat-label"),d.Hc(5),d.fc(6,"translate"),d.Sb(),d.Hc(7,"\n                "),d.Tb(8,"mat-select",59),d.Hc(9,"\n                  "),d.Fc(10,be,2,2,"mat-option",26),d.Hc(11,"\n                "),d.Sb(),d.Hc(12,"\n              "),d.Sb(),d.Hc(13,"\n            "),d.Sb()),2&e){var n=d.ec(3);d.Bb(5),d.Ic(d.gc(6,2,"events_handler.form.action_job_type")),d.Bb(5),d.kc("ngForOf",n.actionTypeJobList)}}function ue(e,t){1&e&&(d.Tb(0,"span"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Ic(d.gc(2,1,"events_handler.form.start_at_error")))}function me(e,t){1&e&&(d.Tb(0,"span"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Ic(d.gc(2,1,"events_handler.form.start_stop_compare")))}function pe(e,t){if(1&e&&(d.Tb(0,"mat-option",58),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                    ",n,"\n                  ")}}function he(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n                  ",d.gc(2,1,"events_handler.form.start_time_error"),"\n                "))}function ge(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n                  ",d.gc(2,1,"events_handler.form.stop_at_error"),"\n                "))}function ve(e,t){if(1&e&&(d.Tb(0,"mat-option",58),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.kc("value",n),d.Bb(1),d.Jc("\n                    ",n,"\n                  ")}}function He(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n                  ",d.gc(2,1,"events_handler.form.stop_time_error"),"\n                "))}function Se(e,t){1&e&&(d.Tb(0,"mat-error"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Jc("\n                  ",d.gc(2,1,"events_handler.form.event_name_error"),"\n                "))}function Te(e,t){if(1&e){var n=d.Ub();d.Tb(0,"th",60),d.Hc(1,"\n                    "),d.Tb(2,"mat-checkbox",61),d.ac("change",(function(e){d.vc(n);var t=d.ec(3);return e?t.masterToggle():null})),d.Hc(3,"\n                    "),d.Sb(),d.Hc(4,"\n                  "),d.Sb()}if(2&e){var i=d.ec(3);d.Bb(2),d.kc("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())}}function we(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",62),d.Hc(1,"\n                    "),d.Tb(2,"mat-checkbox",63),d.ac("click",(function(e){return e.stopPropagation()}))("change",(function(e){d.vc(n);var i=t.$implicit,r=d.ec(3);return e?r.selection.toggle(i):null})),d.Hc(3,"\n                    "),d.Sb(),d.Hc(4,"\n                  "),d.Sb()}if(2&e){var i=t.$implicit,r=d.ec(3);d.Bb(2),d.kc("checked",r.selection.isSelected(i))}}function ye(e,t){1&e&&(d.Tb(0,"th",64),d.Hc(1," Name"),d.Sb())}function _e(e,t){if(1&e&&(d.Tb(0,"td",65),d.Hc(1),d.Sb()),2&e){var n=t.$implicit;d.Bb(1),d.Jc(" ",n.name," ")}}function ke(e,t){1&e&&(d.Tb(0,"th",64),d.Hc(1," Phone Number"),d.Sb())}function Ie(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",66),d.ac("click",(function(e){return e.stopPropagation()})),d.Hc(1,"\n                    "),d.Tb(2,"input",67),d.ac("click",(function(e){return e.stopPropagation()}))("keyup",(function(e){d.vc(n);var i=t.$implicit;return d.ec(3).onKeyPhoneNumber(i,e)})),d.Sb(),d.Hc(3,"\n                  "),d.Sb()}if(2&e){var i=t.$implicit;d.Bb(2),d.lc("value",i.phoneNumber)}}function xe(e,t){1&e&&d.Ob(0,"tr",68)}function Ce(e,t){if(1&e){var n=d.Ub();d.Tb(0,"tr",69),d.ac("click",(function(){d.vc(n);var e=t.$implicit;return d.ec(3).selection.toggle(e)})),d.Hc(1,"\n                "),d.Sb()}}function Be(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",70),d.ac("click",(function(e){return d.vc(n),d.ec(3).cancelBtn(e)})),d.Hc(1,"\n            "),d.Tb(2,"span",71),d.Hc(3),d.fc(4,"translate"),d.Sb(),d.Hc(5,"\n          "),d.Sb()}2&e&&(d.Bb(3),d.Ic(d.gc(4,1,"global.dismiss")))}function De(e,t){if(1&e&&(d.Tb(0,"button",72),d.Hc(1,"\n            "),d.Tb(2,"mat-icon",73),d.Hc(3,"check"),d.Sb(),d.Hc(4,"\n            "),d.Tb(5,"span",71),d.Hc(6),d.fc(7,"translate"),d.Sb(),d.Hc(8,"\n          "),d.Sb()),2&e){var n=d.ec(3);d.kc("disabled",!n.form.valid),d.Bb(6),d.Ic(d.gc(7,2,"global.submit"))}}function Me(e,t){if(1&e){var n=d.Ub();d.Tb(0,"form",18),d.ac("submit",(function(){return d.vc(n),d.ec(2).submit()})),d.Hc(1,"\n        "),d.Tb(2,"div",19),d.Hc(3,"\n          "),d.Tb(4,"div",20),d.Hc(5,"\n            "),d.Tb(6,"div",21),d.Hc(7,"\n              "),d.Tb(8,"mat-form-field",22),d.Hc(9,"\n                "),d.Ob(10,"input",23),d.fc(11,"translate"),d.Hc(12,"\n                "),d.Tb(13,"mat-label"),d.Hc(14),d.fc(15,"translate"),d.Sb(),d.Hc(16,"\n\n                "),d.Fc(17,le,3,3,"mat-error",5),d.Hc(18,"\n              "),d.Sb(),d.Hc(19,"\n            "),d.Sb(),d.Hc(20,"\n          "),d.Sb(),d.Hc(21,"\n\n          "),d.Tb(22,"div",20),d.Hc(23,"\n            "),d.Tb(24,"div",24),d.Hc(25,"\n              "),d.Tb(26,"mat-form-field",22),d.Hc(27,"\n                "),d.Tb(28,"mat-label"),d.Hc(29),d.fc(30,"translate"),d.Sb(),d.Hc(31,"\n                "),d.Tb(32,"mat-select",25),d.ac("selectionChange",(function(e){return d.vc(n),d.ec(2).onChangeAction(e)})),d.Hc(33,"\n                  "),d.Fc(34,de,2,2,"mat-option",26),d.Hc(35,"\n                "),d.Sb(),d.Hc(36,"\n              "),d.Sb(),d.Hc(37,"\n            "),d.Sb(),d.Hc(38,"\n            "),d.Fc(39,fe,14,4,"div",27),d.Hc(40,"\n          "),d.Sb(),d.Hc(41,"\n          "),d.Tb(42,"div",20),d.Hc(43,"\n            "),d.Tb(44,"div",24),d.Hc(45,"\n              "),d.Tb(46,"mat-form-field",22),d.Hc(47,"\n                "),d.Tb(48,"mat-label"),d.Hc(49),d.fc(50,"translate"),d.Sb(),d.Hc(51,"\n                "),d.Tb(52,"input",28),d.ac("focus",(function(){return d.vc(n),d.rc(56).open()}))("click",(function(){return d.vc(n),d.rc(56).open()}))("dateChange",(function(e){return d.vc(n),d.ec(2).dateToGregorian("startDate",e)})),d.fc(53,"translate"),d.Sb(),d.Hc(54,"\n                "),d.Ob(55,"mat-datepicker",null,29),d.Hc(57,"\n                "),d.Tb(58,"mat-error"),d.Hc(59,"\n                  "),d.Fc(60,ue,3,3,"span",5),d.Hc(61,"\n                  "),d.Fc(62,me,3,3,"span",5),d.Hc(63,"\n                "),d.Sb(),d.Hc(64,"\n              "),d.Sb(),d.Hc(65,"\n            "),d.Sb(),d.Hc(66,"\n            "),d.Tb(67,"div",24),d.Hc(68,"\n              "),d.Tb(69,"mat-form-field",22),d.Hc(70,"\n                "),d.Tb(71,"mat-label"),d.Hc(72),d.fc(73,"translate"),d.Sb(),d.Hc(74,"\n                "),d.Tb(75,"mat-select",30),d.Hc(76,"\n                  "),d.Fc(77,pe,2,2,"mat-option",26),d.Hc(78,"\n                "),d.Sb(),d.Hc(79,"\n\n                "),d.Fc(80,he,3,3,"mat-error",5),d.Hc(81,"\n              "),d.Sb(),d.Hc(82,"\n            "),d.Sb(),d.Hc(83,"\n            "),d.Tb(84,"div",31),d.Hc(85,"\n              "),d.Tb(86,"mat-form-field",22),d.Hc(87,"\n                "),d.Tb(88,"mat-label"),d.Hc(89),d.fc(90,"translate"),d.Sb(),d.Hc(91,"\n                "),d.Tb(92,"input",32),d.ac("focus",(function(){return d.vc(n),d.rc(95).open()}))("click",(function(){return d.vc(n),d.rc(95).open()}))("dateChange",(function(e){return d.vc(n),d.ec(2).dateToGregorian("endDate",e)})),d.Sb(),d.Hc(93,"\n                "),d.Ob(94,"mat-datepicker",null,33),d.Hc(96,"\n\n                "),d.Fc(97,ge,3,3,"mat-error",5),d.Hc(98,"\n              "),d.Sb(),d.Hc(99,"\n            "),d.Sb(),d.Hc(100,"\n            "),d.Tb(101,"div",31),d.Hc(102,"\n              "),d.Tb(103,"mat-form-field",22),d.Hc(104,"\n                "),d.Tb(105,"mat-label"),d.Hc(106),d.fc(107,"translate"),d.Sb(),d.Hc(108,"\n                "),d.Tb(109,"mat-select",34),d.Hc(110,"\n                  "),d.Fc(111,ve,2,2,"mat-option",26),d.Hc(112,"\n                "),d.Sb(),d.Hc(113,"\n\n                "),d.Fc(114,He,3,3,"mat-error",5),d.Hc(115,"\n              "),d.Sb(),d.Hc(116,"\n            "),d.Sb(),d.Hc(117,"\n          "),d.Sb(),d.Hc(118,"\n          "),d.Tb(119,"div",20),d.Hc(120,"\n            "),d.Tb(121,"div",21),d.Hc(122,"\n              "),d.Tb(123,"mat-form-field",35),d.Hc(124,"\n                "),d.Tb(125,"mat-label"),d.Hc(126),d.fc(127,"translate"),d.Sb(),d.Hc(128,"\n                "),d.Ob(129,"textarea",36),d.fc(130,"translate"),d.Hc(131,"\n                "),d.Fc(132,Se,3,3,"mat-error",5),d.Hc(133,"\n              "),d.Sb(),d.Hc(134,"\n            "),d.Sb(),d.Hc(135,"\n          "),d.Sb(),d.Hc(136,"\n          "),d.Tb(137,"div",37),d.Hc(138,"\n            "),d.Tb(139,"div",38),d.Hc(140,"\n              "),d.Tb(141,"div",20),d.Hc(142,"\n                "),d.Tb(143,"div",39),d.Hc(144,"\n                  "),d.Tb(145,"mat-form-field",40),d.Hc(146,"\n                    "),d.Tb(147,"mat-label"),d.Hc(148,"Filter"),d.Sb(),d.Hc(149,"\n                    "),d.Tb(150,"input",41),d.ac("keyup",(function(e){return d.vc(n),d.ec(2).filterMatTable(e)})),d.Sb(),d.Hc(151,"\n                  "),d.Sb(),d.Hc(152,"\n                "),d.Sb(),d.Hc(153,"\n                "),d.Tb(154,"div",42),d.Hc(155,"\n                  "),d.Tb(156,"mat-form-field",43),d.Hc(157,"\n                    "),d.Tb(158,"mat-label"),d.Hc(159,"Category"),d.Sb(),d.Hc(160,"\n                    "),d.Tb(161,"mat-select"),d.Hc(162,"\n                      "),d.Tb(163,"mat-option"),d.Hc(164,"\n                        UI Team\n                      "),d.Sb(),d.Hc(165,"\n                      "),d.Tb(166,"mat-option"),d.Hc(167,"\n                        Designer Team\n                      "),d.Sb(),d.Hc(168,"\n                      "),d.Tb(169,"mat-option"),d.Hc(170,"\n                        Development Team\n                      "),d.Sb(),d.Hc(171,"\n                    "),d.Sb(),d.Hc(172,"\n                  "),d.Sb(),d.Hc(173,"\n                "),d.Sb(),d.Hc(174,"\n              "),d.Sb(),d.Hc(175,"\n              "),d.Tb(176,"table",44),d.Hc(177,"\n                "),d.Hc(178,"\n                "),d.Rb(179,45),d.Hc(180,"\n                  "),d.Fc(181,Te,5,2,"th",46),d.Hc(182,"\n                  "),d.Fc(183,we,5,1,"td",47),d.Hc(184,"\n                "),d.Qb(),d.Hc(185,"\n\n                "),d.Hc(186,"\n                "),d.Rb(187,48),d.Hc(188,"\n                  "),d.Fc(189,ye,2,0,"th",49),d.Hc(190,"\n                  "),d.Fc(191,_e,2,1,"td",50),d.Hc(192,"\n                "),d.Qb(),d.Hc(193,"\n\n                "),d.Hc(194,"\n                "),d.Rb(195,51),d.Hc(196,"\n                  "),d.Fc(197,ke,2,0,"th",49),d.Hc(198,"\n                  "),d.Fc(199,Ie,4,1,"td",52),d.Hc(200,"\n                "),d.Qb(),d.Hc(201,"\n\n                "),d.Fc(202,xe,1,0,"tr",53),d.Hc(203,"\n                "),d.Fc(204,Ce,2,0,"tr",54),d.Hc(205,"\n              "),d.Sb(),d.Hc(206,"\n            "),d.Sb(),d.Hc(207,"\n          "),d.Sb(),d.Hc(208,"\n          "),d.Hc(209,"\n        "),d.Sb(),d.Hc(210,"\n        "),d.Tb(211,"div",55),d.Hc(212,"\n          "),d.Fc(213,Be,6,3,"button",56),d.Hc(214,"\n\n          "),d.Fc(215,De,9,4,"button",57),d.Hc(216,"\n        "),d.Sb(),d.Hc(217,"\n      "),d.Sb()}if(2&e){var i=d.rc(56),r=d.rc(95),c=d.ec(2);d.kc("formGroup",c.form)("dir",c.rtlDirection?"rtl":"ltr"),d.Bb(10),d.lc("placeholder",d.gc(11,30,"events_handler.form.event_name")),d.Bb(4),d.Jc("\n                  ",d.gc(15,32,"events_handler.form.event_name"),"\n                "),d.Bb(3),d.kc("ngIf",!c.form.get("name").valid&&c.form.get("name").touched),d.Bb(12),d.Ic(d.gc(30,34,"events_handler.form.action_type")),d.Bb(5),d.kc("ngForOf",c.actionTypeList),d.Bb(5),d.kc("ngIf",c.actionTypeJobList.length),d.Bb(10),d.Ic(d.gc(50,36,"events_handler.form.start_at")),d.Bb(3),d.lc("placeholder",d.gc(53,38,"events_handler.form.start_at")),d.kc("matDatepicker",i),d.Bb(8),d.kc("ngIf",!c.form.get("startDate").value),d.Bb(2),d.kc("ngIf",c.form.get("startDate").value>c.form.get("endDate").value),d.Bb(10),d.Ic(d.gc(73,40,"events_handler.form.start_time")),d.Bb(5),d.kc("ngForOf",c.hours),d.Bb(3),d.kc("ngIf",!c.form.get("startTime").valid&&c.form.get("startTime").touched),d.Bb(9),d.Ic(d.gc(90,42,"events_handler.form.stop_at")),d.Bb(3),d.kc("matDatepicker",r),d.Bb(5),d.kc("ngIf",!c.form.get("endDate").valid&&c.form.get("endDate").touched),d.Bb(9),d.Ic(d.gc(107,44,"events_handler.form.stop_time")),d.Bb(5),d.kc("ngForOf",c.hours),d.Bb(3),d.kc("ngIf",!c.form.get("endTime").valid&&c.form.get("endTime").touched),d.Bb(12),d.Ic(d.gc(127,46,"events_handler.form.event_description")),d.Bb(3),d.lc("placeholder",d.gc(130,48,"events_handler.form.event_description")),d.Bb(3),d.kc("ngIf",!c.form.get("name").valid&&c.form.get("name").touched),d.Bb(44),d.kc("dataSource",c.dataSource),d.Bb(26),d.kc("matHeaderRowDef",c.displayedColumns),d.Bb(2),d.kc("matRowDefColumns",c.displayedColumns),d.Bb(9),d.kc("ngIf",c.editable||"detail"!==c.data.action),d.Bb(2),d.kc("ngIf",c.editable)}}function Oe(e,t){1&e&&(d.Tb(0,"span"),d.Hc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Bb(1),d.Ic(d.gc(2,1,"events_handler.form.no_users")))}var Pe=function(e){return{"justify-content-end":e}};function Fe(e,t){if(1&e&&(d.Tb(0,"mat-list"),d.Hc(1,"\n                  "),d.Tb(2,"mat-list-item",82),d.Hc(3,"\n                    "),d.Tb(4,"mat-icon",83),d.Hc(5,"done\n                    "),d.Sb(),d.Hc(6),d.Sb(),d.Hc(7,"\n                "),d.Sb()),2&e){var n=t.$implicit,i=d.ec(4);d.Bb(4),d.kc("ngClass",d.nc(2,Pe,i.rtlDirection)),d.Bb(2),d.Jc("\n                    ",n.name,"\n                  ")}}function Ne(e,t){if(1&e&&(d.Rb(0),d.Hc(1,"\n                "),d.Fc(2,Fe,8,4,"mat-list",81),d.Hc(3,"\n              "),d.Qb()),2&e){var n=d.ec(3);d.Bb(2),d.kc("ngForOf",n.data.eventItems.users)}}function Re(e,t){if(1&e&&(d.Tb(0,"div"),d.Hc(1,"\n        "),d.Tb(2,"section",74),d.Hc(3,"\n          "),d.Tb(4,"mat-label",75),d.Hc(5,"\n            "),d.Tb(6,"mat-icon",76),d.Hc(7,"calendar_today\n            "),d.Sb(),d.Hc(8,"\n            "),d.Tb(9,"span"),d.Hc(10),d.fc(11,"translate"),d.Sb(),d.Hc(12,"\n          "),d.Sb(),d.Hc(13,"\n          "),d.Tb(14,"div",77),d.Hc(15),d.Sb(),d.Hc(16,"\n        "),d.Sb(),d.Hc(17,"\n        "),d.Tb(18,"div",20),d.Hc(19,"\n          "),d.Tb(20,"section",78),d.Hc(21,"\n            "),d.Tb(22,"mat-label",75),d.Hc(23,"\n              "),d.Tb(24,"mat-icon",76),d.Hc(25,"assignment_turned_in\n              "),d.Sb(),d.Hc(26,"\n              "),d.Tb(27,"span"),d.Hc(28),d.fc(29,"translate"),d.Sb(),d.Hc(30,"\n            "),d.Sb(),d.Hc(31,"\n            "),d.Tb(32,"div",77),d.Hc(33),d.Sb(),d.Hc(34,"\n          "),d.Sb(),d.Hc(35,"\n          "),d.Tb(36,"section",79),d.Hc(37,"\n            "),d.Tb(38,"mat-label",75),d.Hc(39,"\n              "),d.Tb(40,"mat-icon",76),d.Hc(41,"build_circle\n              "),d.Sb(),d.Hc(42,"\n              "),d.Tb(43,"span"),d.Hc(44),d.fc(45,"translate"),d.Sb(),d.Hc(46,"\n            "),d.Sb(),d.Hc(47,"\n            "),d.Tb(48,"div",77),d.Hc(49),d.Sb(),d.Hc(50,"\n          "),d.Sb(),d.Hc(51,"\n        "),d.Sb(),d.Hc(52,"\n\n        "),d.Tb(53,"div",20),d.Hc(54,"\n          "),d.Tb(55,"section",78),d.Hc(56,"\n            "),d.Tb(57,"mat-label",75),d.Hc(58,"\n              "),d.Tb(59,"mat-icon",76),d.Hc(60,"today\n              "),d.Sb(),d.Hc(61,"\n              "),d.Tb(62,"span"),d.Hc(63),d.fc(64,"translate"),d.Sb(),d.Hc(65,"\n            "),d.Sb(),d.Hc(66,"\n            "),d.Tb(67,"div",77),d.Hc(68),d.fc(69,"jalali"),d.Sb(),d.Hc(70,"\n          "),d.Sb(),d.Hc(71,"\n          "),d.Tb(72,"section",79),d.Hc(73,"\n            "),d.Tb(74,"mat-label",75),d.Hc(75,"\n              "),d.Tb(76,"mat-icon",76),d.Hc(77,"access_time\n              "),d.Sb(),d.Hc(78,"\n              "),d.Tb(79,"span"),d.Hc(80),d.fc(81,"translate"),d.Sb(),d.Hc(82,"\n            "),d.Sb(),d.Hc(83,"\n            "),d.Tb(84,"div",77),d.Hc(85),d.Sb(),d.Hc(86,"\n          "),d.Sb(),d.Hc(87,"\n        "),d.Sb(),d.Hc(88,"\n\n        "),d.Tb(89,"div",20),d.Hc(90,"\n          "),d.Tb(91,"section",80),d.Hc(92,"\n            "),d.Tb(93,"mat-label",75),d.Hc(94,"\n              "),d.Tb(95,"mat-icon",76),d.Hc(96,"description\n              "),d.Sb(),d.Hc(97,"\n              "),d.Tb(98,"span"),d.Hc(99),d.fc(100,"translate"),d.Sb(),d.Hc(101,"\n            "),d.Sb(),d.Hc(102,"\n            "),d.Tb(103,"div",77),d.Hc(104),d.Sb(),d.Hc(105,"\n          "),d.Sb(),d.Hc(106,"\n        "),d.Sb(),d.Hc(107,"\n\n        "),d.Tb(108,"div",20),d.Hc(109,"\n          "),d.Tb(110,"section",80),d.Hc(111,"\n            "),d.Tb(112,"mat-label",75),d.Hc(113,"\n              "),d.Tb(114,"mat-icon",76),d.Hc(115,"person\n              "),d.Sb(),d.Hc(116,"\n              "),d.Tb(117,"span"),d.Hc(118),d.fc(119,"translate"),d.Sb(),d.Hc(120,"\n            "),d.Sb(),d.Hc(121,"\n            "),d.Tb(122,"div",77),d.Hc(123,"\n              "),d.Fc(124,Oe,3,3,"span",5),d.Hc(125,"\n              "),d.Fc(126,Ne,4,1,"ng-container",5),d.Hc(127,"\n            "),d.Sb(),d.Hc(128,"\n          "),d.Sb(),d.Hc(129,"\n        "),d.Sb(),d.Hc(130,"\n      "),d.Sb()),2&e){var n=d.ec(2);d.Bb(6),d.kc("ngClass",d.nc(40,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(11,24,"events_handler.form.event_name")),d.Bb(5),d.Ic(n.data.eventItems.name),d.Bb(5),d.kc("ngClass",n.rtlDirection?"margin-r-full":"margin-l-full"),d.Bb(4),d.kc("ngClass",d.nc(42,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(29,26,"events_handler.form.action_type")),d.Bb(5),d.Ic(n.data.eventItems.actionType.actionDescription),d.Bb(7),d.kc("ngClass",d.nc(44,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(45,28,"events_handler.form.action_job_type")),d.Bb(5),d.Ic(n.data.eventItems.actionTypeJobModel.description),d.Bb(6),d.kc("ngClass",n.rtlDirection?"margin-r-full":"margin-l-full"),d.Bb(4),d.kc("ngClass",d.nc(46,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(64,30,"events_handler.form.start_at")),d.Bb(5),d.Ic(d.gc(69,32,n.dateTimeService.formatDate(n.data.eventItems.startDate))),d.Bb(8),d.kc("ngClass",d.nc(48,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(81,34,"events_handler.form.start_time")),d.Bb(5),d.Ic(n.dateTimeService.formatTime(n.data.eventItems.startDate)),d.Bb(10),d.kc("ngClass",d.nc(50,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(100,36,"events_handler.form.event_description")),d.Bb(5),d.Ic(n.data.eventItems.description),d.Bb(10),d.kc("ngClass",d.nc(52,Pe,n.rtlDirection)),d.Bb(4),d.Ic(d.gc(119,38,"events_handler.form.users")),d.Bb(6),d.kc("ngIf",!n.data.eventItems.users.length),d.Bb(2),d.kc("ngIf",n.data.eventItems.users.length)}}function Ee(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",90),d.ac("click",(function(){return d.vc(n),d.ec(3).openAddReminderDialog()})),d.Hc(1,"\n          "),d.Tb(2,"mat-icon",73),d.Hc(3,"add"),d.Sb(),d.Hc(4,"\n          "),d.Tb(5,"span",71),d.Hc(6),d.fc(7,"translate"),d.Sb(),d.Hc(8,"\n        "),d.Sb()}if(2&e){var i=d.ec(3);d.kc("ngClass",i.rtlDirection?"float-left":"float-right"),d.Bb(6),d.Ic(d.gc(7,2,"events_handler.main.add_new_reminder"))}}function Ae(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",16),d.ac("click",(function(e){d.vc(n);var t=d.ec().$implicit;return d.ec(3).deleteReminder(e,t)})),d.Hc(1,"\n            "),d.Tb(2,"mat-icon",8),d.Hc(3,"delete"),d.Sb(),d.Hc(4,"\n          "),d.Sb()}}function Le(e,t){1&e&&d.Ob(0,"mat-divider",96),2&e&&d.kc("inset",!0)}function Ue(e,t){if(1&e&&(d.Tb(0,"a",91),d.Hc(1,"\n          "),d.Fc(2,Ae,5,0,"button",9),d.Hc(3,"\n          "),d.Tb(4,"mat-icon",92),d.Hc(5,"calendar_today"),d.Sb(),d.Hc(6,"\n          "),d.Tb(7,"p",93),d.Hc(8),d.Sb(),d.Hc(9,"\n          "),d.Tb(10,"div",94),d.Hc(11),d.fc(12,"jalali"),d.Sb(),d.Hc(13,"\n          "),d.Fc(14,Le,1,1,"mat-divider",95),d.Hc(15,"\n        "),d.Sb()),2&e){var n=t.$implicit,i=t.last,r=d.ec(3);d.Bb(2),d.kc("ngIf",r.data.eventItems),d.Bb(6),d.Ic(n.description),d.Bb(3),d.Ic(d.hc(12,4,n.startReminder,r.rtlDirection)),d.Bb(3),d.kc("ngIf",!i)}}function Je(e,t){if(1&e&&(d.Tb(0,"div",84),d.Hc(1,"\n      "),d.Tb(2,"div",85),d.Hc(3,"\n        "),d.Tb(4,"h3",86),d.Hc(5),d.fc(6,"translate"),d.Sb(),d.Hc(7,"\n        "),d.Fc(8,Ee,9,4,"button",87),d.Hc(9,"\n      "),d.Sb(),d.Hc(10,"\n      "),d.Tb(11,"mat-nav-list",88),d.Hc(12,"\n        "),d.Fc(13,Ue,16,7,"a",89),d.Hc(14,"\n      "),d.Sb(),d.Hc(15,"\n    "),d.Sb()),2&e){var n=d.ec(2);d.kc("ngClass",n.rtlDirection?"float-left":"float-right"),d.Bb(4),d.kc("ngClass",n.rtlDirection?"float-right":"float-left"),d.Bb(1),d.Ic(d.gc(6,5,"events_handler.main.reminder_title")),d.Bb(3),d.kc("ngIf",n.data.eventItems),d.Bb(5),d.kc("ngForOf",n.data.eventItems.reminders)}}var ze=function(e,t){return[e,t]};function je(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",1),d.Hc(1,"\n  "),d.Tb(2,"div",2),d.Hc(3,"\n    "),d.Tb(4,"h1",3),d.Hc(5,"\n      "),d.Fc(6,ce,3,3,"span",4),d.Hc(7,"\n      "),d.Fc(8,ae,4,2,"span",5),d.Hc(9,"\n    "),d.Sb(),d.Hc(10,"\n\n    "),d.Tb(11,"div",6),d.Hc(12,"\n      "),d.Tb(13,"button",7),d.ac("click",(function(e){return d.vc(n),d.ec().cancelBtn(e)})),d.Hc(14,"\n        "),d.Tb(15,"mat-icon",8),d.Hc(16,"close"),d.Sb(),d.Hc(17,"\n      "),d.Sb(),d.Hc(18,"\n      "),d.Fc(19,oe,5,0,"button",9),d.Hc(20,"\n      "),d.Fc(21,se,5,0,"button",10),d.Hc(22,"\n    "),d.Sb(),d.Hc(23,"\n  "),d.Sb(),d.Hc(24,"\n\n  "),d.Tb(25,"div",11),d.Hc(26,"\n    "),d.Tb(27,"div",12),d.Hc(28,"\n      "),d.Fc(29,Me,218,50,"form",13),d.Hc(30,"\n      "),d.Fc(31,Re,131,54,"div",5),d.Hc(32,"\n    "),d.Sb(),d.Hc(33,"\n    "),d.Fc(34,Je,16,7,"div",14),d.Hc(35,"\n  "),d.Sb(),d.Hc(36,"\n"),d.Sb()}if(2&e){var i=d.ec();d.kc("dir",i.rtlDirection?"rtl":"ltr"),d.Bb(6),d.kc("ngIf",!i.data.eventItems),d.Bb(2),d.kc("ngIf",i.data.eventItems),d.Bb(11),d.kc("ngIf",i.data.eventItems&&i.data.eventItems.creatorUser.email==i.loggedInUser.email),d.Bb(2),d.kc("ngIf",i.data.eventItems&&i.data.eventItems.creatorUser.email==i.loggedInUser.email),d.Bb(6),d.kc("ngClass",d.oc(9,ze,i.rtlDirection?"float-right":"float-left",i.data.eventItems?"event-form-container":"full-width")),d.Bb(2),d.kc("ngIf",i.form&&i.data.eventItems&&i.data.eventItems.creatorUser.email==i.loggedInUser.email||i.form&&!i.data.eventItems),d.Bb(2),d.kc("ngIf",i.data.eventItems&&i.data.eventItems.creatorUser.email!=i.loggedInUser.email),d.Bb(3),d.kc("ngIf",i.data.eventItems)}}var qe=function(e){function t(t,n,i,r,c,a,s,l,d,b,f,u,m){var p=e.call(this,l,m)||this;return p.dialog=t,p.dateTimeService=n,p.api=i,p.eventApi=r,p.fb=c,p.viewDirection=a,p.eventHandlerService=s,p.injector=l,p.eventHandlerSocketService=d,p.translateService=b,p.messageService=f,p.windowManagerService=u,p.userInfoService=m,p.editable=!1,p.usersList=[],p.usersListDone=[],p.displayedColumns=["select","name","symbol"],p.dataSource=null,p.selection=new K.c(!0,[]),p.actionTypeList=[],p.actionTypeJobList=[],p.hours=k,p.socket=null,p._subscription=new o.Subscription,p._subscription.add(p.viewDirection.currentDirection.subscribe((function(e){return p.rtlDirection=e}))),p._subscription.add(p.eventHandlerService.currentEventItems.subscribe((function(e){null==e&&p.bottomSheetData&&(p.bottomSheetData.bottomSheetRef.close(),p.refreshEvents())}))),p}return ie(t,e),t.prototype.onKeydownHandler=function(){this.bottomSheetData.bottomSheetRef.close()},t.prototype.ngOnInit=function(){var e=this;this.data=this.bottomSheetData.data,this.createForm().then((function(){e.data.eventItems?(e.editable=!1,e.form.disable()):(e.form.enable(),e.editable=!0)})),this._subscription.add(this.api.getHRUsers().subscribe((function(t){t.success&&(e.usersList=t.data,e.dataSource=new Q.k(e.usersList),e.data.eventItems&&e.data.eventItems.users&&e.dataSource.data.forEach((function(t){e.data.eventItems.users.forEach((function(n){n.email==t.email&&(t.phoneNumber=n.phoneNumber,e.selection.select(t))}))})),e.form.patchValue({users:e.data.eventItems?e.data.eventItems.users:[]}))}))),this._subscription.add(this.eventApi.getAllActionType().subscribe((function(t){if(200==t.status&&(e.actionTypeList=t.content,e.data.eventItems)){e.actionTypeJobList=e.data.eventItems.actionType.actionTypeJobModels;var n=e.actionTypeList.filter((function(t){return t.id===e.data.eventItems.actionType.id})).pop();if(e.form.patchValue({actionType:n}),e.data.eventItems.actionTypeJobModel){var i=e.actionTypeJobList.filter((function(t){var n;return t.id===(null===(n=e.data.eventItems.actionTypeJobModel)||void 0===n?void 0:n.id)})).pop();e.form.patchValue({actionTypeJobModel:i})}}})))},t.prototype.drop=function(e){e.previousContainer===e.container?Object(f.e)(e.container.data,e.previousIndex,e.currentIndex):Object(f.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)},t.prototype.isAllSelected=function(){return this.selection.selected.length===this.dataSource.data.length},t.prototype.masterToggle=function(){var e=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach((function(t){return e.selection.select(t)}))},t.prototype.filterMatTable=function(e){this.dataSource.filter=e.target.value},t.prototype.transferToRight=function(e){this.form.patchValue({users:re(this.form.get("users").value,[e])}),this.usersList=this.usersList.filter((function(t){return t!==e}))},t.prototype.transferToLeft=function(e){this.usersList.push(e),this.form.patchValue({users:this.form.get("users").value.filter((function(t){return t!==e}))})},t.prototype.editUser=function(e,t,n){void 0===n&&(n=""),t.stopPropagation(),e.editable="close"!=n&&"submit"!=n,e.phoneNumber="submit"==n&&e.phoneNumberTemp?e.phoneNumberTemp:e.phoneNumber},t.prototype.onKeyPhoneNumber=function(e,t){e.phoneNumber=t.target.value},t.prototype.enableForm=function(){this.form.enable(),this.editable=!0},t.prototype.deleteReminder=function(e,t){var n=this;e.stopPropagation(),this.form.disable(),this.editable=!1;var i=this.dialog.open(q.a,{data:{title:this.getTranslate("events_handler.reminder_detail.delete_title"),message:this.getTranslate("events_handler.reminder_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(i.id),this._subscription.add(i.afterClosed().subscribe((function(e){e&&n.eventApi.deleteReminderById(t.id).subscribe((function(e){200==e.status&&"successful"==e.result?(n.refreshEvents(),n.bottomSheetData.bottomSheetRef.close(),n.messageService.showMessage(n.getTranslate("events_handler.form.add_reminder_successful"))):n.messageService.showMessage(n.getTranslate("events_handler.form.delete_reminder_successful"))}))})))},t.prototype.deleteEvent=function(){var e=this;this.form.disable(),this.editable=!1;var t=this.dialog.open(q.a,{data:{title:this.getTranslate("events_handler.event_detail.delete_title"),message:this.getTranslate("events_handler.event_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(t.id),this._subscription.add(t.afterClosed().subscribe((function(t){t&&e.eventApi.deleteEventById(e.data.eventItems.id).subscribe((function(t){200==t.status&&"successful"==t.result?(e.refreshEvents(),e.bottomSheetData.bottomSheetRef.close(),e.messageService.showMessage(e.getTranslate("events_handler.form.delete_event_successful"))):e.messageService.showMessage(e.getTranslate("events_handler.form.delete_event_error"))}))})))},t.prototype.onChangeAction=function(e){e.value.actionTypeJobModels.length?this.actionTypeJobList=e.value.actionTypeJobModels:(this.actionTypeJobList=[],this.form.get("actionTypeJobModel").setValue([]))},t.prototype.submit=function(){var e=this,t=this.form.value;t.creatorUser=this.loggedInUser,t.startDate=this.dateTimeService.convertToGMT(this.form.value.startDate,this.form.value.startTime),t.endDate=this.dateTimeService.convertToGMT(this.form.value.endDate,this.form.value.endTime),t.users=this.selection.selected,delete t.actionType.actionTypeJobModels,delete t.actionType.actionDescription,delete t.actionTypeJobModel.description,delete t.endDate,t.id?this._subscription.add(this.eventApi.deleteEventById(t.id).subscribe((function(n){"successful"==n.result?e.addNewEvent(t,!0):e.messageService.showMessage(e.getTranslate("events_handler.form.update_event_error"))}))):this.addNewEvent(t)},t.prototype.addNewEvent=function(e,t){var n=this;void 0===t&&(t=!1),this._subscription.add(this.eventApi.addNewEvent(e).subscribe((function(e){if("successful"==e.result){var i=n.getTranslate(t?"events_handler.form.update_event_successful":"events_handler.form.add_event_successful");n.messageService.showMessage(i),n.refreshEvents()}else n.messageService.showMessage(n.getTranslate("events_handler.form.delete_event_error"))})))},t.prototype.cancelBtn=function(e){this.form.disable(),this.editable=!1,e&&("detail"===this.data.action&&this.editable||this.bottomSheetData.bottomSheetRef.close())},t.prototype.refreshEvents=function(){var e=this;this.eventHandlerSocketService.getEventsByEmail(this.loggedInUser).then((function(t){e._subscription.add(),e.bottomSheetData.bottomSheetRef.close()}))},t.prototype.selectCurrentTime=function(){var e=new Date,t=e.getHours()<10?"0"+e.getHours():e.getHours(),n=e.getMinutes(),i="";return n<15?i="00":n>=15&&n<30||n>=30&&n<45?i="15":n>=45&&(i="45"),t+":"+i},t.prototype.createForm=function(){var e=this;return new Promise((function(t){var n,i,r,c,a=e.dateTimeService.formatDate(e.data.eventItems?null===(n=e.data.eventItems)||void 0===n?void 0:n.startDate:e.data.currentDate.toLocaleDateString()),o=e.dateTimeService.formatDate(e.data.eventItems?null===(i=e.data.eventItems)||void 0===i?void 0:i.endDate:e.data.currentDate.toLocaleDateString()),s=e.data.eventItems?e.dateTimeService.formatTime(null===(r=e.data.eventItems)||void 0===r?void 0:r.startDate):e.selectCurrentTime(),l=e.data.eventItems?e.dateTimeService.formatTime(null===(c=e.data.eventItems)||void 0===c?void 0:c.endDate):e.selectCurrentTime();e.form=e.fb.group({users:new v.e(e.data.eventItems?e.data.eventItems.users:[]),id:new v.e(e.data.eventItems?e.data.eventItems.id:0),name:new v.e(e.data.eventItems?e.data.eventItems.name:"",v.u.required),startDate:new v.e(a,v.u.required),startTime:new v.e(s,v.u.required),endDate:new v.e(o,v.u.required),endTime:new v.e(l,v.u.required),description:new v.e(e.data.eventItems?e.data.eventItems.description:"",v.u.required),actionType:new v.e(e.data.eventItems?e.data.eventItems.actionType:[],v.u.required),actionTypeJobModel:new v.e(e.data.eventItems?e.data.eventItems.actionTypeJobModel:[],v.u.required)}),t(!0)}))},t.prototype.dateToGregorian=function(e,t){this.form.get(e).setValue(y(t.value._d).format("YYYY-MM-DD"))},t.prototype.openAddReminderDialog=function(){var e=this.dialog.open(j,{data:{action:"add",eventItems:this.data.eventItems,rtlDirection:this.rtlDirection},autoFocus:!1,width:"30%",height:"330px"});this.windowManagerService.dialogOnTop(e.id)},t.prototype.getTranslate=function(e){return this.translateService.instant(e)},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(d.Nb(_.b),d.Nb(V.a),d.Nb(H.a),d.Nb(w),d.Nb(v.d),d.Nb(l.a),d.Nb(x.a),d.Nb(d.t),d.Nb(X),d.Nb(c.d),d.Nb(I.a),d.Nb(s.a),d.Nb(g.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["ng-component"]],hostBindings:function(e,t){1&e&&d.ac("keydown.escape",(function(e){return t.onKeydownHandler(e)}),!1,d.tc)},features:[d.yb],decls:2,vars:1,consts:[["class","full-page-size overflow-hide",3,"dir",4,"ngIf"],[1,"full-page-size","overflow-hide",3,"dir"],[1,"event-heading","clear-both","full-width","height-45","display-flex","flex-space-between"],[1,"no-margin","height-45","line-height-45","font-full-plus-one-tenth-em","text-eclipse","padding-r-l","text-pink-600","text-weight-500"],["class","text-gray-700",4,"ngIf"],[4,"ngIf"],[1,"display-flex","flex-direction-row-reverse"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-gray-600","no-padding",3,"click"],[1,"line-height-30"],["type","button","class","no-border cursor-pointer no-bg text-center width-45 height-45 text-danger no-padding",3,"click",4,"ngIf"],["type","button","class","no-border cursor-pointer no-bg text-center width-45 height-45 text-green-600 no-padding",3,"click",4,"ngIf"],[1,"full-width","height-full-minus-45"],[1,"full-height","padding-full","overflow-hide","pos-rel",3,"ngClass"],["class","full-height",3,"formGroup","dir","submit",4,"ngIf"],["class","event-todo-container full-height padding-mini-t-b pos-rel",3,"ngClass",4,"ngIf"],[1,"text-gray-700"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-danger","no-padding",3,"click"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-green-600","no-padding",3,"click"],[1,"full-height",3,"formGroup","dir","submit"],[1,"height-full-minus-45","overflow-x-hide","overflow-y-auto","full-width"],[1,"display-flex","margin-r-l-reverse"],[1,"full-width","padding-r-l"],[1,"full-width","font-9-em"],["matInput","","type","text","formControlName","name","required","","tabindex","1",1,"full-width",3,"placeholder"],[1,"half-width","padding-r-l"],["formControlName","actionType","required","","tabIndex","5",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","half-width padding-r-l",4,"ngIf"],["matInput","","readonly","","formControlName","startDate","tabindex","8","required","",3,"matDatepicker","placeholder","focus","click","dateChange"],["picker1",""],["formControlName","startTime","tabIndex","9","required",""],[1,"quarter-width","padding-r-l","display-none"],["matInput","","readonly","","formControlName","endDate","tabindex","10",3,"matDatepicker","focus","click","dateChange"],["picker2",""],["formControlName","endTime","tabIndex","11"],[1,"full-width","height-80","font-9-em"],["matInput","","formControlName","description","required","","tabindex","12",3,"placeholder"],[1,"full-width","display-flex",2,"height","290px","overflow","overlay"],[1,"full-width","bg-grey","border-grey","padding-full"],[1,"half-width","padding-l-full","padding-r-full"],["appearance","fill",1,"font-8-em","full-width","custom-select-search"],["type","search","matInput","","value","",3,"keyup"],[1,"half-width","padding-l-full"],["appearance","fill",1,"font-7-em","full-width","custom-select-search"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","select"],["class","padding-l-full","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","padding-l-full",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","symbol"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button","class","no-bg no-border cursor-pointer text-red-500 line-height-30 font-9-em overflow-hide text-weight-normal",3,"click",4,"ngIf"],["mat-raised-button","","type","submit","tabindex","13","class","green-gradient text-white line-height-30 font-9-em overflow-hide text-weight-normal",3,"disabled",4,"ngIf"],[3,"value"],["formControlName","actionTypeJobModel","tabIndex","5","required",""],["mat-header-cell","",1,"padding-l-full"],[3,"checked","indeterminate","change"],["mat-cell","",1,"padding-l-full"],[3,"checked","click","change"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"click"],["type","tel","matInput","","placeholder","xxx-xxx-xx-xx",3,"value","click","keyup"],["mat-header-row",""],["mat-row","",3,"click"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-raised-button","","type","submit","tabindex","13",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"bg-grey","border-grey","round-corner","margin-b-full","padding-half"],[1,"display-flex","font-8-em","justify-content-start","align-items-center"],[1,"font-8-rem","display-flex","align-items-center",3,"ngClass"],[1,"font-full-plus-one-tenth-em"],[1,"half-width","round-corner","bg-grey","border-grey","margin-b-full","padding-half",3,"ngClass"],[1,"half-width","round-corner","bg-grey","border-grey","margin-b-full","padding-half","margin-r-full","margin-l-full"],[1,"full-width","round-corner","bg-grey","border-grey","margin-b-full","padding-half","margin-r-full","margin-l-full"],[4,"ngFor","ngForOf"],[1,"font-9-em","line-height-18","height-25"],[1,"font-7-rem","display-flex","align-items-center",3,"ngClass"],[1,"event-todo-container","full-height","padding-mini-t-b","pos-rel",3,"ngClass"],[1,"padding-full","margin-b-full-3"],["mat-subheader","",1,"no-padding",3,"ngClass"],["mat-raised-button","","class","green-gradient padding-mini-r-l text-white line-height-30 font-9-em overflow-hide text-weight-normal",3,"ngClass","click",4,"ngIf"],[1,"clear-both"],["mat-list-item","",4,"ngFor","ngForOf"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"ngClass","click"],["mat-list-item",""],["mat-list-icon","",1,"padding-r-half"],["mat-line",""],["mat-line","",1,"font-8-rem"],["class","full-width",3,"inset",4,"ngIf"],[1,"full-width",3,"inset"]],template:function(e,t){1&e&&(d.Fc(0,je,37,12,"div",0),d.Hc(1,"\n")),2&e&&d.kc("ngIf",t.data)},directives:[i.k,b.b,u.a,i.i,v.v,v.o,v.i,C.c,D.b,v.c,v.n,v.g,v.t,C.f,B.a,i.j,M.c,M.b,C.b,O.n,Q.j,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Z.a,Q.a,Q.f,Q.h,P.a,ee.a,ee.d,ee.f,ee.g,ee.c,O.k,te.a],pipes:[c.c,ne.a],styles:[".example-container[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:1px solid #ccc;height:240px;background:#fff;border-radius:4px;overflow:hidden;display:block;overflow-y:scroll}.example-box[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-box-padding[_ngcontent-%COMP%]{padding:10px}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.border-grey[_ngcontent-%COMP%]{border:1px solid #ececec}.full-page-size[_ngcontent-%COMP%]{width:100vw;height:90vh;max-width:100%;max-height:100%}.event-heading[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1}.event-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:450px}.event-form-container[_ngcontent-%COMP%], .event-report-container[_ngcontent-%COMP%]{width:60%}.event-activity-container[_ngcontent-%COMP%], .event-todo-container[_ngcontent-%COMP%]{width:40%;background-color:#f5f5f5}.event-file-container[_ngcontent-%COMP%]{height:155px;border-top:1px solid #ddd;background-color:#eee}"]}),t}(h.a),We=n("C5Dk"),Ge=n("eXWX");function Ve(e,t){1&e&&d.Ob(0,"mat-divider",10),2&e&&d.kc("inset",!0)}function Ye(e,t){if(1&e){var n=d.Ub();d.Tb(0,"a",5),d.ac("click",(function(e){d.vc(n);var i=t.$implicit;return d.ec().showEventHandlerWindow(i,e)})),d.Hc(1,"\n      "),d.Tb(2,"mat-icon",6),d.Hc(3,"calendar_today"),d.Sb(),d.Hc(4,"\n\n      "),d.Tb(5,"h5",7),d.Hc(6),d.Sb(),d.Hc(7,"\n\n      "),d.Tb(8,"p",8),d.Hc(9),d.Sb(),d.Hc(10,"\n      "),d.Fc(11,Ve,1,1,"mat-divider",9),d.Hc(12,"\n    "),d.Sb()}if(2&e){var i=t.$implicit,r=t.last,c=d.ec();d.Bb(6),d.Ic(i.name),d.Bb(3),d.Kc("\n        ",c.dateTimeService.formatTime(i.startDate)," - ",c.dateTimeService.formatDate(i.startDate),"\n      "),d.Bb(2),d.kc("ngIf",!r)}}var $e=function(){function e(e,t,n,i){this.dateTimeService=e,this.eventHandlerService=t,this.popoverRef=n,this.data=i}return e.prototype.showEventHandlerWindow=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),t&&t.stopPropagation(),this.data.serviceList){this.closeManually();var n=null;e&&(n=void 0!==e.startDate?new Date(e.startDate):e._d);var i=e&&void 0!==e.startDate?e:null,r=this.data.serviceList.filter((function(e){return"events_calendar"==e.service_name}));this.eventHandlerService.moveEvents(this.data.events),this.eventHandlerService.moveEventItems(i),this.eventHandlerService.moveDay(n),this.data.windowManagerService.openWindowState(r[0])}else this.closeManually(e)},e.prototype.closeManually=function(e){void 0===e&&(e=null),this.popoverRef.close(e)},e.\u0275fac=function(t){return new(t||e)(d.Nb(V.a),d.Nb(x.a),d.Nb(We.a),d.Nb(Ge.a,8))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-popover-content"]],decls:18,vars:6,consts:[[1,"width-180","padding-b-half","custom-popover",3,"dir"],[1,"padding-full","custom-badge","display-flex","flex-space-between"],[1,"round-corner-all","text-white"],[1,"event-list"],["mat-list-item","","class","padding-mini-r-l",3,"click",4,"ngFor","ngForOf"],["mat-list-item","",1,"padding-mini-r-l",3,"click"],["mat-list-icon","",1,"font-full-plus-one-tenth-rem"],["mat-line","",1,"font-9-em"],["mat-line","",1,"font-7-em"],["class","no-margin full-width",3,"inset",4,"ngIf"],[1,"no-margin","full-width",3,"inset"]],template:function(e,t){1&e&&(d.Tb(0,"section",0),d.Hc(1,"\n  "),d.Tb(2,"div",1),d.Hc(3,"\n    "),d.Tb(4,"span"),d.Hc(5),d.fc(6,"translate"),d.Sb(),d.Hc(7,"\n    "),d.Tb(8,"b",2),d.Hc(9),d.Sb(),d.Hc(10,"\n  "),d.Sb(),d.Hc(11,"\n  "),d.Tb(12,"mat-nav-list",3),d.Hc(13,"\n    "),d.Fc(14,Ye,13,4,"a",4),d.Hc(15,"\n  "),d.Sb(),d.Hc(16,"\n"),d.Sb(),d.Hc(17,"\n")),2&e&&(d.kc("dir",t.data.rtlDirection?"rtl":"ltr"),d.Bb(5),d.Ic(d.gc(6,4,"events_handler.main.event_count")),d.Bb(4),d.Ic(t.data.eventTemp.length),d.Bb(5),d.kc("ngForOf",t.data.eventTemp))},directives:[b.b,ee.g,i.j,ee.d,u.a,ee.c,O.k,i.k,te.a],pipes:[c.c],encapsulation:2}),e}(),Xe=n("XhcP"),Ke=n("jaxi"),Qe=n("TFyl"),Ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),et=function(){return(et=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tt=["drawer"],nt=["bottomSheet"],it=["myCalendar"];function rt(e,t){1&e&&(d.Tb(0,"div"),d.Hc(1,"\n                    "),d.Ob(2,"mat-calendar"),d.Hc(3,"\n                "),d.Sb())}function ct(e,t){if(1&e&&(d.Tb(0,"mat-list-item"),d.Hc(1,"\n                                "),d.Tb(2,"mat-icon",21),d.Hc(3,"access_alarm"),d.Sb(),d.Hc(4,"\n                                "),d.Tb(5,"div",22),d.Hc(6),d.Sb(),d.Hc(7,"\n                                "),d.Tb(8,"div",23),d.Hc(9),d.fc(10,"jalali"),d.Sb(),d.Hc(11,"\n                            "),d.Sb()),2&e){var n=t.$implicit,i=d.ec(3);d.Bb(6),d.Ic(n.description),d.Bb(3),d.Ic(d.hc(10,2,n.startReminder,i.rtlDirection))}}function at(e,t){if(1&e&&(d.Tb(0,"mat-list",16),d.Hc(1,"\n                        "),d.Tb(2,"div",17),d.Hc(3),d.fc(4,"translate"),d.Tb(5,"b",18),d.Hc(6),d.fc(7,"translate"),d.Sb(),d.Sb(),d.Hc(8,"\n                        "),d.Tb(9,"div",19),d.Hc(10,"\n                            "),d.Fc(11,ct,12,5,"mat-list-item",20),d.Hc(12,"\n                        "),d.Sb(),d.Hc(13,"\n                    "),d.Sb()),2&e){var n=d.ec(2);d.Bb(3),d.Jc("",d.gc(4,4,"dashboard.dashboard_toolbar.reminder")," "),d.Bb(3),d.Kc("",d.gc(7,6,"events_handler.main.reminder_count"),": ",n.events_reminders.reminders.length,""),d.Bb(5),d.kc("ngForOf",n.events_reminders.reminders)}}function ot(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",12),d.Hc(1,"\n                    "),d.Tb(2,"mat-calendar",13,14),d.ac("click",(function(e){return d.vc(n),d.ec().getPosition(e)}))("selectedChange",(function(e){return d.vc(n),d.ec().onSelect(e)})),d.Sb(),d.Hc(4,"\n                    "),d.Fc(5,at,14,8,"mat-list",15),d.Hc(6,"\n                "),d.Sb()}if(2&e){var i=d.ec();d.Bb(2),d.kc("dateClass",i.dateClass()),d.Bb(3),d.kc("ngIf",i.events_reminders&&i.events_reminders.reminders.length)}}function st(e,t){if(1&e){var n=d.Ub();d.Tb(0,"dp-day-calendar",29),d.ac("onSelect",(function(e){return d.vc(n),d.ec(2).onSelect(e)})),d.Sb()}if(2&e){var i=d.ec(2);d.kc("dir",i.rtlDirection?"rtl":"ltr")("config",i.datePickerConfig)}}function lt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",24),d.Hc(1,"\n        "),d.Tb(2,"button",25),d.ac("click",(function(e){return d.vc(n),d.ec().loadBottomSheet(e)})),d.Hc(3,"\n            "),d.Tb(4,"mat-icon",26),d.Hc(5,"add"),d.Sb(),d.Hc(6,"\n            "),d.Tb(7,"span",27),d.Hc(8),d.fc(9,"translate"),d.Sb(),d.Hc(10,"\n        "),d.Sb(),d.Hc(11,"\n        "),d.Fc(12,st,1,2,"dp-day-calendar",28),d.Hc(13,"\n    "),d.Sb()}if(2&e){var i=d.ec();d.kc("ngClass",i.rtlDirection?"ca-rtl":"ca-ltr"),d.Bb(8),d.Ic(d.gc(9,3,"events_handler.main.add_event_title")),d.Bb(4),d.kc("ngIf",i.showCalendar)}}var dt=function(e){function t(t,n,i,r,c,a,s,l,b,f,u,m,p){var h=e.call(this,i,r)||this;return h.dialog=t,h.api=n,h.injector=i,h.userInfoService=r,h.eventHandlerSocketService=c,h.viewDirection=a,h.taskCalendarService=s,h.dateTimeService=l,h.eventHandlerService=b,h.windowManagerService=f,h.popoverService=u,h.elemRef=m,h.translateService=p,h.triggerBottomSheet=new d.o,h.viewModeTypes="container",h.events_reminders={events:[],reminders:[]},h.holidays=[],h.calendarEvents=[],h.eventItems=null,h.eventTemp=[],h.showCalendar=!1,h.datePickerConfig={dayBtnCssClassCallback:function(e){h.dayBtnCssClassCallback(e)}},h.colorArray=["#4caf50"],h._subscription=new o.Subscription,h}return Ze(t,e),t.prototype.dayBtnCssClassCallback=function(e){var t=this;setTimeout((function(){var n=t.rtlDirection?e.locale("fa").format("YYYY/M/D"):e.locale("en").format("DD-MM-YYYY"),i=document.querySelector('.dp-calendar-day[data-date="'+n+'"]');if(i){var r=0;t.calendarEvents.map((function(t){t.start.toLocaleDateString()==e._d.toLocaleDateString()&&(r<1&&i.insertAdjacentHTML("beforeend","<div class='custom-event-box'>"+t.name+"</div>"),r++)})),r>1&&i.insertAdjacentHTML("beforeend","<div class='custom-event-count'>+"+r+"</div>")}}))},t.prototype.ngOnInit=function(){var e=this;this.getEvents(),this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){e.rtlDirection=t,e.setupCalendar()}))),this._subscription.add(this.eventHandlerService.currentEventsReminderList.subscribe((function(t){e.events_reminders.events=t.events,e.events_reminders.reminders=t.reminders,setTimeout((function(){e.calendar.updateTodaysDate(),e.prepareFullCalendar()}),1e3)}))),this._subscription.add(this.eventHandlerService.currentDate.subscribe((function(t){return e.currentDate=t}))),this._subscription.add(this.eventHandlerService.currentEventItems.subscribe((function(t){e.currentDate&&setTimeout((function(){e.eventItems=t,e.loadBottomSheet(e.eventItems)}),100)}))),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getAllHolidays().subscribe((function(t){t.content.forEach((function(t){e.holidays.push(t.date)}))})))},t.prototype.ngAfterViewInit=function(){this.prepareFullCalendar(),this.drawer.open()},t.prototype.changeViewMode=function(e){this.viewModeTypes=e},t.prototype.setupCalendar=function(){this.datePickerConfig.locale=this.rtlDirection?"fa":"en"},t.prototype.getEvents=function(){var e=this;this.eventHandlerSocketService.getEventsByEmail(this.loggedInUser).then((function(t){e._subscription.add(e.events_reminders=t)}))},t.prototype.prepareFullCalendar=function(){var e=this;this.events_reminders.events&&(this.events_reminders.events.map((function(t){t.title=t.name,t.start=new Date(t.startDate),t.end=new Date(t.endDate),t.color=e.colorArray[Math.floor(Math.random()*e.colorArray.length)]})),this.calendarEvents=this.events_reminders.events,this.showCalendar=!0),this.setupCalendar()},t.prototype.getPosition=function(e){this.popoverTarget=e.target},t.prototype.onSelect=function(e){var t=this,n=e.date&&"function"!=typeof e.date?e.date._d:e._d;this.eventTemp=this.events_reminders.events.filter((function(e){return new Date(e.startDate).toLocaleDateString()==n.toLocaleDateString()})),this.eventTemp.length?(this.popoverService.open($e,this.popoverTarget,{data:{eventTemp:this.eventTemp,events:this.events_reminders.events,serviceList:null,windowManagerService:null,rtlDirection:this.rtlDirection}}).afterClosed().subscribe((function(e){e&&t.loadBottomSheet(e)})),this.windowManagerService.dialogOnTop("popover")):(this.currentDate=n,this.loadBottomSheet(e))},t.prototype.nothing=function(e){e.jsEvent.preventDefault()},t.prototype.loadBottomSheetFromFullCalendar=function(e){var t=e.event._def.extendedProps;t=et(et({},t),{id:e.event.id}),this.loadBottomSheet(t)},t.prototype.loadBottomSheet=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),t&&t.stopPropagation();var n=e&&e.date&&e.date.constructor===Date?e.date:this.currentDate;this.currentDate=n||new Date;var i=void 0!==e.startDate?e:null,r="50%";i&&i.creatorUser.email==this.loggedInUser.email&&(r="80%"),this.triggerBottomSheet.emit({component:qe,height:"98%",width:r,data:{action:"add",eventItems:i,currentDate:this.currentDate,events:this.events_reminders.events}})},t.prototype.getTranslate=function(e){var t=this;return new Promise((function(n){n(t.translateService.instant(e))}))},t.prototype.dateClass=function(){var e=this;return function(t){return e.events_reminders.events.some((function(e){return new Date(e.startDate).toLocaleDateString()==t._d.toLocaleDateString()}))?"special-date":""}},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(d.Nb(_.b),d.Nb(m.a),d.Nb(d.t),d.Nb(g.a),d.Nb(X),d.Nb(l.a),d.Nb(p.a),d.Nb(V.a),d.Nb(x.a),d.Nb(s.a),d.Nb(Ge.b),d.Nb(d.l),d.Nb(c.d))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-events-handler-main"]],viewQuery:function(e,t){if(1&e&&(d.Mc(tt,!0),d.Mc(nt,!0),d.Mc(it,!0)),2&e){var n=void 0;d.qc(n=d.bc())&&(t.drawer=n.first),d.qc(n=d.bc())&&(t.bottomSheet=n.first),d.qc(n=d.bc())&&(t.calendar=n.first)}},inputs:{rtlDirection:"rtlDirection"},outputs:{triggerBottomSheet:"triggerBottomSheet"},features:[d.yb],decls:35,vars:12,consts:[["autosize","",1,"event-main-datepicker",3,"dir"],["mode","side",3,"disableClose"],["drawer",""],[1,"text-white","full-height"],[1,"datepicker-container-main","padding-full","full-height","round-corner",3,"ngClass","dir"],[1,"switch-container","height-45","padding-mini-t-b"],[1,"full-width","mat-button-custom","height-30","line-height-15","round-corner-all",3,"value","change"],["viewMode","matButtonToggleGroup"],[1,"active","overflow-hide","half-width","font-7-rem","line-height-15","height-30",3,"value"],[4,"ngIf"],["class","height-full-minus-45 display-flex flex-direction-column flex-space-between",4,"ngIf"],["class","padding-full full-height",3,"ngClass",4,"ngIf"],[1,"height-full-minus-45","display-flex","flex-direction-column","flex-space-between"],[1,"height-280",3,"dateClass","click","selectedChange"],["myCalendar",""],["class","event-list height-full-minus-280","style","height: calc(100% - 280px);",4,"ngIf"],[1,"event-list","height-full-minus-280",2,"height","calc(100% - 280px)"],["mat-subheader","",1,"height-45"],[1,"font-7-rem","padding-full"],[1,"height-full-minus-45","overflow-y-auto"],[4,"ngFor","ngForOf"],["mat-list-icon","",1,"font-full-plus-three-tenth-em"],["mat-line","",1,"font-8-em"],["mat-line","",1,"font-8-rem"],[1,"padding-full","full-height",3,"ngClass"],["mat-raised-button","","tabindex","15",1,"width-145","right-15","pos-abs","green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["class","custom-full-calendar","theme","dp-material",3,"dir","config","onSelect",4,"ngIf"],["theme","dp-material",1,"custom-full-calendar",3,"dir","config","onSelect"]],template:function(e,t){if(1&e){var n=d.Ub();d.Tb(0,"mat-drawer-container",0),d.Hc(1,"\n    "),d.Tb(2,"mat-drawer",1,2),d.Hc(4,"\n        "),d.Tb(5,"div",3),d.Hc(6,"\n            "),d.Tb(7,"div",4),d.Hc(8,"\n                "),d.Tb(9,"div",5),d.Hc(10,"\n                    "),d.Tb(11,"mat-button-toggle-group",6,7),d.ac("change",(function(){d.vc(n);var e=d.rc(12);return t.changeViewMode(e.value)})),d.Hc(13,"\n                        "),d.Tb(14,"mat-button-toggle",8),d.Hc(15,"\n                            "),d.Tb(16,"span"),d.Hc(17),d.fc(18,"translate"),d.Sb(),d.Hc(19,"\n                        "),d.Sb(),d.Hc(20,"\n                        "),d.Hc(21,"\n                    "),d.Sb(),d.Hc(22,"\n                "),d.Sb(),d.Hc(23,"\n\n                "),d.Fc(24,rt,4,0,"div",9),d.Hc(25,"\n\n                "),d.Fc(26,ot,7,2,"div",10),d.Hc(27,"\n            "),d.Sb(),d.Hc(28,"\n        "),d.Sb(),d.Hc(29,"\n    "),d.Sb(),d.Hc(30,"\n    "),d.Fc(31,lt,14,5,"div",11),d.Hc(32,"\n    "),d.Hc(33,"\n"),d.Sb(),d.Hc(34,"\n")}2&e&&(d.kc("dir",t.rtlDirection?"rtl":"ltr"),d.Bb(2),d.kc("disableClose",!0),d.Bb(5),d.kc("ngClass",t.rtlDirection?"float-right calendar-rtl":"float-left")("dir",t.rtlDirection?"rtl":"ltr"),d.Bb(4),d.kc("value",t.viewModeTypes),d.Bb(3),d.kc("value","container"),d.Bb(3),d.Ic(d.gc(18,10,"events_handler.main.container_calendar_title")),d.Bb(7),d.kc("ngIf","google"==t.viewModeTypes),d.Bb(2),d.kc("ngIf","container"==t.viewModeTypes),d.Bb(5),d.kc("ngIf","container"==t.viewModeTypes))},directives:[Xe.b,b.b,Xe.a,i.i,Ke.b,Ke.a,i.k,M.a,ee.a,ee.f,i.j,ee.d,u.a,ee.c,O.k,P.a,Qe.b],pipes:[c.c,ne.a],styles:[".fc-col-header[_ngcontent-%COMP%], .fc-daygrid-body[_ngcontent-%COMP%], .fc-daygrid-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%!important}.fc[_ngcontent-%COMP%]{font-family:inherit!important}.fc[_ngcontent-%COMP%]   .fc-daygrid-body[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .fc-scroller[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .fc-scrollgrid-section[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .fc-scrollgrid-section[_ngcontent-%COMP%]   .fc-scroller-harness[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .fc-scrollgrid-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:100%!important}.height-280[_ngcontent-%COMP%]{height:280px}.calendar-switcher[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.fc-day-number[_ngcontent-%COMP%]{padding:5px!important}.fc-view[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%], .fc-view[_ngcontent-%COMP%]   .fc-event-dot[_ngcontent-%COMP%]{border:none!important;margin:3px 10px!important;border-radius:5px!important;color:#fff!important;padding:3px 9px!important;font-size:13px!important;cursor:pointer;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.ca-rtl[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%], .ca-rtl[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%], .ca-rtl[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]{direction:rtl!important}.ca-ltr[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%], .ca-ltr[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%], .ca-ltr[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]{direction:ltr!important}.fc[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;padding:5px!important}.fc-button[_ngcontent-%COMP%]{background:none;color:#333;border:none;margin:0!important}.fc-button-primary[_ngcontent-%COMP%]:not(:disabled).fc-button-active, .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{border-radius:4px!important;background-image:linear-gradient(-20deg,#3949ab,#4fc3f7)!important}.fc-button-primary[_ngcontent-%COMP%]:hover{color:#3949ab;background:none;border:none}.fc-button-primary[_ngcontent-%COMP%]:disabled{color:#fff!important;background:#ccc}.fc-button-primary[_ngcontent-%COMP%]:not(:disabled).fc-button-active:focus, .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active:focus{box-shadow:none!important;background:none!important;color:#3949ab!important}.fc-day-grid-event[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{white-space:normal!important;display:flex}.fc-day-grid-event[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;line-height:20px;padding-left:5px!important;padding-right:5px!important;padding-bottom:5px!important}.fc-day-grid-event[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{display:none}a.fc-more[_ngcontent-%COMP%]{margin:3px 9px;font-size:.85em;cursor:pointer;text-decoration:none;background:#eee;border-radius:100%;width:25px;line-height:25px;display:block;text-align:center;border:1px solid #e6e6e6;font-weight:700;direction:ltr;color:#656565}"]}),t}(h.a),bt=["oBottomSheet"],ft=["container"],ut=function(){function e(e,t){this.renderer=e,this.cfr=t}return e.prototype.toggleBottomSheet=function(e,t){var n=this;void 0===t&&(t=!0),this.container.clear();var i=this.oBottomSheet.nativeElement.parentNode.parentNode,r=this.oBottomSheet.nativeElement;if(t){this.renderer.addClass(i,"active"),this.renderer.setStyle(r,"height",e.height),this.renderer.setStyle(r,"width",e.width),this.renderer.setStyle(i,"z-index","5");var c=this.cfr.resolveComponentFactory(e.component);this.container.createComponent(c).instance.bottomSheetData=e}else this.renderer.removeClass(i,"active"),this.renderer.setStyle(r,"height","0"),this.renderer.setStyle(r,"width","0"),setTimeout((function(){return n.renderer.setStyle(i,"z-index","-1")}),100)},e.prototype.close=function(e){this.toggleBottomSheet(null,!1)},e.\u0275fac=function(t){return new(t||e)(d.Nb(d.G),d.Nb(d.j))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-event-handler-bottom-sheet"]],viewQuery:function(e,t){if(1&e&&(d.Mc(bt,!0),d.Mc(ft,!0,d.R)),2&e){var n=void 0;d.qc(n=d.bc())&&(t.oBottomSheet=n.first),d.qc(n=d.bc())&&(t.container=n.first)}},decls:12,vars:0,consts:[[1,"o-bottom-sheet-container","full-width","full-height"],[1,"o-bottom-sheet-backdrop","full-width","full-height",3,"click"],[1,"o-bottom-sheet-content","overflow-hide","pos-abs","margin-auto","bottom-0","right-0","left-0","round-corner-top-left","round-corner-top-right"],["oBottomSheet",""],[1,"o-bottom-sheet-comp"],["container",""]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Hc(1,"\n  "),d.Tb(2,"div",1),d.ac("click",(function(){return t.close()})),d.Sb(),d.Hc(3,"\n\n  "),d.Tb(4,"div",2,3),d.Hc(6,"\n    "),d.Ob(7,"div",4,5),d.Hc(9,"\n  "),d.Sb(),d.Hc(10,"\n"),d.Sb(),d.Hc(11,"\n"))},styles:["[_nghost-%COMP%]{position:absolute;right:0;left:0;bottom:0;width:100%;height:100%;z-index:-1}[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{transition:background .2s!important;background:transparent}.active[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}[_nghost-%COMP%]   .o-bottom-sheet-content[_ngcontent-%COMP%]{transition:height .1s!important;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:transparent;height:0;width:0}"]}),e}(),mt=["bottomSheet"];function pt(e,t){if(1&e&&(d.Hc(0,"\n      "),d.Tb(1,"h3",12),d.Hc(2,"\n        "),d.Tb(3,"mat-icon",13),d.Hc(4),d.Sb(),d.Hc(5),d.Sb(),d.Hc(6,"\n    ")),2&e){var n=d.ec();d.Bb(3),d.kc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),d.Bb(1),d.Ic(n.data.icon),d.Bb(1),d.Jc("\n        ",n.rtlDirection?n.data.name_fa:n.data.name,"\n      ")}}function ht(e,t){if(1&e&&(d.Hc(0,"\n      "),d.Tb(1,"h3",14),d.Hc(2,"\n        "),d.Tb(3,"mat-icon",13),d.Hc(4),d.Sb(),d.Hc(5),d.Sb(),d.Hc(6,"\n    ")),2&e){var n=d.ec();d.Bb(3),d.kc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),d.Bb(1),d.Ic(n.data.icon),d.Bb(1),d.Jc("\n        ",n.rtlDirection?n.data.name_fa:n.data.name,"\n      ")}}function gt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",15),d.ac("click",(function(e){return d.vc(n),d.ec().minimize(),e.stopPropagation()})),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",8),d.Hc(3,"\n          minimize\n        "),d.Sb(),d.Hc(4,"\n      "),d.Sb()}}function vt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",7),d.ac("click",(function(e){return d.vc(n),d.ec().restore(),e.stopPropagation()})),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",8),d.Hc(3,"\n          filter_none\n        "),d.Sb(),d.Hc(4,"\n      "),d.Sb()}}function Ht(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",7),d.ac("click",(function(e){return d.vc(n),d.ec().maximize(),e.stopPropagation()})),d.Hc(1,"\n        "),d.Tb(2,"mat-icon",8),d.Hc(3,"\n          crop_square\n        "),d.Sb(),d.Hc(4,"\n      "),d.Sb()}}var St=function(){function e(e,t){var n=this;this.windowManagerService=e,this.viewDirection=t,this._subscription=new o.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(e){return n.rtlDirection=e})))}return e.prototype.ngOnInit=function(){var e=this;this._subscription.add(this.windowManagerService.windowsList.subscribe((function(t){e.windowInstance=t.filter((function(t){return t.windowService.service_name===e.data.service_name})).pop()})))},e.prototype.activeWindow=function(){this.windowManagerService.activeWindow(this.data)},e.prototype.minimize=function(){this.windowManagerService.minimizeWindow(this.data)},e.prototype.maximize=function(){this.windowManagerService.maximizeWindow(this.data)},e.prototype.restore=function(){this.windowManagerService.restoreWindow(this.data)},e.prototype.close=function(){this.windowManagerService.closeWindow(this.data)},e.prototype.centerWindow=function(){this.windowManagerService.centerWindow()},e.prototype.openButtonSheet=function(e){try{e.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(e)}catch(t){console.log(t)}},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(d.Nb(s.a),d.Nb(l.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-events-handler-window"]],viewQuery:function(e,t){var n;1&e&&d.Mc(mt,!0),2&e&&d.qc(n=d.bc())&&(t.bottomSheet=n.first)},decls:34,vars:8,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width",3,"dir","click"],["cdkDrag","","cdkDragBoundary",".dashboard-app-boundary","cdkDragRootElement",".cdk-overlay-pane",1,"window-heading","full-width","height-45","padding-mini-r-l","display-flex","align-items-center",3,"dblclick"],[3,"ngIfElse","ngIf"],["notDraggableHeading",""],[1,"window-actions","display-flex",3,"ngClass"],["class","width-30 height-30 text-center line-height-25 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],["class","width-30 height-30 text-center line-height-35 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"text-dark-mode-color","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"window-content","pos-rel"],[3,"rtlDirection","triggerBottomSheet"],["bottomSheet",""],["cdkDragHandle","",1,"window-title","full-width","full-height","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"text-dark-mode-color","pos-rel",3,"ngClass"],[1,"window-title","full-width","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"width-30","height-30","text-center","line-height-25","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"]],template:function(e,t){if(1&e&&(d.Tb(0,"div",0),d.ac("click",(function(){return t.activeWindow()})),d.Hc(1,"\n  "),d.Tb(2,"div",1),d.ac("dblclick",(function(){return t.windowInstance.isMaximized?t.restore():t.maximize()})),d.Hc(3,"\n    "),d.Fc(4,pt,7,3,"ng-template",2),d.Hc(5,"\n\n    "),d.Fc(6,ht,7,3,"ng-template",null,3,d.Gc),d.Hc(8,"\n\n    "),d.Tb(9,"div",4),d.Hc(10,"\n      "),d.Fc(11,gt,5,0,"button",5),d.Hc(12,"\n      "),d.Fc(13,vt,5,0,"button",6),d.Hc(14,"\n      "),d.Fc(15,Ht,5,0,"button",6),d.Hc(16,"\n      "),d.Tb(17,"button",7),d.ac("click",(function(e){return t.close(),e.stopPropagation()})),d.Hc(18,"\n        "),d.Tb(19,"mat-icon",8),d.Hc(20,"\n          close\n        "),d.Sb(),d.Hc(21,"\n      "),d.Sb(),d.Hc(22,"\n    "),d.Sb(),d.Hc(23,"\n  "),d.Sb(),d.Hc(24,"\n  "),d.Tb(25,"div",9),d.Hc(26,"\n    "),d.Tb(27,"app-events-handler-main",10),d.ac("triggerBottomSheet",(function(e){return t.openButtonSheet(e)})),d.Sb(),d.Hc(28,"\n    "),d.Ob(29,"app-event-handler-bottom-sheet",null,11),d.Hc(31,"\n  "),d.Sb(),d.Hc(32,"\n"),d.Sb(),d.Hc(33,"\n")),2&e){var n=d.rc(7);d.kc("dir",t.rtlDirection?"rtl":"ltr"),d.Bb(4),d.kc("ngIfElse",n)("ngIf",t.windowInstance.isDraggable),d.Bb(5),d.kc("ngClass",t.rtlDirection?" margin-r-auto":" margin-l-auto"),d.Bb(2),d.kc("ngIf",!t.windowInstance.isMinimized),d.Bb(2),d.kc("ngIf",t.windowInstance.isMaximized||t.windowInstance.isMinimized),d.Bb(2),d.kc("ngIf",!t.windowInstance.isMaximized&&!t.windowInstance.isMinimized),d.Bb(12),d.kc("rtlDirection",t.rtlDirection)}},directives:[b.b,f.a,i.k,i.i,u.a,dt,ut,f.b],encapsulation:2}),e}(),Tt=n("u47x"),wt=n("VSJZ"),yt=n("1yaQ"),_t=n("K1Y9"),kt=localStorage.getItem("defaultLang"),It=null!==kt&&"fa"===kt?"fa":"en-GB",xt=function(){function e(e){this.componentFactoryResolver=e}return e.prototype.resolveComponent=function(){return this.componentFactoryResolver.resolveComponentFactory(St)},e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)(d.Xb(d.j))},providers:[{provide:O.c,useClass:"fa"===It?wt.a:yt.a,deps:[O.f]},{provide:O.f,useValue:"fa"===It?It:"en-GB"},{provide:O.e,useFactory:function(e){return e===("fa"===It)?_t.a:_t.b},deps:[O.f]},{provide:wt.b,useValue:{useUtc:!0}}],imports:[[i.c,r.a,a.a,Qe.c,c.b.forChild({}),Tt.a]]}),e}()}}]);