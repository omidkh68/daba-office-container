(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{A9vo:function(t,e,n){"use strict";n.r(e),n.d(e,"SoftPhoneModule",(function(){return Te}));var i=n("u47x"),o=n("PCNd"),r=n("ofXK"),c=n("sYmb"),s=n("zB/H"),a=n("Y2ut"),l=n("0d0Z"),h=n("unh5"),u=n("fXoL"),b=n("cH1L"),f=n("5+WD"),p=n("NFeN"),g=n("DDyt"),d=n("dJ3e"),m=n("OC8m"),I=n("ISpo"),v=n("mrmJ"),S=n("PqYM"),w=n("tk/3"),y=n("AytR"),x=n("Qjjq"),k=function(){function t(t,e){this.http=t,this.companySelectorService=e,this.accessToken="",this.API_URL=y.a.CONTAINER_URL+"/pbx",this.headers={headers:new w.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return t.prototype.getExtensionList=function(){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/extension.php?action=extensions"+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),this.headers)},t.prototype.getExtensionStatus=function(){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/extension.php?action=extensionStatus"+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),this.headers)},t.prototype.getCdr=function(t){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/cdr.php?action=cdr&extensionNo="+t+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),this.headers)},t.prototype.getConferenceList=function(){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/extension.php?action=conferenceList"+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),this.headers)},t.prototype.getConferenceOnlineUser=function(t){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/extension.php?action=conferenceOnlineUser&phoneNumber="+t+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),this.headers)},t.prototype.muteUnMute=function(t){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/extension.php?action=editMute"+(this.currentCompany?"&comp_id="+this.currentCompany.id:""),t,this.headers)},t.\u0275fac=function(e){return new(e||t)(u.Xb(w.a),u.Xb(x.a))},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),_=["oBottomSheet"],T=["container"],C=function(){function t(t,e,n){this.renderer=t,this.cfr=e,this.softPhoneService=n,this.minimizeStatus=!1,this._subscription=new s.Subscription}return t.prototype.ngAfterViewInit=function(){var t=this;this._subscription.add(this.softPhoneService.currentMinimizeCallPopUp.subscribe((function(e){t.minimizeStatus=e;var n=t.oBottomSheet.nativeElement.parentNode.parentNode;t.minimizeStatus?t.renderer.addClass(n,"minimizePopUp"):t.renderer.removeClass(n,"minimizePopUp")})))},t.prototype.toggleBottomSheet=function(t,e){var n=this;void 0===e&&(e=!0),this.container.clear();var i=this.oBottomSheet.nativeElement.parentNode.parentNode,o=this.oBottomSheet.nativeElement;if(e){this.renderer.addClass(i,"active"),this.renderer.setStyle(o,"height",t.height),this.renderer.setStyle(o,"width",t.width),this.renderer.setStyle(i,"z-index","5");var r=this.cfr.resolveComponentFactory(t.component);this.container.createComponent(r).instance.bottomSheetData=t}else this.renderer.removeClass(i,"active"),this.renderer.setStyle(o,"height","0"),this.renderer.setStyle(o,"width","0"),setTimeout((function(){return n.renderer.setStyle(i,"z-index","-1")}),100)},t.prototype.close=function(){this.toggleBottomSheet(null,!1)},t.\u0275fac=function(e){return new(e||t)(u.Nb(u.G),u.Nb(u.j),u.Nb(a.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-bottom-sheet"]],viewQuery:function(t,e){if(1&t&&(u.Nc(_,!0),u.Nc(T,!0,u.R)),2&t){var n=void 0;u.rc(n=u.bc())&&(e.oBottomSheet=n.first),u.rc(n=u.bc())&&(e.container=n.first)}},decls:12,vars:0,consts:[[1,"o-bottom-sheet-container","full-width","full-height"],[1,"o-bottom-sheet-backdrop","full-width","full-height",3,"click"],[1,"o-bottom-sheet-content","overflow-hide","pos-abs","margin-auto","bottom-0","right-0","left-0","round-corner-top-left","round-corner-top-right"],["oBottomSheet",""],[1,"o-bottom-sheet-comp"],["container",""]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.ac("click",(function(){return e.close()})),u.Sb(),u.Ic(3,"\n\n  "),u.Tb(4,"div",2,3),u.Ic(6,"\n    "),u.Ob(7,"div",4,5),u.Ic(9,"\n  "),u.Sb(),u.Ic(10,"\n"),u.Sb(),u.Ic(11,"\n"))},styles:["[_nghost-%COMP%]{position:absolute;right:0;left:0;bottom:0;width:100%;height:100%;z-index:-1;transition:all .2s}[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{transition:background .2s!important;background:transparent}.active[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.7)}.minimizePopUp[_nghost-%COMP%]{bottom:-100%}[_nghost-%COMP%]   .o-bottom-sheet-content[_ngcontent-%COMP%]{transition:height .1s!important;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:transparent;height:0;width:0}"]}),t}();function P(t,e){if(1&t){var n=u.Ub();u.Tb(0,"app-soft-phone-contacts",9),u.ac("triggerCloseBottomSheet",(function(){return u.wc(n),u.ec().closeTransferBottomSheet()})),u.Sb()}if(2&t){var i=u.ec();u.kc("fromPopUp",!0)("loggedInUser",i.loggedInUser)("rtlDirection",i.rtlDirection)("softPhoneUsers",i.softPhoneUsers)}}function B(t,e){if(1&t){var n=u.Ub();u.Tb(0,"app-soft-phone-keypad",10),u.ac("triggerCloseBottomSheet",(function(){return u.wc(n),u.ec().closeTransferBottomSheet()})),u.Sb()}if(2&t){var i=u.ec();u.kc("fromPopUp",!0)("rtlDirection",i.rtlDirection)("softPhoneUsers",i.softPhoneUsers)}}var O=function(t){return{"view-mode":t}},U=function(){function t(t,e,n){var i=this;this.viewDirection=t,this.softPhoneService=e,this.userInfoService=n,this.rtlDirection=!1,this.viewModeTypes="contact",this._subscription=new s.Subscription,this._subscription.add(this.softPhoneService.currentSoftPhoneUsers.subscribe((function(t){return i.softPhoneUsers=t}))),this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return i.rtlDirection=t}))),this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){return i.loggedInUser=t})))}return t.prototype.ngOnInit=function(){},t.prototype.changeViewMode=function(t){this.viewModeTypes=t},t.prototype.closeTransferBottomSheet=function(){this.bottomSheetData.bottomSheetRef.close()},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(a.a),u.Nb(g.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-transfer-call"]],decls:34,vars:16,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0",3,"dir"],[1,"switch-container","height-45","padding-mini-t-b","padding-r-l"],[1,"full-width","mat-button-custom","height-30","line-height-15","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","half-width","font-7-rem","line-height-15","height-30",3,"value"],[1,"component-container","height-full-minus-45","pos-rel"],[3,"ngSwitch"],[3,"fromPopUp","loggedInUser","rtlDirection","softPhoneUsers","triggerCloseBottomSheet",4,"ngSwitchCase"],[3,"fromPopUp","rtlDirection","softPhoneUsers","triggerCloseBottomSheet",4,"ngSwitchCase"],[3,"fromPopUp","loggedInUser","rtlDirection","softPhoneUsers","triggerCloseBottomSheet"],[3,"fromPopUp","rtlDirection","softPhoneUsers","triggerCloseBottomSheet"]],template:function(t,e){if(1&t){var n=u.Ub();u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Tb(4,"mat-button-toggle-group",2,3),u.ac("change",(function(){u.wc(n);var t=u.sc(5);return e.changeViewMode(t.value)})),u.Ic(6,"\n      "),u.Tb(7,"mat-button-toggle",4),u.Ic(8,"\n        "),u.Tb(9,"span"),u.Ic(10),u.fc(11,"translate"),u.Sb(),u.Ic(12,"\n      "),u.Sb(),u.Ic(13,"\n      "),u.Tb(14,"mat-button-toggle",4),u.Ic(15,"\n        "),u.Tb(16,"span"),u.Ic(17),u.fc(18,"translate"),u.Sb(),u.Ic(19,"\n      "),u.Sb(),u.Ic(20,"\n    "),u.Sb(),u.Ic(21,"\n  "),u.Sb(),u.Ic(22,"\n\n  "),u.Tb(23,"div",5),u.Ic(24,"\n    "),u.Rb(25,6),u.Ic(26,"\n      "),u.Gc(27,P,1,4,"app-soft-phone-contacts",7),u.Ic(28,"\n\n      "),u.Gc(29,B,1,3,"app-soft-phone-keypad",8),u.Ic(30,"\n    "),u.Qb(),u.Ic(31,"\n  "),u.Sb(),u.Ic(32,"\n"),u.Sb(),u.Ic(33,"\n")}if(2&t){var i=u.sc(5);u.kc("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(4),u.kc("ngClass",u.oc(14,O,i))("value",e.viewModeTypes),u.Bb(3),u.kc("value","contact"),u.Bb(3),u.Jc(u.gc(11,10,"soft_phone.main.address_book")),u.Bb(4),u.kc("value","keypad"),u.Bb(3),u.Jc(u.gc(18,12,"soft_phone.main.dial_pad")),u.Bb(8),u.kc("ngSwitch",e.viewModeTypes),u.Bb(2),u.kc("ngSwitchCase","contact"),u.Bb(2),u.kc("ngSwitchCase","keypad")}},styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}"]}),t}(),D=n("MutI"),M=n("bTqV"),N=n("zkoq"),L=n("FKr1"),z=["bottomSheet"];function E(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",27),u.ac("click",(function(){return u.wc(n),u.ec().minimizePopUp()})),u.Ic(1,"\n    "),u.Tb(2,"mat-icon"),u.Ic(3),u.Sb(),u.Ic(4,"\n  "),u.Sb()}if(2&t){var i=u.ec();u.kc("ngClass",i.rtlDirection?"left-full":"right-full"),u.Bb(3),u.Jc(i.rtlDirection?"keyboard_arrow_left":"keyboard_arrow_right")}}var j=function(t,e){return{"right.px":t,"left.px":e}};function R(t,e){if(1&t&&(u.Tb(0,"li",33),u.Ic(1,"\n          "),u.Tb(2,"img",34),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(3,"\n        "),u.Sb()),2&t){var n=u.ec(),i=n.index,o=n.$implicit,r=u.ec(2);u.kc("ngStyle",u.pc(3,j,r.rtlDirection?i+"2":"inherit",r.rtlDirection?"inherit":i+"2")),u.Bb(2),u.kc("alt",o.extension_name)("src","assets/profileImg/"+(o.username?o.username:"0")+".jpg",u.yc)}}function G(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n        "),u.Gc(2,R,4,6,"li",32),u.Ic(3,"\n      "),u.Qb()),2&t){var n=e.index;u.Bb(2),u.kc("ngIf",n<3)}}function K(t,e){if(1&t&&(u.Tb(0,"span",35),u.Ic(1),u.Sb()),2&t){var n=u.ec(2);u.kc("ngClass",n.rtlDirection?"left-full-two-em-reverse":"right-full-two-em-reverse"),u.Bb(1),u.Kc("+",n.extensionList.length-3,"")}}function A(t,e){if(1&t){var n=u.Ub();u.Tb(0,"div",28),u.Ic(1,"\n    "),u.Tb(2,"ul",29),u.ac("click",(function(){u.wc(n);var t=u.ec();return t.activeExtensionList=!t.activeExtensionList})),u.Ic(3,"\n      "),u.Gc(4,G,4,1,"ng-container",30),u.Ic(5,"\n    "),u.Sb(),u.Ic(6,"\n    "),u.Gc(7,K,2,2,"span",31),u.Ic(8,"\n  "),u.Sb()}if(2&t){var i=u.ec();u.kc("ngClass",i.rtlDirection?"right-full":"left-full"),u.Bb(4),u.kc("ngForOf",i.extensionList),u.Bb(3),u.kc("ngIf",i.extensionList&&i.extensionList.length>3)}}function F(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",37),u.ac("click",(function(){u.wc(n);var t=e.$implicit;return u.ec(2).callEvent(t)})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon"),u.Ic(3),u.Sb(),u.Ic(4,"\n      "),u.Sb()}if(2&t){var i=e.$implicit,o=u.ec(2);u.Bb(3),u.Jc(o.muteStatus?i.changeIcon:i.num)}}function J(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n      "),u.Gc(2,F,5,1,"button",36),u.Ic(3,"\n    "),u.Qb()),2&t){var n=u.ec();u.Bb(2),u.kc("ngForOf",n.keys)}}function Y(t,e){if(1&t&&(u.Tb(0,"div",40),u.Ic(1,"\n        "),u.Tb(2,"img",41),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(3,"\n\n        "),u.Tb(4,"h3",42),u.Ic(5),u.Sb(),u.Ic(6,"\n\n        "),u.Tb(7,"span",43),u.Ic(8),u.fc(9,"translate"),u.Sb(),u.Ic(10,"\n      "),u.Sb()),2&t){var n=u.ec(2);u.Bb(2),u.kc("src","assets/profileImg/"+n.userJoinOrLeftTheConf.extension.username+".jpg",u.yc)("alt",n.userJoinOrLeftTheConf.extension.extension_name),u.Bb(3),u.Kc("\n          ",n.userJoinOrLeftTheConf.extension.extension_name,"\n        "),u.Bb(3),u.Kc("\n          ",u.gc(9,4,"left"===n.userJoinOrLeftTheConf.status?"soft_phone.call_pop_up.left_the_conf":"soft_phone.call_pop_up.joined_the_conf"),"\n        ")}}function H(t,e){if(1&t&&(u.Tb(0,"div",38),u.Ic(1,"\n      "),u.Gc(2,Y,11,6,"div",39),u.Ic(3,"\n    "),u.Sb()),2&t){var n=u.ec();u.kc("ngClass",n.userJoinOrLeftTheConf?"bottom-0":"bottom-full-2-percent-reverse"),u.Bb(2),u.kc("ngIf",n.userJoinOrLeftTheConf)}}function q(t,e){if(1&t&&(u.Tb(0,"span"),u.Ic(1,"\n          "),u.Tb(2,"mat-icon",48),u.Ic(3),u.Sb(),u.Ic(4,"\n        "),u.Sb()),2&t){var n=u.ec().$implicit;u.Bb(3),u.Kc("\n            ",n.is_mute?"mic_off":"","\n          ")}}function V(t,e){if(1&t&&(u.Tb(0,"mat-list-item",44),u.Ic(1,"\n      "),u.Tb(2,"img",45),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(3,"\n\n      "),u.Tb(4,"h3",46),u.Ic(5),u.Sb(),u.Ic(6,"\n\n      "),u.Tb(7,"div",47),u.Ic(8,"\n        "),u.Tb(9,"span"),u.Ic(10),u.Sb(),u.Ic(11,"\n\n        "),u.Gc(12,q,5,1,"span",9),u.Ic(13,"\n      "),u.Sb(),u.Ic(14,"\n    "),u.Sb()),2&t){var n=e.$implicit;u.Bb(2),u.kc("src","assets/profileImg/"+n.username+".jpg",u.yc)("alt",n.extension_name),u.Bb(3),u.Kc(" ",n.extension_name," "),u.Bb(2),u.kc("ngClass",n.is_mute?"flex-direction-column":"height-40"),u.Bb(3),u.Jc(n.extension_no),u.Bb(2),u.kc("ngIf",n.is_mute)}}function W(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-grid-tile",49),u.Ic(1,"\n        "),u.Tb(2,"button",50),u.ac("mousedown",(function(){u.wc(n);var t=e.$implicit;return u.ec().dialKeyPress(t)})),u.Ic(3),u.Sb(),u.Ic(4,"\n      "),u.Sb()}if(2&t){var i=e.$implicit;u.kc("colspan",1)("rowspan",1),u.Bb(3),u.Kc("\n          ",i.num,"\n        ")}}var $=function(){function t(t,e,n,i){var o=this;this.apiService=t,this.viewDirection=e,this.userInfoService=n,this.softPhoneService=i,this.callTimer="00:00",this.counter=null,this.hour=0,this.minute=0,this.second=0,this.muteStatus=!1,this.connectedStatus=!1,this.extensionList=[],this.keys=[],this.activeExtensionList=!1,this.activeDialPad=!1,this.timerDueTime=0,this.timerPeriod=5e3,this.globalTimer=null,this.userJoinOrLeftTheConf=null,this.dialPadKeys=[{num:"1"},{num:"2"},{num:"3"},{num:"4"},{num:"5"},{num:"6"},{num:"7"},{num:"8"},{num:"9"},{num:"*"},{num:"0"},{num:"#"}],this._subscription=new s.Subscription,this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){return o.loggedInUser=t}))),this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return o.rtlDirection=t})))}return t.prototype.ngOnInit=function(){var t=this;this.data=this.bottomSheetData.data,this.keys=[{type:"mute_unmute",num:"mic",changeIcon:"mic_off"}],"conference"!==this.data.type?this.keys.push({type:"forward",num:"phone_forwarded",changeIcon:"phone_forwarded"}):"conference"===this.data.type&&this.data.password.length&&this.keys.push({type:"key_pad",num:"dialpad",changeIcon:"dialpad"}),this.timeCounter&&(this.timeCounter.unsubscribe(),this.counter=null,this.callTimer="00:00"),this._subscription.add(this.softPhoneService.currentConnectedCall.subscribe((function(e){t.connectedStatus=e,t.connectedStatus?(t.counter=Object(S.a)(0,1e3),t.timeCounter=t.counter.subscribe((function(){t.second<59?t.second++:(t.second=0,t.minute<59?t.minute++:(t.minute=0,t.hour++)),t.callTimer=(t.hour<10?"0"+t.hour:""+t.hour)+":"+(t.minute<10?"0"+t.minute:""+t.minute)+":"+(t.second<10?"0"+t.second:""+t.second)})),t.data.conf_id&&(t.globalTimer=Object(S.a)(t.timerDueTime,t.timerPeriod),t.globalTimerSubscription=t.globalTimer.subscribe((function(){return t.getConferenceOnlineUser()})))):t.globalTimerSubscription&&(t.globalTimerSubscription.unsubscribe(),t.globalTimer=null)}))),this.softPhoneService.sipCall("call-audio",this.data.extension_no)},t.prototype.callEvent=function(t){var e=this;switch(t.type){case"mute_unmute":this._subscription.add(this.apiService.muteUnMute({is_mute:this.muteStatus?0:1,extension_no:""+this.loggedInUser.extension_no}).subscribe((function(t){t.success&&(e.muteStatus=e.softPhoneService.sipToggleMute())})));break;case"forward":var n={component:U,height:"100%",width:"100%",data:""};n.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(n);break;case"key_pad":this.activeDialPad=!0}},t.prototype.minimizePopUp=function(){this.softPhoneService.changeMinimizeCallPopUp(!0)},t.prototype.getConferenceOnlineUser=function(){var t=this;this._subscription.add(this.apiService.getConferenceOnlineUser(this.data.extension_no).subscribe((function(e){e.success&&t.joinOrLeftToConf(t.extensionList,e.data).then((function(){t.extensionList=e.data}))})))},t.prototype.joinOrLeftToConf=function(t,e){var n=this;return new Promise((function(i){var o=t.filter(n.arrayComparer(e)),r=e.filter(n.arrayComparer(t)),c=o.concat(r);if(c.length&&1===c.length){var s="";1===o.length&&0===r.length?s="left":0===o.length&&1===r.length&&(s="join");var a=c.pop();n.userJoinOrLeftTheConf=a.username!==n.loggedInUser.email?{extension:a,status:s}:null,i(!0)}else n.userJoinOrLeftTheConf=null,i(!0)}))},t.prototype.arrayComparer=function(t){return function(e){return 0==t.filter((function(t){return t.extension_no==e.extension_no&&t.extension_no==e.extension_no})).length}},t.prototype.hangUp=function(){this.softPhoneService.sipHangUp(),this.timeCounter&&(this.timeCounter.unsubscribe(),this.counter=null,this.callTimer="00:00"),this.globalTimerSubscription&&(this.globalTimerSubscription.unsubscribe(),this.globalTimer=null)},t.prototype.dialKeyPress=function(t){var e=this;this.softPhoneService.sipSendDTMF(t.num),"#"===t.num&&setTimeout((function(){return e.activeDialPad=!1}),5e3)},t.prototype.onKeydownHandler=function(){this.activeExtensionList=!1},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this.timeCounter&&this.timeCounter.unsubscribe(),this.globalTimerSubscription&&(this.globalTimerSubscription.unsubscribe(),this.globalTimer=null)},t.\u0275fac=function(e){return new(e||t)(u.Nb(k),u.Nb(h.a),u.Nb(g.a),u.Nb(a.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-call-pop-up"]],viewQuery:function(t,e){var n;1&t&&u.Nc(z,!0),2&t&&u.rc(n=u.bc())&&(e.bottomSheet=n.first)},hostBindings:function(t,e){1&t&&u.ac("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,u.uc)},decls:88,vars:32,consts:[[1,"popup-container","pos-rel","full-height","full-width","padding-full"],["class","minimizeBtn pos-abs top-full width-40 height-40 text-white no-bg no-border cursor-pointer",3,"ngClass","click",4,"ngIf"],["class","extension-list pos-abs top-full width-50 height-30",3,"ngClass",4,"ngIf"],[1,"avatar-holder","text-center","width-100","height-100","round-corner-all","padding-half","margin-auto","margin-t-full-3","margin-b-full"],["matListAvatar","",1,"full-width","round-corner-all",3,"alt","src","error"],[1,"width-200","margin-auto","height-40","line-height-40","text-center","text-white","text-eclipse","text-weight-normal","font-full-plus-two-tenth-em"],[1,"full-width","height-30","line-height-30","text-center","text-gray-500","text-weight-normal"],[1,"full-width","height-40","line-height-40","text-center","text-white","text-weight-normal",3,"ngClass"],[1,"full-width","transition","text-center","display-flex","padding-r-l-2","pos-abs","right-0","left-0","bottom-full-2",3,"ngClass"],[4,"ngIf"],["mat-raised-button","",1,"red-gradient","min-width-inherit","cursor-pointer","text-white","mat-elevation-z3","no-box-shadow","no-padding","no-border","font-full-plus-half-em","width-50","height-50","margin-mini-r-l","text-center","round-corner-all",3,"click"],["class","pos-abs width-ninety-percent height-50 bg-white mat-elevation-z3 left-0 right-0 margin-auto z-index-99 round-corner transition",3,"ngClass",4,"ngIf"],["bottomSheet",""],[1,"show-extension-list","pos-abs","height-300","left-0","right-0","margin-auto","round-corner-top","bg-white","transition","overflow-hide",3,"ngClass","dir"],[1,"full-width","height-45","line-height-45","padding-r-l"],[1,"pos-abs","top-half","cursor-pointer","no-bg","no-border","no-box-shadow","width-30","height-30",3,"ngClass","click"],[1,"text-grey-500","line-height-30"],[1,"full-width","height-full-minus-45","overflow-x-hide","overflow-y-auto"],["class","highlight cursor-pointer padding-r-l",4,"ngFor","ngForOf"],[1,"show-dialPad","pos-abs","height-300","left-0","right-0","margin-auto","round-corner-top","bg-white","transition","overflow-hide",3,"ngClass","dir"],[1,"full-width","height-45","line-height-45","padding-r-l","no-margin"],[1,"key-container"],["cols","3","gutterSize","30","rowHeight","fit","dir","ltr",1,"full-height"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"padding-r-l-4","pos-abs","full-width","bottom-full-2"],["mat-raised-button","","type","button",1,"red-gradient","full-width","text-white","font-8-rem","margin-auto","width-90","height-35","padding-mini-r-l",3,"click"],[1,"padding-mini-r-l"],[1,"minimizeBtn","pos-abs","top-full","width-40","height-40","text-white","no-bg","no-border","cursor-pointer",3,"ngClass","click"],[1,"extension-list","pos-abs","top-full","width-50","height-30",3,"ngClass"],[1,"list-style-none","no-padding","no-margin","cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],["class","text-white pos-abs line-height-30",3,"ngClass",4,"ngIf"],["class","pos-abs display-flex align-items-center",3,"ngStyle",4,"ngIf"],[1,"pos-abs","display-flex","align-items-center",3,"ngStyle"],["matListAvatar","",1,"mat-elevation-z3","width-30","height-30","round-corner-all",3,"alt","src","error"],[1,"text-white","pos-abs","line-height-30",3,"ngClass"],["class","key transition min-width-inherit cursor-pointer text-white mat-elevation-z3 no-box-shadow no-padding no-border font-full-plus-half-em width-50 height-50 margin-mini-r-l text-center round-corner-all","mat-raised-button","",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"key","transition","min-width-inherit","cursor-pointer","text-white","mat-elevation-z3","no-box-shadow","no-padding","no-border","font-full-plus-half-em","width-50","height-50","margin-mini-r-l","text-center","round-corner-all",3,"click"],[1,"pos-abs","width-ninety-percent","height-50","bg-white","mat-elevation-z3","left-0","right-0","margin-auto","z-index-99","round-corner","transition",3,"ngClass"],["class","full-width full-height display-flex align-items-center justify-content-start padding-r-l",4,"ngIf"],[1,"full-width","full-height","display-flex","align-items-center","justify-content-start","padding-r-l"],["matListAvatar","",1,"mat-elevation-z2","width-30","height-30","online-user","round-corner-all",3,"src","alt","error"],["matLine","",1,"mat-line","font-7-rem","text-weight-bold","no-margin","padding-mini-r-l"],[1,"font-8-em","text-weight-bold","white-space-no-wrap"],[1,"highlight","cursor-pointer","padding-r-l"],["matListAvatar","",1,"mat-elevation-z2","width-35","height-35","online-user",3,"src","alt","error"],["matLine","",1,"font-7-rem","text-weight-bold","no-margin"],[1,"pos-rel","online-extension","font-8-em","display-flex","flex-center-y",3,"ngClass"],[1,"width-20","height-20","text-gray-500","font-full-plus-half-em"],[3,"colspan","rowspan"],["mat-raised-button","",1,"dial-pad-key","cursor-pointer","no-box-shadow","no-padding","no-border","font-full-plus-half-em","width-50","height-50","line-height-50","text-center","round-corner-all",3,"mousedown"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Gc(2,E,5,2,"button",1),u.Ic(3,"\n\n  "),u.Gc(4,A,9,3,"div",2),u.Ic(5,"\n\n  "),u.Tb(6,"div",3),u.Ic(7,"\n    "),u.Tb(8,"img",4),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(9,"\n  "),u.Sb(),u.Ic(10,"\n\n  "),u.Tb(11,"h2",5),u.Ic(12),u.fc(13,"translate"),u.Sb(),u.Ic(14,"\n\n  "),u.Tb(15,"h3",6),u.Ic(16),u.Sb(),u.Ic(17,"\n\n  "),u.Tb(18,"div",7),u.Ic(19),u.fc(20,"translate"),u.Sb(),u.Ic(21,"\n\n  "),u.Tb(22,"div",8),u.Ic(23,"\n    "),u.Gc(24,J,4,1,"ng-container",9),u.Ic(25,"\n\n    "),u.Tb(26,"button",10),u.ac("click",(function(){return e.hangUp()})),u.Ic(27,"\n      "),u.Tb(28,"mat-icon"),u.Ic(29,"call_end"),u.Sb(),u.Ic(30,"\n    "),u.Sb(),u.Ic(31,"\n\n    "),u.Gc(32,H,4,2,"div",11),u.Ic(33,"\n  "),u.Sb(),u.Ic(34,"\n"),u.Sb(),u.Ic(35,"\n\n"),u.Ob(36,"app-soft-phone-bottom-sheet",null,12),u.Ic(38,"\n\n"),u.Tb(39,"div",13),u.Ic(40,"\n  "),u.Tb(41,"h3",14),u.Ic(42),u.fc(43,"translate"),u.Sb(),u.Ic(44,"\n\n  "),u.Tb(45,"button",15),u.ac("click",(function(){return e.activeExtensionList=!1})),u.Ic(46,"\n    "),u.Tb(47,"mat-icon",16),u.Ic(48,"close"),u.Sb(),u.Ic(49,"\n  "),u.Sb(),u.Ic(50,"\n\n  "),u.Tb(51,"mat-list",17),u.Ic(52,"\n    "),u.Gc(53,V,15,6,"mat-list-item",18),u.Ic(54,"\n  "),u.Sb(),u.Ic(55,"\n"),u.Sb(),u.Ic(56,"\n\n"),u.Tb(57,"div",19),u.Ic(58,"\n  "),u.Tb(59,"h3",20),u.Ic(60),u.fc(61,"translate"),u.Sb(),u.Ic(62,"\n\n  "),u.Tb(63,"div",21),u.Ic(64,"\n    "),u.Tb(65,"mat-grid-list",22),u.Ic(66,"\n      "),u.Gc(67,W,5,3,"mat-grid-tile",23),u.Ic(68,"\n    "),u.Sb(),u.Ic(69,"\n  "),u.Sb(),u.Ic(70,"\n\n  "),u.Tb(71,"div",24),u.Ic(72,"\n    "),u.Tb(73,"button",25),u.ac("click",(function(){return e.activeDialPad=!1})),u.Ic(74,"\n      "),u.Tb(75,"span",26),u.Ic(76),u.fc(77,"translate"),u.Sb(),u.Ic(78,"\n    "),u.Sb(),u.Ic(79,"\n  "),u.Sb(),u.Ic(80,"\n\n  "),u.Tb(81,"button",15),u.ac("click",(function(){return e.activeDialPad=!1})),u.Ic(82,"\n    "),u.Tb(83,"mat-icon",16),u.Ic(84,"close"),u.Sb(),u.Ic(85,"\n  "),u.Sb(),u.Ic(86,"\n"),u.Sb(),u.Ic(87,"\n")),2&t&&(u.Bb(2),u.kc("ngIf",e.connectedStatus),u.Bb(2),u.kc("ngIf","conference"===e.data.type&&e.connectedStatus),u.Bb(4),u.kc("alt",e.data.name)("src","assets/profileImg/"+(e.data.username?e.data.username:"0")+".jpg",u.yc),u.Bb(4),u.Kc("\n    ",e.data.extension_no?e.data.extension_name:u.gc(13,22,"soft_phone.call_pop_up.unknown_number"),"\n  "),u.Bb(4),u.Kc("\n    ",e.data.extension_no?e.data.extension_no:e.data,"\n  "),u.Bb(2),u.kc("ngClass","00:00"!==e.callTimer?"":"blink-effect"),u.Bb(1),u.Kc("\n    ","00:00"!==e.callTimer?e.callTimer:u.gc(20,24,"soft_phone.call_pop_up.calling"),"\n  "),u.Bb(3),u.kc("ngClass",e.connectedStatus?"flex-space-between":"flex-space-around"),u.Bb(2),u.kc("ngIf",e.connectedStatus),u.Bb(8),u.kc("ngIf",!e.activeExtensionList),u.Bb(7),u.kc("ngClass",e.activeExtensionList?"bottom-0":"bottom-full-reverse-percent")("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(3),u.Kc("\n    ",u.gc(43,26,"soft_phone.call_pop_up.available_users"),"\n  "),u.Bb(3),u.kc("ngClass",e.rtlDirection?"left-half":"right-half"),u.Bb(8),u.kc("ngForOf",e.extensionList),u.Bb(4),u.kc("ngClass",e.activeDialPad&&e.data.password.length?"bottom-0":"bottom-full-reverse-percent")("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(3),u.Kc("\n    ",u.gc(61,28,"soft_phone.call_pop_up.available_users"),"\n  "),u.Bb(7),u.kc("ngForOf",e.dialPadKeys),u.Bb(9),u.Jc(u.gc(77,30,"global.hide")),u.Bb(5),u.kc("ngClass",e.rtlDirection?"left-half":"right-half"))},directives:[r.k,D.b,r.i,M.b,p.a,C,b.b,D.a,r.j,N.a,r.l,L.j,D.d,N.c],pipes:[c.c],styles:['[_nghost-%COMP%], [_nghost-%COMP%]:before{width:100%;height:100%;position:absolute;left:0;top:0;bottom:0;right:0}[_nghost-%COMP%]:before{content:"";filter:blur(8px);transform:scale(1.5)}.key[_ngcontent-%COMP%]{background-color:rgba(80,80,80,.9)}.dial-pad-key[_ngcontent-%COMP%]{background-color:#e1e1e1;min-width:inherit!important}.key-container[_ngcontent-%COMP%]{height:calc(100% - 180px);padding:1em 4em}.padding-r-l-4[_ngcontent-%COMP%]{padding:0 4em}.minimizeBtn[_ngcontent-%COMP%]{transform:scale(1.2)}.avatar-holder[_ngcontent-%COMP%]{background-color:#ddd;border:3px solid #aaa}.show-dialPad[_ngcontent-%COMP%], .show-extension-list[_ngcontent-%COMP%]{width:97%!important;height:99%!important;background-color:hsla(0,0%,100%,.95)}.online-user[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #4ec060}.online-extension[_ngcontent-%COMP%]{color:#4ec060}.width-ninety-percent[_ngcontent-%COMP%]{width:90%!important}.blink-effect[_ngcontent-%COMP%]{transition:all .4s!important;-webkit-animation:blink-effect 1s linear infinite;animation:blink-effect 1s linear infinite}@-webkit-keyframes blink-effect{0%{color:#888}33.33333%{color:transparent}to{color:#888}}@keyframes blink-effect{0%{color:#888}33.33333%{color:transparent}to{color:#888}}']}),t}(),X=n("XiUW"),Q=n("ue6I"),Z=n("/Hbh"),tt=n("f0Cb");function et(t,e){if(1&t&&u.Ob(0,"div",15),2&t){var n=u.ec();u.kc("ngClass",n.data.is_online?"online":"offline")}}var nt,it=function(){function t(t,e,n,i){var o=this;this.viewDirection=t,this.softPhoneService=e,this.notificationService=n,this.userInfoService=i,this._subscription=new s.Subscription,this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){return o.loggedInUser=t}))),this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return o.rtlDirection=t})))}return t.prototype.ngOnInit=function(){this.data=this.bottomSheetData.data},t.prototype.call=function(t){this.softPhoneService.changeOnCallUser(t)},t.prototype.closeBottomSheet=function(){this.bottomSheetData.bottomSheetRef.close()},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(a.a),u.Nb(m.a),u.Nb(g.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-call-to-action"]],decls:66,vars:19,consts:[[1,"full-width","full-height","padding-full",3,"dir"],[1,"text-weight-bold","font-full-plus-three-tenth-em","no-margin"],[1,"width-30","height-30","pos-abs","top-0","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"ngClass","click"],[1,"line-height-35","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"margin-t-half"],["matListAvatar","",1,"online-user","mat-elevation-z2","width-50","height-50","round-corner-all","margin-auto",3,"alt","ngClass","src","error"],["matLine","",1,"font-8-rem"],[1,"ltr","padding-mini-r-l"],[3,"timezone"],["class","user-soft-phone-status pos-rel text-gray-500 width-30 height-30 round-corner-all",3,"ngClass",4,"ngIf"],[1,"margin-mini-t-b"],[1,"height-60","display-flex","flex-space-around"],["mat-raised-button","","type","submit",1,"green-gradient","full-width","text-white","font-8-rem","margin-auto","width-90","height-35","padding-mini-r-l",3,"disabled","click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],[1,"user-soft-phone-status","pos-rel","text-gray-500","width-30","height-30","round-corner-all",3,"ngClass"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Tb(2,"h3",1),u.Ic(3),u.Sb(),u.Ic(4,"\n\n  "),u.Tb(5,"button",2),u.ac("click",(function(){return e.closeBottomSheet()})),u.Ic(6,"\n    "),u.Tb(7,"mat-icon",3),u.Ic(8,"\n      close\n    "),u.Sb(),u.Ic(9,"\n  "),u.Sb(),u.Ic(10,"\n\n  "),u.Tb(11,"mat-list",4),u.Ic(12,"\n    "),u.Tb(13,"mat-list-item"),u.Ic(14,"\n      "),u.Tb(15,"img",5),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(16,"\n\n      "),u.Tb(17,"p",6),u.Ic(18,"\n          "),u.Tb(19,"span"),u.Ic(20," "),u.Tb(21,"b"),u.Ic(22),u.fc(23,"translate"),u.Sb(),u.Ic(24,"\n            "),u.Tb(25,"span",7),u.Ic(26,"\n              "),u.Ob(27,"app-time-area-digital-clock",8),u.Ic(28,"\n            "),u.Sb(),u.Ic(29,"\n          "),u.Sb(),u.Ic(30,"\n      "),u.Sb(),u.Ic(31,"\n\n      "),u.Tb(32,"p",6),u.Ic(33,"\n        "),u.Tb(34,"span"),u.Ic(35," "),u.Tb(36,"b"),u.Ic(37),u.fc(38,"translate"),u.Sb(),u.Ic(39," "),u.Tb(40,"span",7),u.Ic(41),u.Sb(),u.Ic(42," "),u.Sb(),u.Ic(43,"\n      "),u.Sb(),u.Ic(44,"\n\n      "),u.Gc(45,et,1,1,"div",9),u.Ic(46,"\n    "),u.Sb(),u.Ic(47,"\n  "),u.Sb(),u.Ic(48,"\n\n  "),u.Ob(49,"mat-divider",10),u.Ic(50,"\n\n  "),u.Tb(51,"div",11),u.Ic(52,"\n    "),u.Tb(53,"button",12),u.ac("click",(function(){return e.call(e.data)})),u.Ic(54,"\n      "),u.Tb(55,"mat-icon",13),u.Ic(56,"call"),u.Sb(),u.Ic(57,"\n      "),u.Tb(58,"span",14),u.Ic(59),u.fc(60,"translate"),u.Sb(),u.Ic(61,"\n    "),u.Sb(),u.Ic(62,"\n\n    "),u.Ic(63,"\n  "),u.Sb(),u.Ic(64,"\n"),u.Sb(),u.Ic(65,"\n")),2&t&&(u.kc("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(3),u.Kc(" ",e.data.extension_name," "),u.Bb(2),u.kc("ngClass",e.rtlDirection?"left-0":"right-0"),u.Bb(10),u.kc("alt",e.data.name)("ngClass",e.data.is_online?"active":"")("src","assets/profileImg/"+e.data.username+".jpg",u.yc),u.Bb(7),u.Jc(u.gc(23,13,"soft_phone.call_to_action.timezone")),u.Bb(5),u.kc("timezone",e.data.timezone),u.Bb(10),u.Jc(u.gc(38,15,"global.extension")),u.Bb(4),u.Jc(e.data.extension_no),u.Bb(4),u.kc("ngIf","conference"!==e.data.type),u.Bb(8),u.kc("disabled",!e.data.is_online&&"conference"!==e.data.type),u.Bb(6),u.Jc(u.gc(60,17,"soft_phone.call_to_action.call")))},directives:[b.b,r.i,p.a,D.a,D.d,D.b,L.j,Z.a,r.k,tt.a,M.b],pipes:[c.c],styles:['[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff}.user-soft-phone-status[_ngcontent-%COMP%]:before, [_nghost-%COMP%]{position:absolute;left:0;top:0;bottom:0;right:0}.user-soft-phone-status[_ngcontent-%COMP%]:before{border-radius:100px!important;content:"";width:12px;height:12px;margin:auto}.user-soft-phone-status.online[_ngcontent-%COMP%]:before{background-color:#4ec060;-webkit-animation:blink-online-user-light 1s linear infinite;animation:blink-online-user-light 1s linear infinite}.user-soft-phone-status.offline[_ngcontent-%COMP%]:before{background-color:#c30}.online-user[_ngcontent-%COMP%]{box-shadow:0 0 0 2px transparent}.online-user.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #4ec060;-webkit-animation:blink-online-user 1s linear infinite;animation:blink-online-user 1s linear infinite}@-webkit-keyframes blink-online-user{0%{box-shadow:0 0 0 2px #4ec060}33.33333%{box-shadow:0 0 0 2px #a6c09e}to{box-shadow:0 0 0 2px #4ec060}}@keyframes blink-online-user{0%{box-shadow:0 0 0 2px #4ec060}33.33333%{box-shadow:0 0 0 2px #a6c09e}to{box-shadow:0 0 0 2px #4ec060}}@-webkit-keyframes blink-online-user-light{0%{background-color:#4ec060}33.33333%{background-color:#a6c09e}to{background-color:#4ec060}}@keyframes blink-online-user-light{0%{background-color:#4ec060}33.33333%{background-color:#a6c09e}to{background-color:#4ec060}}']}),t}(),ot=n("1jcm"),rt=(nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ct=function(t){return{active:t}};function st(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-list-item",13),u.ac("click",(function(){u.wc(n);var t=e.$implicit;return u.ec(2).openSheet(t)})),u.Ic(1,"\n          "),u.Tb(2,"img",14),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(3,"\n          "),u.Ic(4,"\n               "),u.Ic(5,"\n               "),u.Ic(6,"\n               "),u.Ic(7,"\n               "),u.Ic(8,"\n\n          "),u.Tb(9,"h3",15),u.Ic(10),u.Sb(),u.Ic(11,"\n\n          "),u.Tb(12,"div",16),u.Ic(13,"\n            "),u.Tb(14,"mat-icon",17),u.Ic(15,"access_time\n            "),u.Sb(),u.Ic(16,"\n\n            "),u.Tb(17,"app-time-area-digital-clock",18),u.Ic(18,"\n            "),u.Sb(),u.Ic(19,"\n          "),u.Sb(),u.Ic(20,"\n\n          "),u.Tb(21,"div",19),u.Ic(22),u.Sb(),u.Ic(23,"\n\n          "),u.Ob(24,"div",20),u.Ic(25,"\n        "),u.Sb()}if(2&t){var i=e.$implicit,o=u.ec(2);u.kc("ngClass",o.rtlDirection?"padding-r-half padding-l-tiny":"padding-l-half padding-r-tiny"),u.Bb(2),u.kc("alt",i.username)("ngClass",u.oc(10,ct,i.is_online))("src","assets/profileImg/"+i.username+".jpg",u.yc),u.Bb(8),u.Jc(i.extension_name),u.Bb(4),u.kc("ngClass",o.rtlDirection?"text-right":"text-left"),u.Bb(3),u.kc("timezone",i.timezone),u.Bb(4),u.kc("ngClass",i.is_online?"text-green-700":"text-red-700"),u.Bb(1),u.Kc("\n            ",i.extension_no,"\n          "),u.Bb(2),u.kc("ngClass",i.is_online?"online":"offline")}}function at(t,e){if(1&t){var n=u.Ub();u.Rb(0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Tb(4,"mat-list",2),u.Ic(5,"\n      "),u.Tb(6,"mat-list-item",3),u.Ic(7,"\n        "),u.Tb(8,"img",4),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(9,"\n        "),u.Tb(10,"h3",5),u.Ic(11),u.Sb(),u.Ic(12,"\n\n        "),u.Tb(13,"div",6),u.Ic(14,"\n          "),u.Tb(15,"mat-slide-toggle",7,8),u.ac("change",(function(t){return u.wc(n),u.ec().changeSoftphoneStatus(t)})),u.Ic(17,"\n          "),u.Tb(18,"span",9),u.Ic(19),u.fc(20,"translate"),u.Sb(),u.Ic(21,"\n          "),u.Sb(),u.Ic(22,"\n        "),u.Sb(),u.Ic(23,"\n      "),u.Sb(),u.Ic(24,"\n    "),u.Sb(),u.Ic(25,"\n\n    "),u.Tb(26,"div",10),u.Ic(27,"\n      "),u.Tb(28,"mat-list",11),u.Ic(29,"\n        "),u.Gc(30,st,26,12,"mat-list-item",12),u.fc(31,"myFilter"),u.Ic(32,"\n      "),u.Sb(),u.Ic(33,"\n    "),u.Sb(),u.Ic(34,"\n  "),u.Sb(),u.Ic(35,"\n"),u.Qb()}if(2&t){var i=u.sc(16),o=u.ec();u.Bb(8),u.kc("alt",o.loggedInUser?o.loggedInUser.name:"")("src","assets/profileImg/"+(o.loggedInUser?o.loggedInUser.email:"0")+".jpg",u.yc),u.Bb(3),u.Kc(" ",o.loggedInUser?o.loggedInUser.name:""," "),u.Bb(2),u.kc("dir",o.rtlDirection?"ltr":"rtl"),u.Bb(2),u.kc("checked",o.loggedInUserExtension&&o.softphoneConnectedStatus&&o.loggedInUserExtension.extension.is_online),u.Bb(4),u.Kc("\n            ",u.gc(20,7,i.checked?"global.active":"global.deactivate"),"\n          "),u.Bb(11),u.kc("ngForOf",u.hc(31,9,o.softPhoneUsers,o.filterArgs))}}var lt=function(t){function e(e,n,i,o,r,c,a,l,h,b){var f=t.call(this,i,c)||this;return f.api=e,f.http=n,f.injector=i,f.apiService=o,f.messageService=r,f.userInfoService=c,f.softPhoneService=a,f.translateService=l,f.refreshLoginService=h,f.loadingIndicatorService=b,f.triggerBottomSheet=new u.o,f.rtlDirection=!1,f.tabId=0,f.softPhoneUsers=[],f.timerDueTime=0,f.timerPeriod=15e3,f.globalTimer=null,f.loggedInUserExtension=null,f.filterArgs="",f.callPopUpMinimizeStatus=!1,f.softphoneConnectedStatus=!1,f.currentIp="",f.extensionStatusSubscription=new s.Subscription,f.softphoneConnectedStatusSubscription=new s.Subscription,f._subscription=new s.Subscription,f._subscription.add(f.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return f.callPopUpMinimizeStatus=t}))),f._subscription.add(f.softPhoneService.currentConnectedCall.subscribe((function(t){t&&f.clearTimer()}))),f._subscription.add(f.softPhoneService.currentCloseSoftphone.subscribe((function(t){t&&f.ngOnDestroy()}))),f}return rt(e,t),e.prototype.ngOnInit=function(){this.filterArgs=this.loggedInUser.email},e.prototype.getEssentialData=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){c.label=r[1];break}if(6===r[0]&&c.label<o[1]){c.label=o[1],o=r;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(r);break}o[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(t){switch(t.label){case 0:return[4,this.getExtensions()];case 1:return t.sent(),[4,this.setDefaultUnMuteExtension()];case 2:return t.sent(),this.startTimer(),[2]}}))},new((e=void 0)||(e=Promise))((function(i,o){function r(t){try{s(n.next(t))}catch(e){o(e)}}function c(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,c)}s((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.getExtensions=function(){var t=this;return new Promise((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"pbx"}),t.api.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.api.getExtensionList().subscribe((function(n){if(t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),n.success){var i=n.data.filter((function(t){return"2"===t.extension_type&&t.username.length>10}));t.softPhoneService.changeExtensionList(i).then((function(){t.softPhoneUsers=i,t.softPhoneService.sipRegister()})),e(!0)}}),(function(n){n.message&&t.messageService.showMessage(n.message,"error"),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),t.refreshLoginService.openLoginDialog(n),e(!0)})))}))},e.prototype.getExtensionStatus=function(){var t=this;this.extensionStatusSubscription&&this.extensionStatusSubscription.unsubscribe(),this.extensionStatusSubscription=this.apiService.getExtensionStatus().subscribe((function(e){if(e.success&&(t.currentIp&&t.currentIp!=e.meta.ip&&(t.softPhoneService.sipUnRegister(),setTimeout((function(){t.softPhoneService.sipRegister()}),500)),t.currentIp=e.meta.ip,t.softPhoneUsers&&t.softPhoneUsers.length)){var n=e.data.filter((function(t){return"2"===t.extension_type&&t.username.length>10})),i=[];t.softPhoneUsers.map((function(t){var e=n.filter((function(e){return e.username===t.username})).pop();e&&i.push(e)})),t.softPhoneUsers=i.sort((function(t,e){var n=t.is_online,i=e.is_online,o=0;return n>i?o=-1:n<i&&(o=1),o})),t.softPhoneService.changeSoftPhoneUsers(t.softPhoneUsers),t.softphoneConnectedStatusSubscription&&t.softphoneConnectedStatusSubscription.unsubscribe(),t.softphoneConnectedStatusSubscription=t.softPhoneService.currentSoftphoneConnected.subscribe((function(e){e&&(t.softphoneConnectedStatus=t.softPhoneService.getSoftphoneConnectedStatus,i.map((function(e){e.username===t.loggedInUser.email&&(t.loggedInUserExtension={user:t.loggedInUser,extension:e})})))}))}}),(function(e){e.message&&t.messageService.showMessage(e.message,"error"),t.clearTimer(),t.refreshLoginService.openLoginDialog(e)}))},e.prototype.setDefaultUnMuteExtension=function(){var t=this;return new Promise((function(e){t._subscription.add(t.apiService.muteUnMute({extension_no:""+t.loggedInUser.extension_no,is_mute:0}).subscribe((function(){e(!0)}),(function(n){n.message&&t.messageService.showMessage(n.message),t.refreshLoginService.openLoginDialog(n),e(!0)})))}))},e.prototype.openSheet=function(t){this.callPopUpMinimizeStatus?this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call")):this.triggerBottomSheet.emit({component:it,height:"200px",width:"98%",data:t})},e.prototype.getTranslate=function(t){return this.translateService.instant(t)},e.prototype.changeSoftphoneStatus=function(t){t.checked?this.softPhoneService.sipRegister():this.softPhoneService.sipUnRegister()},e.prototype.startTimer=function(){var t=this;this.globalTimer&&(this.globalTimer=null),this.globalTimer=Object(S.a)(this.timerDueTime,this.timerPeriod),this.globalTimerSubscription&&this.globalTimerSubscription.unsubscribe(),this.globalTimerSubscription=this.globalTimer.subscribe((function(){t.globalTimer&&t.getExtensionStatus()}))},e.prototype.clearTimer=function(){this.globalTimerSubscription&&(this.globalTimerSubscription.unsubscribe(),this.globalTimer=null)},e.prototype.ngOnChanges=function(t){var e=this;t.tabId&&0===t.tabId.currentValue&&"granted"===this.activePermissionRequest?(this.clearTimer(),setTimeout((function(){return e.startTimer()}),200)):this.clearTimer(),t.activePermissionRequest&&"granted"===t.activePermissionRequest.currentValue&&this.getEssentialData().finally()},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this.clearTimer(),this.extensionStatusSubscription&&this.extensionStatusSubscription.unsubscribe(),this.softphoneConnectedStatusSubscription&&this.softphoneConnectedStatusSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(u.Nb(k),u.Nb(w.a),u.Nb(u.t),u.Nb(k),u.Nb(X.a),u.Nb(g.a),u.Nb(a.a),u.Nb(c.d),u.Nb(I.a),u.Nb(v.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-soft-phone-information"]],inputs:{rtlDirection:"rtlDirection",activePermissionRequest:"activePermissionRequest",tabId:"tabId"},outputs:{triggerBottomSheet:"triggerBottomSheet"},features:[u.yb,u.zb],decls:2,vars:1,consts:[[4,"ngIf"],[1,"full-width","full-height"],[1,"soft-phone-user","full-width","height-50"],[1,"padding-mini-r-l","full-height"],["matListAvatar","",1,"mat-elevation-z2","my-profile-img",3,"alt","src","error"],["matLine","",1,"font-8-rem","text-weight-bold"],[1,"font-8-rem",3,"dir"],[1,"soft-phone-status",3,"checked","change"],["slideToggle",""],[1,"padding-mini-r-l"],[1,"height-full-minus-50","overflow-x-hide","overflow-y-auto"],[1,"full-width"],["class","highlight cursor-pointer full-height",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"highlight","cursor-pointer","full-height",3,"ngClass","click"],["matListAvatar","",1,"online-user","mat-elevation-z2","width-35","height-35","transition",3,"alt","ngClass","src","error"],["matLine","",1,"font-7-rem","text-weight-bold","no-margin"],["matLine",""],[1,"width-18","height-18","font-8-em","pos-rel","top-two-tenth",3,"ngClass"],[1,"font-8-em","text-gray-600",3,"timezone"],[1,"pos-rel","height-30","line-height-30","round-corner-all","font-8-em",3,"ngClass"],[1,"user-soft-phone-status","pos-rel","text-gray-500","width-30","height-30","round-corner-all","transition",3,"ngClass"]],template:function(t,e){1&t&&(u.Gc(0,at,36,12,"ng-container",0),u.Ic(1,"\n")),2&t&&u.kc("ngIf",0===e.tabId)},directives:function(){return[r.k,D.a,D.d,D.b,L.j,b.b,ot.a,r.j,r.i,p.a,Z.a]},pipes:function(){return[c.c,ht]},styles:['[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.my-profile-img[_ngcontent-%COMP%]{transform:scale(.9)}.soft-phone-user[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,86.3%,.93);background-color:#f1f1f1}.user-soft-phone-status[_ngcontent-%COMP%]:before{border-radius:100px!important;content:"";position:absolute;width:12px;height:12px;left:0;right:0;bottom:0;top:0;margin:auto}.user-soft-phone-status.online[_ngcontent-%COMP%]:before{background-color:#4ec060;-webkit-animation:blink-online-user-light 1s linear infinite;animation:blink-online-user-light 1s linear infinite}.user-soft-phone-status.offline[_ngcontent-%COMP%]:before{background-color:#c30}.online-user.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #4ec060;-webkit-animation:blink-online-user 1s linear infinite;animation:blink-online-user 1s linear infinite}@-webkit-keyframes blink-online-user{0%{box-shadow:0 0 0 2px #4ec060}33.33333%{box-shadow:0 0 0 2px #a6c09e}to{box-shadow:0 0 0 2px #4ec060}}@keyframes blink-online-user{0%{box-shadow:0 0 0 2px #4ec060}33.33333%{box-shadow:0 0 0 2px #a6c09e}to{box-shadow:0 0 0 2px #4ec060}}@-webkit-keyframes blink-online-user-light{0%{background-color:#4ec060}33.33333%{background-color:#a6c09e}to{background-color:#4ec060}}@keyframes blink-online-user-light{0%{background-color:#4ec060}33.33333%{background-color:#a6c09e}to{background-color:#4ec060}}.highlight[_ngcontent-%COMP%]{transition:background .4s!important}.highlight[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.highlight[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid hsla(0,0%,86.3%,.5)}']}),e}(Q.a),ht=function(){function t(){}return t.prototype.transform=function(t,e){return t&&e?t.filter((function(t){return t.username!==e})):t},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=u.Mb({name:"myFilter",type:t,pure:!1}),t}(),ut=n("3Pt+"),bt=function(){function t(t){this.el=t,this.decimal=!1,this.decimalSeparator=".",this.min=-1/0,this.max=1/0,this.onValueChanged=new u.o,this.hasDecimalPoint=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.inputElement=t.nativeElement}return t.prototype.ngOnChanges=function(t){if(t.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),t.min){var e=Number(this.min);this.min=isNaN(e)?-1/0:e}if(t.max){var n=Number(this.max);this.max=isNaN(n)?1/0:n}this.onValueChanged.emit(this.inputElement.value)},t.prototype.onKeyDown=function(t){if(this.navigationKeys.indexOf(t.key)>-1||"a"===t.key&&!0===t.ctrlKey||"c"===t.key&&!0===t.ctrlKey||"v"===t.key&&!0===t.ctrlKey||"x"===t.key&&!0===t.ctrlKey||"a"===t.key&&!0===t.metaKey||"c"===t.key&&!0===t.metaKey||"v"===t.key&&!0===t.metaKey||"x"===t.key&&!0===t.metaKey||this.decimal&&t.key===this.decimalSeparator&&!this.hasDecimalPoint)"Backspace"===t.key&&(this.inputElement.value=this.inputElement.value.substring(0,this.inputElement.value.length));else{if((" "===t.key||isNaN(Number(t.key)))&&t.preventDefault(),this.regex){var e=this.forecastValue(t.key);this.regex.test(e)||t.preventDefault()}var n=Number(this.forecastValue(t.key));(n>this.max||n<this.min)&&t.preventDefault()}},t.prototype.onKeyUp=function(){this.updateDecimalPoint(),this.onValueChanged.emit(this.inputElement.value)},t.prototype.onPaste=function(t){var e=t.clipboardData.getData("text/plain");this.pasteData(e),t.preventDefault()},t.prototype.onDrop=function(t){var e=t.dataTransfer.getData("text");this.inputElement.focus(),this.pasteData(e),t.preventDefault()},t.prototype.updateDecimalPoint=function(){this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator)>-1)},t.prototype.pasteData=function(t){var e=this.sanitizeInput(t);if(!document.execCommand("insertText",!1,e)){var n=this.inputElement;this.inputElement.setRangeText(e,n.selectionStart,n.selectionEnd,"end")}this.updateDecimalPoint()},t.prototype.sanitizeInput=function(t){var e;if(this.decimal&&this.isValidDecimal(t)){var n=new RegExp("[^0-9"+this.decimalSeparator+"]","g");e=t.replace(n,"")}else e=t.replace(/[^0-9]/g,"");var i=this.inputElement.maxLength;if(i>0){var o=i-this.inputElement.value.length;e=o>0?e.substring(0,o):""}return e},t.prototype.isValidDecimal=function(t){if(this.hasDecimalPoint){var e=this.getSelection();return e&&e.indexOf(this.decimalSeparator)>-1?t.split(this.decimalSeparator).length<=2:t.indexOf(this.decimalSeparator)<0}return t.split(this.decimalSeparator).length<=2},t.prototype.getSelection=function(){return this.inputElement.value.substring(this.inputElement.selectionStart,this.inputElement.selectionEnd)},t.prototype.forecastValue=function(t){var e=this.inputElement.selectionStart,n=this.inputElement.value,i=n.substring(e,this.inputElement.selectionEnd);return i?n.replace(i,t):n.substring(0,e)+t+n.substring(e)},t.\u0275fac=function(e){return new(e||t)(u.Nb(u.l))},t.\u0275dir=u.Ib({type:t,selectors:[["","digitOnly",""]],hostBindings:function(t,e){1&t&&u.ac("keydown",(function(t){return e.onKeyDown(t)}))("keyup",(function(t){return e.onKeyUp(t)}))("paste",(function(t){return e.onPaste(t)}))("drop",(function(t){return e.onDrop(t)}))},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",min:"min",max:"max",pattern:"pattern"},outputs:{onValueChanged:"onValueChanged"},features:[u.zb]}),t}();function ft(t,e){if(1&t&&(u.Tb(0,"span",10),u.Ic(1),u.Sb()),2&t){var n=u.ec(2);u.Bb(1),u.Kc("\n        ",n.findContact.extension_name,"\n      ")}}function pt(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-grid-tile",11),u.Ic(1,"\n          "),u.Tb(2,"button",12),u.ac("mousedown",(function(){u.wc(n);var t=e.$implicit;return u.ec(2).keyPress(t)})),u.Ic(3),u.Sb(),u.Ic(4,"\n        "),u.Sb()}if(2&t){var i=e.$implicit;u.kc("colspan",1)("rowspan",1),u.Bb(3),u.Kc("\n            ",i.num,"\n          ")}}function gt(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",17),u.ac("click",(function(){return u.wc(n),u.ec(3).removeFromNumber()})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon"),u.Ic(3,"backspace"),u.Sb(),u.Ic(4,"\n      "),u.Sb()}}function dt(t,e){if(1&t){var n=u.Ub();u.Tb(0,"div",13),u.Ic(1,"\n      "),u.Tb(2,"button",14),u.ac("click",(function(){return u.wc(n),u.ec(2).openButtonSheet()})),u.Ic(3,"\n        "),u.Tb(4,"mat-icon",15),u.Ic(5,"phone"),u.Sb(),u.Ic(6,"\n      "),u.Sb(),u.Ic(7,"\n\n      "),u.Gc(8,gt,5,0,"button",16),u.Ic(9,"\n    "),u.Sb()}if(2&t){var i=u.ec(2);u.Bb(8),u.kc("ngIf",i.numeric.length)}}function mt(t,e){if(1&t){var n=u.Ub();u.Ic(0,"\n      "),u.Tb(1,"div",18),u.Ic(2,"\n        "),u.Tb(3,"button",19),u.ac("click",(function(){return u.wc(n),u.ec(2).transferCall()})),u.Ic(4,"\n          "),u.Tb(5,"span",20),u.Ic(6),u.fc(7,"translate"),u.Sb(),u.Ic(8,"\n        "),u.Sb(),u.Ic(9,"\n\n        "),u.Tb(10,"button",21),u.ac("click",(function(){return u.wc(n),u.ec(2).dismissTransferCall()})),u.Ic(11,"\n          "),u.Tb(12,"span",20),u.Ic(13),u.fc(14,"translate"),u.Sb(),u.Ic(15,"\n        "),u.Sb(),u.Ic(16,"\n      "),u.Sb(),u.Ic(17,"\n    ")}if(2&t){var i=u.ec(2);u.Bb(3),u.kc("disabled",i.disableKeypad),u.Bb(3),u.Jc(u.gc(7,4,"soft_phone.transfer_call")),u.Bb(4),u.kc("disabled",i.disableKeypad),u.Bb(3),u.Jc(u.gc(14,6,"global.dismiss"))}}function It(t,e){if(1&t){var n=u.Ub();u.Rb(0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Tb(4,"div",2),u.Ic(5,"\n      "),u.Tb(6,"input",3),u.ac("onValueChanged",(function(t){return u.wc(n),u.ec().changeNumber(t)})),u.fc(7,"translate"),u.Sb(),u.Ic(8,"\n\n      "),u.Gc(9,ft,2,1,"span",4),u.Ic(10,"\n    "),u.Sb(),u.Ic(11,"\n\n    "),u.Tb(12,"div",5),u.Ic(13,"\n      "),u.Tb(14,"mat-grid-list",6),u.Ic(15,"\n        "),u.Gc(16,pt,5,3,"mat-grid-tile",7),u.Ic(17,"\n      "),u.Sb(),u.Ic(18,"\n    "),u.Sb(),u.Ic(19,"\n\n    "),u.Gc(20,dt,10,1,"div",8),u.Ic(21,"\n\n    "),u.Gc(22,mt,18,8,"ng-template",null,9,u.Hc),u.Ic(24,"\n  "),u.Sb(),u.Ic(25,"\n"),u.Qb()}if(2&t){var i=u.sc(23),o=u.ec();u.Bb(6),u.lc("placeholder",u.gc(7,6,"global.extension_placeholder")),u.kc("ngModel",o.numeric),u.Bb(3),u.kc("ngIf",o.findContact),u.Bb(7),u.kc("ngForOf",o.keys),u.Bb(4),u.kc("ngIf",!o.fromPopUp)("ngIfElse",i)}}var vt=function(){function t(t,e,n){var i=this;this.softPhoneService=t,this.translateService=e,this.messageService=n,this.triggerBottomSheet=new u.o,this.triggerCloseBottomSheet=new u.o,this.rtlDirection=!1,this.tabId=1,this.fromPopUp=!1,this.numeric="",this.oldNumeric="",this.disableKeypad=!1,this.callPopUpMinimizeStatus=!1,this.findContact=null,this.keys=[{num:"1"},{num:"2"},{num:"3"},{num:"4"},{num:"5"},{num:"6"},{num:"7"},{num:"8"},{num:"9"},{num:"*"},{num:"0"},{num:"#"}],this._subscription=new s.Subscription,this._subscription.add(this.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return i.callPopUpMinimizeStatus=t}))),this._subscription.add(this.softPhoneService.currentCloseSoftphone.subscribe((function(t){t&&i.ngOnDestroy()})))}return t.prototype.keyPress=function(t){var e=this;this.numeric+=t.num;var n=this.softPhoneUsers.filter((function(t){return e.numeric===t.extension_no})).pop();this.softPhoneService.sipSendDTMF(t.num),this.findContact=n||null},t.prototype.removeFromNumber=function(){var t=this;if(""!==this.oldNumeric)this.numeric=this.oldNumeric,this.oldNumeric="";else{this.numeric=this.numeric.substring(0,this.numeric.length-1);var e=this.softPhoneUsers.filter((function(e){return t.numeric===e.extension_no})).pop();this.findContact=e||null}},t.prototype.changeNumber=function(t){var e=this;this.numeric=t;var n=this.softPhoneUsers.filter((function(t){return e.numeric===t.extension_no})).pop();this.findContact=n||null},t.prototype.openButtonSheet=function(){var t=this;if(this.callPopUpMinimizeStatus)this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call"));else if(this.numeric.length){var e=this.softPhoneUsers.filter((function(e){return t.oldNumeric.includes(e.extension_no)})).pop();this.triggerBottomSheet.emit({component:$,height:"100%",width:"100%",data:e||this.numeric})}},t.prototype.transferCall=function(){var t=this;this.disableKeypad=!0;var e=this.softPhoneUsers.filter((function(e){return t.oldNumeric.includes(e.extension_no)})).pop();this.softPhoneService.sipTransfer(e?e.extension_no:this.numeric),setTimeout((function(){return t.triggerCloseBottomSheet.emit()}),1e3)},t.prototype.dismissTransferCall=function(){this.triggerCloseBottomSheet.emit()},t.prototype.getTranslate=function(t){return this.translateService.instant(t)},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(u.Nb(a.a),u.Nb(c.d),u.Nb(X.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-keypad"]],inputs:{rtlDirection:"rtlDirection",tabId:"tabId",fromPopUp:"fromPopUp",softPhoneUsers:"softPhoneUsers"},outputs:{triggerBottomSheet:"triggerBottomSheet",triggerCloseBottomSheet:"triggerCloseBottomSheet"},decls:2,vars:1,consts:[[4,"ngIf"],[1,"full-height"],[1,"input-holder","padding-mini-t-b","text-center","pos-rel","height-50","pos-rel"],["dir","ltr","digitOnly","","type","tel",1,"no-padding","no-border","no-bg","font-full-plus-three-tenth-em","full-width","text-center","height-40",3,"ngModel","placeholder","onValueChanged"],["class","full-width height-20 line-height-20 font-9-em pos-abs left-0 right-0 bottom-full-reverse text-blue-700 text-center",4,"ngIf"],[1,"key-container"],["cols","3","dir","ltr","gutterSize","30","rowHeight","fit",1,"full-height"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],["class","dialer text-center padding-mini-t-b pos-rel",4,"ngIf","ngIfElse"],["inPopUp",""],[1,"full-width","height-20","line-height-20","font-9-em","pos-abs","left-0","right-0","bottom-full-reverse","text-blue-700","text-center"],[3,"colspan","rowspan"],["mat-raised-button","",1,"key","cursor-pointer","no-box-shadow","no-padding","no-border","font-full-plus-half-em","width-50","height-50","line-height-50","text-center","round-corner-all",3,"mousedown"],[1,"dialer","text-center","padding-mini-t-b","pos-rel"],["mat-raised-button","",1,"key","cursor-pointer","no-padding","no-box-shadow","no-border","font-full-plus-three-tenth-em","width-45","height-45","line-height-45","text-center","round-corner-all",3,"click"],[1,"line-height-25","text-white"],["class","remove-number top-full-plus-half no-bg no-border no-padding cursor-pointer pos-abs",3,"click",4,"ngIf"],[1,"remove-number","top-full-plus-half","no-bg","no-border","no-padding","cursor-pointer","pos-abs",3,"click"],[1,"height-60","full-width","pos-abs","bottom-0","padding-full","display-flex","flex-direction-row-reverse","flex-space-around"],["mat-raised-button","","type","button",1,"green-gradient","text-white","line-height-30","font-9-em","text-weight-normal",3,"disabled","click"],[1,"padding-mini-r-l"],["mat-raised-button","","type","button",1,"red-gradient","text-white","line-height-30","font-9-em","text-weight-normal",3,"disabled","click"]],template:function(t,e){1&t&&(u.Gc(0,It,26,8,"ng-container",0),u.Ic(1,"\n")),2&t&&u.kc("ngIf",1===e.tabId)},directives:[r.k,ut.c,b.b,bt,ut.n,ut.q,N.a,r.j,N.c,M.b,p.a],pipes:[c.c],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.key[_ngcontent-%COMP%]{background-color:#e1e1e1;min-width:inherit!important}.key-container[_ngcontent-%COMP%]{height:calc(100% - 120px);padding:1em 4em}.input-holder[_ngcontent-%COMP%]{padding:.5em 3em!important}.dialer[_ngcontent-%COMP%]{height:50px}.dialer[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{background-color:#4ec060}.remove-number[_ngcontent-%COMP%]{right:6.5em}"]}),t}(),St=n("K3ar"),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function xt(t,e){if(1&t&&(u.Tb(0,"mat-list-item",7),u.Ic(1,"\n          "),u.Tb(2,"mat-icon",8),u.Ic(3),u.Sb(),u.Ic(4,"\n\n          "),u.Tb(5,"h3",9),u.Ic(6),u.Sb(),u.Ic(7,"\n\n          "),u.Tb(8,"p",10),u.Ic(9),u.fc(10,"jalali"),u.Sb(),u.Ic(11,"\n\n          "),u.Tb(12,"div",11),u.Ic(13),u.fc(14,"translate"),u.Sb(),u.Ic(15,"\n        "),u.Sb()),2&t){var n=u.ec().$implicit,i=u.ec(3);u.Bb(2),u.Db(n.color?n.color:""),u.Bb(1),u.Kc("\n            ",n.icon?n.icon:"","\n          "),u.Bb(3),u.Lc("\n            ",n.user?n.user.extension_name+" -":""," ",n.src?n.src:"","\n          "),u.Bb(3),u.Jc(n.date?u.hc(10,7,n.date,i.rtlDirection):""),u.Bb(4),u.Kc("\n            ",n.desc?u.gc(14,10,n.desc):"","\n          ")}}function kt(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n        "),u.Gc(2,xt,16,12,"mat-list-item",6),u.Ic(3,"\n      "),u.Qb()),2&t){var n=e.$implicit;u.Bb(2),u.kc("ngIf",n)}}function _t(t,e){if(1&t&&(u.Tb(0,"mat-list",4),u.Ic(1,"\n      "),u.Gc(2,kt,4,1,"ng-container",5),u.Ic(3,"\n    "),u.Sb()),2&t){var n=u.ec(2);u.Bb(2),u.kc("ngForOf",n.cdrExtensionList)}}function Tt(t,e){1&t&&(u.Ic(0),u.fc(1,"translate")),2&t&&u.Kc("\n      ",u.gc(1,1,"global.no_result"),"\n    ")}function Ct(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Gc(4,_t,4,1,"mat-list",2),u.Ic(5,"\n\n    "),u.Gc(6,Tt,2,3,"ng-template",null,3,u.Hc),u.Ic(8,"\n  "),u.Sb(),u.Ic(9,"\n"),u.Qb()),2&t){var n=u.sc(7),i=u.ec();u.Bb(2),u.kc("dir",i.rtlDirection?"rtl":"ltr"),u.Bb(2),u.kc("ngIf",i.cdrExtensionList.length)("ngIfElse",n)}}var Pt=function(t){function e(e,n,i,o,r,c,a,l){var h=t.call(this,n,o)||this;return h.api=e,h.injector=n,h.messageService=i,h.userInfoService=o,h.softPhoneService=r,h.refreshLoginService=c,h.companySelectorService=a,h.loadingIndicatorService=l,h.triggerBottomSheet=new u.o,h.rtlDirection=!1,h.tabId=2,h.loggedInUserExtension="",h.cdrList=[],h.callPopUpMinimizeStatus=!1,h.cdrExtensionList=[],h._subscription=new s.Subscription,h._subscription.add(h.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return h.callPopUpMinimizeStatus=t}))),h._subscription.add(h.softPhoneService.currentExtensionList.subscribe((function(t){t&&t.length&&setTimeout((function(){h.loggedInUserExtension=t.filter((function(t){return t.username===h.loggedInUser.email})).pop().extension_no}))}))),h._subscription.add(h.softPhoneService.currentCloseSoftphone.subscribe((function(t){t&&h.ngOnDestroy()}))),h}return wt(e,t),e.prototype.getCdr=function(){var t=this;this.cdrExtensionList=[],this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"pbx"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token;var e=this.companySelectorService.currentCompany;this._subscription.add(this.api.getCdr(this.loggedInUserExtension).subscribe((function(n){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),n.success&&n.data.length&&(t.cdrList=n.data,t.cdrList.map((function(n){var i=null,o=null,r=n.src.replace("-"+e.subdomain,"");if(t.loggedInUserExtension===n.dst){o=t.softPhoneUsers.filter((function(t){return t.extension_no===r})).pop();var c="",s="";switch(n.disposition){case"NO ANSWER":c="soft_phone.call_logs.missed_call",s="text-red-500";break;case"BUSY":c="soft_phone.call_logs.rejected",s="text-orange-600";break;case"ANSWERED":c="soft_phone.call_logs.answered",s="text-green-500"}i={src:r,dst:n.dst,icon:"NO ANSWER"===n.disposition?"phone_missed":"phone_callback",date:n.calldate,color:s,desc:c}}else if(t.loggedInUserExtension===r){switch(o=t.softPhoneUsers.filter((function(t){return t.extension_no===n.dst})).pop(),c="",s="",n.disposition){case"NO ANSWER":c="soft_phone.call_logs.not_answered",s="text-red-500";break;case"BUSY":c="soft_phone.call_logs.busy",s="text-orange-600";break;case"ANSWERED":c="soft_phone.call_logs.answered",s="text-green-500"}i={src:n.dst,dst:r,icon:"phone_forwarded",date:n.calldate,color:s,desc:c}}o?(i=yt(yt({},i),{user:o}),t.cdrExtensionList.push(i)):t.cdrExtensionList.push(i)})))}),(function(e){e.message&&t.messageService.showMessage(e.message,"error"),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),t.refreshLoginService.openLoginDialog(e)})))},e.prototype.ngOnChanges=function(t){var e=this;t.tabId&&t.tabId.currentValue&&2===t.tabId.currentValue&&setTimeout((function(){return e.getCdr()}))},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(u.Nb(k),u.Nb(u.t),u.Nb(X.a),u.Nb(g.a),u.Nb(a.a),u.Nb(I.a),u.Nb(x.a),u.Nb(v.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-soft-phone-logs"]],inputs:{rtlDirection:"rtlDirection",tabId:"tabId",softPhoneUsers:"softPhoneUsers"},outputs:{triggerBottomSheet:"triggerBottomSheet"},features:[u.yb,u.zb],decls:2,vars:1,consts:[[4,"ngIf"],[1,"full-height","flex-center",3,"dir"],["class","cdr-mat-list full-width full-height overflow-x-hide overflow-y-auto",4,"ngIf","ngIfElse"],["noItem",""],[1,"cdr-mat-list","full-width","full-height","overflow-x-hide","overflow-y-auto"],[4,"ngFor","ngForOf"],["class","highlight cursor-pointer height-45 padding-tiny-t-b padding-mini-r-l",4,"ngIf"],[1,"highlight","cursor-pointer","height-45","padding-tiny-t-b","padding-mini-r-l"],["mat-list-icon",""],["matLine","",1,"font-7-rem","text-weight-bold","line-height-20"],["matLine","",1,"font-7-em","text-gray-600","line-height-15"],[1,"user-soft-phone-status","white-space-nowrap","pos-rel","text-gray-500","round-corner-all","transition","font-7-em"]],template:function(t,e){1&t&&(u.Gc(0,Ct,10,3,"ng-container",0),u.Ic(1,"\n")),2&t&&u.kc("ngIf",2===e.tabId)},directives:[r.k,b.b,D.a,r.j,D.d,p.a,D.c,L.j],pipes:[St.a,c.c],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.highlight[_ngcontent-%COMP%]{transition:background .4s!important}.highlight[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.highlight[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid hsla(0,0%,86.3%,.5)}"]}),e}(Q.a),Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ut(t,e){1&t&&(u.Tb(0,"div",9),u.Ic(1,"\n          "),u.Tb(2,"mat-icon",10),u.Ic(3,"lock"),u.Sb(),u.Ic(4,"\n        "),u.Sb())}function Dt(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-list-item",5),u.ac("click",(function(){u.wc(n);var t=e.$implicit;return u.ec(2).openSheet(t)})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon",6),u.Ic(3,"group"),u.Sb(),u.Ic(4,"\n\n        "),u.Tb(5,"h3",7),u.Ic(6),u.Sb(),u.Ic(7,"\n\n        "),u.Gc(8,Ut,5,0,"div",8),u.Ic(9,"\n      "),u.Sb()}if(2&t){var i=e.$implicit;u.Bb(6),u.Kc(" ",i.extension_name," "),u.Bb(2),u.kc("ngIf",i.password.length)}}function Mt(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Tb(4,"div",2),u.Ic(5),u.fc(6,"translate"),u.Sb(),u.Ic(7,"\n\n    "),u.Tb(8,"mat-list",3),u.Ic(9,"\n      "),u.Gc(10,Dt,10,2,"mat-list-item",4),u.Ic(11,"\n    "),u.Sb(),u.Ic(12,"\n  "),u.Sb(),u.Ic(13,"\n"),u.Qb()),2&t){var n=u.ec();u.Bb(2),u.kc("dir",n.rtlDirection?"rtl":"ltr"),u.Bb(3),u.Jc(u.gc(6,3,"soft_phone.conferences.conference_list")),u.Bb(5),u.kc("ngForOf",n.conferenceList)}}var Nt=function(t){function e(e,n,i,o,r,c,a,l){var h=t.call(this,i,c)||this;return h.softPhoneService=e,h.translateService=n,h.injector=i,h.apiService=o,h.refreshLoginService=r,h.userInfoService=c,h.loadingIndicatorService=a,h.messageService=l,h.rtlDirection=!1,h.tabId=3,h.softPhoneUsers=[],h.triggerBottomSheet=new u.o,h.conferenceList=[],h.callPopUpMinimizeStatus=!1,h.softPhoneConnectedStatus=!1,h._subscription=new s.Subscription,h._subscription.add(h.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return h.callPopUpMinimizeStatus=t}))),h._subscription.add(h.softPhoneService.currentCloseSoftphone.subscribe((function(t){t&&h.ngOnDestroy()}))),h}return Bt(e,t),e.prototype.ngOnInit=function(){var t=this;this._subscription.add(this.softPhoneService.currentSoftphoneConnected.subscribe((function(e){return t.softPhoneConnectedStatus=e})))},e.prototype.getConferenceList=function(){var t=this;this.conferenceList=[],this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"pbx"}),this.apiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.apiService.getConferenceList().subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),e.success&&e.data.map((function(e){var n=Ot({username:"0",is_online:0,extension_name:e.conf_name,caller_id_number:e.conf_number,extension_no:e.conf_number,extension_type:"2"},e);t.conferenceList.push(n)}))}),(function(e){e.message&&t.messageService.showMessage(e.message,"error"),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"pbx"}),t.refreshLoginService.openLoginDialog(e)})))},e.prototype.openSheet=function(t){if(this.softPhoneConnectedStatus){if(this.callPopUpMinimizeStatus)return void this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call"));this.triggerBottomSheet.emit({component:it,height:"200px",width:"98%",data:Ot(Ot({},t),{type:"conference"})})}},e.prototype.getTranslate=function(t){return this.translateService.instant(t)},e.prototype.ngOnChanges=function(t){t.tabId&&t.tabId.currentValue&&3===t.tabId.currentValue&&this.getConferenceList()},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(u.Nb(a.a),u.Nb(c.d),u.Nb(u.t),u.Nb(k),u.Nb(I.a),u.Nb(g.a),u.Nb(v.a),u.Nb(X.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-soft-phone-conference"]],inputs:{rtlDirection:"rtlDirection",tabId:"tabId",softPhoneUsers:"softPhoneUsers"},outputs:{triggerBottomSheet:"triggerBottomSheet"},features:[u.yb,u.zb],decls:2,vars:1,consts:[[4,"ngIf"],[1,"full-width","full-height",3,"dir"],["mat-subheader","",1,"pos-rel"],[1,"full-width"],["class","highlight cursor-pointer padding-r-l height-50 margin-b-half",3,"click",4,"ngFor","ngForOf"],[1,"highlight","cursor-pointer","padding-r-l","height-50","margin-b-half",3,"click"],["mat-list-icon",""],["matLine","",1,"font-7-rem","text-weight-bold"],["class","pos-rel text-gray-500 height-30 line-height-35 round-corner-all text-center",4,"ngIf"],[1,"pos-rel","text-gray-500","height-30","line-height-35","round-corner-all","text-center"],[1,"font-full-plus-two-tenth-em"]],template:function(t,e){1&t&&(u.Gc(0,Mt,14,5,"ng-container",0),u.Ic(1,"\n")),2&t&&u.kc("ngIf",3===e.tabId)},directives:[r.k,b.b,D.f,D.a,r.j,D.d,p.a,D.c,L.j],pipes:[c.c],styles:[".highlight[_ngcontent-%COMP%]{transition:background .4s!important}.highlight[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]}),e}(Q.a),Lt=n("+ixM"),zt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Et(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",4),u.ac("click",(function(){return u.wc(n),u.ec(2).openSoftphoneExtension()})),u.Ic(1,"\n      "),u.Tb(2,"span",5),u.Ic(3),u.fc(4,"translate"),u.Sb(),u.Ic(5,"\n    "),u.Sb()}2&t&&(u.Bb(3),u.Jc(u.gc(4,1,"soft_phone.settings.extension_settings")))}function jt(t,e){if(1&t&&(u.Ic(0,"\n      "),u.Tb(1,"a",6),u.Ic(2,"\n        "),u.Tb(3,"span",5),u.Ic(4),u.fc(5,"translate"),u.Sb(),u.Ic(6,"\n      "),u.Sb(),u.Ic(7,"\n    ")),2&t){var n=u.ec(2);u.Bb(1),u.kc("href",n.url,u.yc),u.Bb(3),u.Jc(u.gc(5,2,"soft_phone.settings.extension_settings"))}}function Rt(t,e){if(1&t&&(u.Rb(0),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.Ic(3,"\n    "),u.Gc(4,Et,6,3,"button",2),u.Ic(5,"\n\n    "),u.Gc(6,jt,8,4,"ng-template",null,3,u.Hc),u.Ic(8,"\n  "),u.Sb(),u.Ic(9,"\n"),u.Qb()),2&t){var n=u.sc(7),i=u.ec();u.Bb(4),u.kc("ngIf",i.isElectron)("ngIfElse",n)}}var Gt=function(t){function e(e,n,i,o,r,c){var s=t.call(this,e,o)||this;return s.injector=e,s.addressService=n,s.electronService=i,s.userInfoService=o,s.windowManagerService=r,s.companySelectorService=c,s.rtlDirection=!1,s.tabId=4,s.triggerBottomSheet=new u.o,s.url="",s}return zt(e,t),e.prototype.ngOnInit=function(){this.isElectron||(this.url=y.a.PBX_LOGIN_EXTENSION+"/login.php?action=loginbytoken&comp_id="+this.companySelectorService.currentCompany.id+"&token="+this.loginData.access_token)},e.prototype.openSoftphoneExtension=function(){var t=this,e=y.a.PBX_LOGIN_EXTENSION+"/login.php?action=loginbytoken&comp_id="+this.companySelectorService.currentCompany.id+"&token="+this.loginData.access_token,n=this.windowManagerService.serviceList.filter((function(t){return"web_browser"===t.service_name})).pop();this.windowManagerService.openWindowState(n).then((function(){setTimeout((function(){t.windowManagerService.activeWindow(n),t.addressService.changeAddress({url:e,title:"",disabled:!0})}),500)}))},Object.defineProperty(e.prototype,"isElectron",{get:function(){return this.electronService.isElectron},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(u.Nb(u.t),u.Nb(Lt.a),u.Nb(d.a),u.Nb(g.a),u.Nb(l.a),u.Nb(x.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-soft-phone-settings"]],inputs:{rtlDirection:"rtlDirection",tabId:"tabId"},outputs:{triggerBottomSheet:"triggerBottomSheet"},features:[u.yb],decls:2,vars:1,consts:[[4,"ngIf"],[1,"full-height","padding-full"],["class","green-gradient full-width text-white font-8-rem margin-auto width-90 height-35 padding-mini-r-l","mat-raised-button","","type","submit",3,"click",4,"ngIf","ngIfElse"],["webLink",""],["mat-raised-button","","type","submit",1,"green-gradient","full-width","text-white","font-8-rem","margin-auto","width-90","height-35","padding-mini-r-l",3,"click"],[1,"padding-mini-r-l"],["target","_blank","mat-raised-button","","type","submit",1,"green-gradient","full-width","text-white","font-8-rem","margin-auto","width-90","height-35","padding-mini-r-l",3,"href"]],template:function(t,e){1&t&&(u.Gc(0,Rt,10,2,"ng-container",0),u.Ic(1,"\n")),2&t&&u.kc("ngIf",e.tabId&&4===e.tabId)},directives:[r.k,M.b,M.a],pipes:[c.c],encapsulation:2}),e}(Q.a),Kt=n("wZkO"),At=["bottomSheet"],Ft=["audioRemote"],Jt=["ringtone"],Yt=["ringbacktone"],Ht=["dtmfTone"];function qt(t,e){if(1&t){var n=u.Ub();u.Tb(0,"a",27),u.ac("click",(function(){return u.wc(n),u.ec().maximizeCallPopUp()})),u.Ic(1),u.fc(2,"translate"),u.Sb()}2&t&&(u.Bb(1),u.Kc("\n    ",u.gc(2,1,"soft_phone.main.back_to_call"),"\n  "))}function Vt(t,e){if(1&t&&(u.Ic(0,"\n          "),u.Tb(1,"mat-icon",30),u.Ic(2),u.Sb(),u.Ic(3,"\n          "),u.Tb(4,"span",31),u.Ic(5),u.Sb(),u.Ic(6,"\n        ")),2&t){var n=u.ec().$implicit;u.Bb(2),u.Kc("\n            ",n.icon,"\n          "),u.Bb(3),u.Jc(n.name)}}function Wt(t,e){1&t&&(u.Tb(0,"mat-tab",28),u.Ic(1,"\n        "),u.Gc(2,Vt,7,2,"ng-template",29),u.Ic(3,"\n      "),u.Sb())}function $t(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",32),u.ac("click",(function(){return u.wc(n),u.ec().getPermissionAccess()})),u.Ic(1),u.fc(2,"translate"),u.Sb()}2&t&&(u.Bb(1),u.Kc("\n          ",u.gc(2,1,"soft_phone.call_pop_up.get_permission"),"\n        "))}function Xt(t,e){1&t&&(u.Tb(0,"p",33),u.Ic(1),u.fc(2,"translate"),u.Sb()),2&t&&(u.Bb(1),u.Kc("\n          ",u.gc(2,1,"soft_phone.call_pop_up.request_permission_title_denied"),"\n        "))}function Qt(t,e){1&t&&(u.Tb(0,"div",34),u.Ic(1,"\n    "),u.Tb(2,"div",35),u.Ic(3,"\n      "),u.dc(),u.Tb(4,"svg",36),u.Ic(5,"\n        "),u.Tb(6,"rect",37),u.Ic(7,"\n          "),u.Ob(8,"animate",38),u.Ic(9,"\n          "),u.Ob(10,"animate",39),u.Ic(11,"\n        "),u.Sb(),u.Ic(12,"\n        "),u.Tb(13,"rect",40),u.Ic(14,"\n          "),u.Ob(15,"animate",41),u.Ic(16,"\n          "),u.Ob(17,"animate",42),u.Ic(18,"\n        "),u.Sb(),u.Ic(19,"\n        "),u.Tb(20,"rect",43),u.Ic(21,"\n          "),u.Ob(22,"animate",44),u.Ic(23,"\n          "),u.Ob(24,"animate",45),u.Ic(25,"\n        "),u.Sb(),u.Ic(26,"\n      "),u.Sb(),u.Ic(27,"\n      "),u.cc(),u.Tb(28,"span",46),u.Ic(29),u.fc(30,"translate"),u.Sb(),u.Ic(31,"\n    "),u.Sb(),u.Ic(32,"\n  "),u.Sb()),2&t&&(u.Bb(29),u.Jc(u.gc(30,1,"global.loading")))}var Zt=function(t){return{"z-index-1":t}},te=function(){function t(t,e,n,i,o,r,c,a){var l=this;this.translate=t,this.electronService=e,this.userInfoService=n,this.softPhoneService=i,this.viewDirection=o,this.notificationService=r,this.refreshLoginService=c,this.loadingIndicatorService=a,this.rtlDirection=!1,this.loadingIndicator=null,this.activeTab=0,this.tabs=[],this.callPopUpMinimizeStatus=!1,this.softPhoneUsers=[],this.activePermissionRequest="prompt",this._subscription=new s.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){l.rtlDirection=t,l.changeMainTabLanguage()}))),this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return l.loadingIndicator=t}))),this._subscription.add(this.softPhoneService.currentSoftPhoneUsers.subscribe((function(t){return l.softPhoneUsers=t}))),this._subscription.add(this.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return l.callPopUpMinimizeStatus=t}))),this._subscription.add(this.softPhoneService.currentActiveTab.subscribe((function(t){return l.activeTab=t})))}return t.prototype.ngOnInit=function(){this.microphonePremissionRequest()},t.prototype.ngAfterViewInit=function(){var t=this;this.softPhoneService.changeAudioRemoteTag({audioRemote:this.audioRemote,ringtone:this.ringtone,ringbacktone:this.ringbacktone,dtmfTone:this.dtmfTone}),this.changeMainTabLanguage(),this._subscription.add(this.softPhoneService.currentOnCallUser.subscribe((function(e){e?t.openButtonSheet({component:$,height:"100%",width:"100%",data:e}):t.bottomSheet&&t.bottomSheet.close()})))},t.prototype.microphonePremissionRequest=function(){var t=this;navigator.permissions.query({name:"microphone"}).then((function(e){t.activePermissionRequest=e.state,"granted"!=t.activePermissionRequest&&t.getPermissionAccess()})).catch((function(){t.activePermissionRequest=null}))},t.prototype.changeMainTabLanguage=function(){var t=this;setTimeout((function(){t.tabs=[{name:t.getTranslate("soft_phone.main.status"),icon:"home"},{name:t.getTranslate("soft_phone.main.dial_pad"),icon:"dialpad"},{name:t.getTranslate("soft_phone.main.call_logs"),icon:"settings_phone"},{name:t.getTranslate("soft_phone.main.public_room"),icon:"group"},{name:t.getTranslate("global.settings"),icon:"settings"}]}),200)},t.prototype.tabChange=function(t){this.activeTab=t.index},t.prototype.openButtonSheet=function(t){try{t.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(t)}catch(e){console.log(e)}},t.prototype.maximizeCallPopUp=function(){this.softPhoneService.changeMinimizeCallPopUp(!1)},t.prototype.getPermissionAccess=function(){var t=this;navigator.getUserMedia({audio:!0},(function(){t.activePermissionRequest="granted"}),(function(e){t.activePermissionRequest="Permission dismissed"==e.message?"prompt":"denied"}))},t.prototype.getTranslate=function(t){return this.translate.instant(t)},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this.softPhoneService.sipHangUp(),this.softPhoneService.sipUnRegister()},t.\u0275fac=function(e){return new(e||t)(u.Nb(c.d),u.Nb(d.a),u.Nb(g.a),u.Nb(a.a),u.Nb(h.a),u.Nb(m.a),u.Nb(I.a),u.Nb(v.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-main"]],viewQuery:function(t,e){if(1&t&&(u.Nc(At,!0),u.Nc(Ft,!0),u.Nc(Jt,!0),u.Nc(Yt,!0),u.Nc(Ht,!0)),2&t){var n=void 0;u.rc(n=u.bc())&&(e.bottomSheet=n.first),u.rc(n=u.bc())&&(e.audioRemote=n.first),u.rc(n=u.bc())&&(e.ringtone=n.first),u.rc(n=u.bc())&&(e.ringbacktone=n.first),u.rc(n=u.bc())&&(e.dtmfTone=n.first)}},decls:81,vars:49,consts:[[1,"soft-phone-wrapper","full-height","bg-white","display-flex","overflow-hide",3,"dir"],["class","display-block full-width height-35 line-height-35 font-8-em back-to-call text-white cursor-pointer text-center pos-rel z-index-99",3,"click",4,"ngIf"],[1,"soft-phone-container","full-width","pos-rel",3,"ngClass"],[3,"ngClass","activePermissionRequest","tabId","rtlDirection","triggerBottomSheet"],[3,"ngClass","tabId","rtlDirection","softPhoneUsers","triggerBottomSheet"],[3,"ngClass","tabId","rtlDirection","triggerBottomSheet"],[1,"soft-phone-toolbar","clear-both","full-width","height-45","z-index-1"],["color","primary",1,"full-height","soft-phone-tab",3,"selectedIndex","selectedTabChange","selectedIndexChange"],["class","full-height",4,"ngFor","ngForOf"],["bottomSheet",""],[1,"show-extension-list","pos-abs","full-height","z-index-9999","left-0","right-0","margin-auto","round-corner-top","bg-white","transition","overflow-hide",3,"ngClass","dir"],[1,"full-width","height-45","line-height-45","padding-r-l","no-margin"],[1,"pos-abs","top-half","cursor-pointer","no-bg","no-border","no-box-shadow","width-30","height-30",3,"ngClass"],[1,"text-grey-500","line-height-30"],[1,"height-full-minus-45","flex-center","flex-direction-column"],[1,"padding-full"],[1,"no-margin"],["mat-raised-button","","class","green-gradient full-width text-white font-8-rem margin-auto width-90 height-35 padding-mini-r-l",3,"click",4,"ngIf"],["class","margin-t-full-3 text-amber-900",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],["autoplay","autoplay"],["audioRemote",""],["loop","",3,"src"],["ringtone",""],["ringbacktone",""],[3,"src"],["dtmfTone",""],[1,"display-block","full-width","height-35","line-height-35","font-8-em","back-to-call","text-white","cursor-pointer","text-center","pos-rel","z-index-99",3,"click"],[1,"full-height"],["class","full-height","mat-tab-label",""],["mat-list-icon","",1,"clear-both","text-gray-a300","height-20","width-20","font-full-plus-half-em"],[1,"font-half-em","clear-both","text-weight-bold"],["mat-raised-button","",1,"green-gradient","full-width","text-white","font-8-rem","margin-auto","width-90","height-35","padding-mini-r-l",3,"click"],[1,"margin-t-full-3","text-amber-900"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Gc(2,qt,3,3,"a",1),u.Ic(3,"\n  "),u.Tb(4,"div",2),u.Ic(5,"\n    "),u.Ic(6,"\n    "),u.Tb(7,"app-soft-phone-information",3),u.ac("triggerBottomSheet",(function(t){return e.openButtonSheet(t)})),u.Sb(),u.Ic(8,"\n    "),u.Ic(9,"\n\n    "),u.Ic(10,"\n\n    "),u.Ic(11,"\n    "),u.Tb(12,"app-soft-phone-keypad",4),u.ac("triggerBottomSheet",(function(t){return e.openButtonSheet(t)})),u.Sb(),u.Ic(13,"\n    "),u.Ic(14,"\n\n    "),u.Ic(15,"\n    "),u.Tb(16,"app-soft-phone-logs",4),u.ac("triggerBottomSheet",(function(t){return e.openButtonSheet(t)})),u.Sb(),u.Ic(17,"\n    "),u.Ic(18,"\n\n    "),u.Ic(19,"\n    "),u.Tb(20,"app-soft-phone-conference",4),u.ac("triggerBottomSheet",(function(t){return e.openButtonSheet(t)})),u.Sb(),u.Ic(21,"\n    "),u.Ic(22,"\n\n    "),u.Ic(23,"\n    "),u.Tb(24,"app-soft-phone-settings",5),u.ac("triggerBottomSheet",(function(t){return e.openButtonSheet(t)})),u.Sb(),u.Ic(25,"\n    "),u.Ic(26,"\n  "),u.Sb(),u.Ic(27,"\n\n  "),u.Tb(28,"div",6),u.Ic(29,"\n    "),u.Tb(30,"mat-tab-group",7),u.ac("selectedTabChange",(function(t){return e.tabChange(t)}))("selectedIndexChange",(function(t){return e.activeTab=t})),u.Ic(31,"\n      "),u.Gc(32,Wt,4,0,"mat-tab",8),u.Ic(33,"\n    "),u.Sb(),u.Ic(34,"\n  "),u.Sb(),u.Ic(35,"\n\n  "),u.Ob(36,"app-soft-phone-bottom-sheet",null,9),u.Ic(38,"\n\n  "),u.Tb(39,"div",10),u.Ic(40,"\n    "),u.Tb(41,"h3",11),u.Ic(42),u.fc(43,"translate"),u.Sb(),u.Ic(44,"\n\n    "),u.Tb(45,"button",12),u.Ic(46,"\n      "),u.Tb(47,"mat-icon",13),u.Ic(48,"close"),u.Sb(),u.Ic(49,"\n    "),u.Sb(),u.Ic(50,"\n\n    "),u.Tb(51,"div",14),u.Ic(52,"\n      "),u.Tb(53,"div",15),u.Ic(54,"\n        "),u.Tb(55,"h3",16),u.Ic(56),u.fc(57,"translate"),u.Sb(),u.Ic(58,"\n\n        "),u.Gc(59,$t,3,3,"button",17),u.Ic(60,"\n\n        "),u.Gc(61,Xt,3,3,"p",18),u.Ic(62,"\n      "),u.Sb(),u.Ic(63,"\n    "),u.Sb(),u.Ic(64,"\n  "),u.Sb(),u.Ic(65,"\n\n  "),u.Gc(66,Qt,33,3,"div",19),u.Ic(67,"\n"),u.Sb(),u.Ic(68,"\n\n"),u.Ob(69,"audio",20,21),u.Ic(71,"\n"),u.Ob(72,"audio",22,23),u.Ic(74,"\n"),u.Ob(75,"audio",22,24),u.Ic(77,"\n"),u.Ob(78,"audio",25,26),u.Ic(80,"\n")),2&t&&(u.kc("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(2),u.kc("ngIf",e.callPopUpMinimizeStatus),u.Bb(2),u.kc("ngClass",e.callPopUpMinimizeStatus?"height-full-minus-80":"height-full-minus-45"),u.Bb(3),u.kc("ngClass",u.oc(39,Zt,0===e.activeTab))("activePermissionRequest",e.activePermissionRequest)("tabId",e.activeTab)("rtlDirection",e.rtlDirection),u.Bb(5),u.kc("ngClass",u.oc(41,Zt,1===e.activeTab))("tabId",e.activeTab)("rtlDirection",e.rtlDirection)("softPhoneUsers",e.softPhoneUsers),u.Bb(4),u.kc("ngClass",u.oc(43,Zt,2===e.activeTab))("tabId",e.activeTab)("rtlDirection",e.rtlDirection)("softPhoneUsers",e.softPhoneUsers),u.Bb(4),u.kc("ngClass",u.oc(45,Zt,3===e.activeTab))("tabId",e.activeTab)("rtlDirection",e.rtlDirection)("softPhoneUsers",e.softPhoneUsers),u.Bb(4),u.kc("ngClass",u.oc(47,Zt,4===e.activeTab))("tabId",e.activeTab)("rtlDirection",e.rtlDirection),u.Bb(6),u.kc("selectedIndex",e.activeTab),u.Bb(2),u.kc("ngForOf",e.tabs),u.Bb(7),u.kc("ngClass",e.activePermissionRequest&&"granted"!=e.activePermissionRequest?"bottom-0":"bottom-full-reverse-percent")("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(3),u.Kc("\n      ",u.gc(43,35,"soft_phone.call_pop_up.permission_access"),"\n    "),u.Bb(3),u.kc("ngClass",e.rtlDirection?"left-half":"right-half"),u.Bb(11),u.Jc(u.gc(57,37,"soft_phone.call_pop_up.request_permission_title")),u.Bb(3),u.kc("ngIf","prompt"==e.activePermissionRequest),u.Bb(2),u.kc("ngIf","denied"==e.activePermissionRequest),u.Bb(5),u.kc("ngIf",e.loadingIndicator&&e.loadingIndicator.status&&"pbx"===e.loadingIndicator.serviceName),u.Bb(6),u.kc("src","assets/sounds/ringtone.wav",u.yc),u.Bb(3),u.kc("src","assets/sounds/ringbacktone.wav",u.yc),u.Bb(3),u.kc("src","assets/sounds/dtmf.wav",u.yc))},directives:[b.b,r.k,r.i,lt,vt,Pt,Nt,Gt,Kt.b,r.j,C,p.a,Kt.a,Kt.c,D.c,M.b],pipes:[c.c],styles:[".soft-phone-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:stretch}.soft-phone-wrapper[_ngcontent-%COMP%]   .soft-phone-toolbar[_ngcontent-%COMP%]{border-top:1px solid hsla(0,0%,86.3%,.93);background-color:#f1f1f1}.soft-phone-wrapper[_ngcontent-%COMP%]   .mat-list-avatar[_ngcontent-%COMP%]{border:1px solid #bbb}.back-to-call[_ngcontent-%COMP%]{-webkit-animation:glowing 1s infinite;animation:glowing 1s infinite}@-webkit-keyframes glowing{0%{background-color:#46b241;-webkit-box-shadow:0 0 3px #46b241}50%{background-color:#418252;-webkit-box-shadow:0 0 10px #418252}to{background-color:#46b241;-webkit-box-shadow:0 0 3px #46b241}}@keyframes glowing{0%{background-color:#46b241;box-shadow:0 0 3px #46b241}50%{background-color:#418252;box-shadow:0 0 10px #418252}to{background-color:#46b241;box-shadow:0 0 3px #46b241}}"]}),t}();function ee(t,e){if(1&t&&(u.Ic(0,"\n      "),u.Tb(1,"h3",10),u.Ic(2,"\n        "),u.Tb(3,"mat-icon",11),u.Ic(4),u.Sb(),u.Ic(5),u.Sb(),u.Ic(6,"\n    ")),2&t){var n=u.ec();u.Bb(3),u.kc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),u.Bb(1),u.Jc(n.data.icon),u.Bb(1),u.Kc("\n        ",n.rtlDirection?n.data.name_fa:n.data.name,"\n      ")}}function ne(t,e){if(1&t&&(u.Ic(0,"\n      "),u.Tb(1,"h3",12),u.Ic(2,"\n        "),u.Tb(3,"mat-icon",11),u.Ic(4),u.Sb(),u.Ic(5),u.Sb(),u.Ic(6,"\n    ")),2&t){var n=u.ec();u.Bb(3),u.kc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),u.Bb(1),u.Jc(n.data.icon),u.Bb(1),u.Kc("\n        ",n.rtlDirection?n.data.name_fa:n.data.name,"\n      ")}}function ie(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",13),u.ac("click",(function(t){return u.wc(n),u.ec().minimize(),t.stopPropagation()})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon",8),u.Ic(3,"\n          minimize\n        "),u.Sb(),u.Ic(4,"\n      "),u.Sb()}}function oe(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",7),u.ac("click",(function(t){return u.wc(n),u.ec().restore(),t.stopPropagation()})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon",8),u.Ic(3,"\n          filter_none\n        "),u.Sb(),u.Ic(4,"\n      "),u.Sb()}}function re(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",7),u.ac("click",(function(t){return u.wc(n),u.ec().maximize(),t.stopPropagation()})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon",8),u.Ic(3,"\n          crop_square\n        "),u.Sb(),u.Ic(4,"\n      "),u.Sb()}}var ce=function(){function t(t,e,n){var i=this;this.windowManagerService=t,this.softPhoneService=e,this.viewDirection=n,this.rtlDirection=!1,this._subscription=new s.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return i.rtlDirection=t})))}return t.prototype.ngOnInit=function(){var t=this;this._subscription.add(this.windowManagerService.windowsList.subscribe((function(e){t.windowInstance=e.filter((function(e){return e.windowService.service_name===t.data.service_name})).pop()})))},t.prototype.activeWindow=function(){this.windowManagerService.activeWindow(this.data)},t.prototype.minimize=function(){this.windowManagerService.minimizeWindow(this.data)},t.prototype.maximize=function(){this.windowManagerService.maximizeWindow(this.data)},t.prototype.restore=function(){this.windowManagerService.restoreWindow(this.data)},t.prototype.close=function(t){var e=this;void 0===t&&(t=!1),this.softPhoneService.changeCloseSoftphone(!0).then((function(){e.softPhoneService.sipHangUp(),e.softPhoneService.sipUnRegister(),t||e.windowManagerService.closeWindow(e.data)}))},t.prototype.centerWindow=function(){this.windowManagerService.centerWindow()},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this.close(!0)},t.\u0275fac=function(e){return new(e||t)(u.Nb(l.a),u.Nb(a.a),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-window"]],decls:31,vars:7,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width",3,"dir","click"],["cdkDrag","","cdkDragBoundary",".dashboard-app-boundary","cdkDragRootElement",".cdk-overlay-pane",1,"window-heading","full-width","height-45","padding-mini-r-l","display-flex","align-items-center",3,"dblclick"],[3,"ngIfElse","ngIf"],["notDraggableHeading",""],[1,"window-actions","display-flex",3,"ngClass"],["class","width-30 height-30 text-center line-height-25 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],["class","width-30 height-30 text-center line-height-35 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"text-dark-mode-color","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"window-content","pos-rel"],["cdkDragHandle","",1,"window-title","full-width","full-height","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"text-dark-mode-color","pos-rel",3,"ngClass"],[1,"window-title","full-width","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex"],[1,"width-30","height-30","text-center","line-height-25","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"]],template:function(t,e){if(1&t&&(u.Tb(0,"div",0),u.ac("click",(function(){return e.activeWindow()})),u.Ic(1,"\n  "),u.Tb(2,"div",1),u.ac("dblclick",(function(){return e.windowInstance.isMaximized&&!e.windowInstance.isMaximized?e.maximize():e.windowInstance.isMaximized?e.restore():null})),u.Ic(3,"\n    "),u.Gc(4,ee,7,3,"ng-template",2),u.Ic(5,"\n\n    "),u.Gc(6,ne,7,3,"ng-template",null,3,u.Hc),u.Ic(8,"\n\n    "),u.Tb(9,"div",4),u.Ic(10,"\n      "),u.Gc(11,ie,5,0,"button",5),u.Ic(12,"\n      "),u.Gc(13,oe,5,0,"button",6),u.Ic(14,"\n      "),u.Gc(15,re,5,0,"button",6),u.Ic(16,"\n      "),u.Tb(17,"button",7),u.ac("click",(function(t){return e.close(),t.stopPropagation()})),u.Ic(18,"\n        "),u.Tb(19,"mat-icon",8),u.Ic(20,"close\n        "),u.Sb(),u.Ic(21,"\n      "),u.Sb(),u.Ic(22,"\n    "),u.Sb(),u.Ic(23,"\n  "),u.Sb(),u.Ic(24,"\n  "),u.Tb(25,"div",9),u.Ic(26,"\n    "),u.Ob(27,"app-soft-phone-main"),u.Ic(28,"\n  "),u.Sb(),u.Ic(29,"\n"),u.Sb(),u.Ic(30,"\n")),2&t){var n=u.sc(7);u.kc("dir",e.rtlDirection?"rtl":"ltr"),u.Bb(4),u.kc("ngIfElse",n)("ngIf",e.windowInstance.isDraggable),u.Bb(5),u.kc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),u.Bb(2),u.kc("ngIf",!e.windowInstance.isMinimized),u.Bb(2),u.kc("ngIf",e.windowInstance.isMaximized||e.windowInstance.isMinimized),u.Bb(2),u.kc("ngIf",e.windowInstance.maximizable&&!e.windowInstance.isMaximized&&!e.windowInstance.isMinimized)}},directives:[b.b,f.a,r.k,r.i,p.a,te,f.b],encapsulation:2}),t}(),se=n("kmnG"),ae=n("qFsG");function le(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",20),u.ac("click",(function(){return u.wc(n),u.ec(2).form.get("name").setValue("")})),u.Ic(1,"\n              "),u.Tb(2,"mat-icon"),u.Ic(3,"close"),u.Sb(),u.Ic(4,"\n            "),u.Sb()}}function he(t,e){1&t&&(u.Tb(0,"mat-error"),u.Ic(1),u.fc(2,"translate"),u.Sb()),2&t&&(u.Bb(1),u.Kc("\n              ",u.gc(2,1,"global.name_error"),"\n            "))}function ue(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",20),u.ac("click",(function(){return u.wc(n),u.ec(2).form.get("family").setValue("")})),u.Ic(1,"\n              "),u.Tb(2,"mat-icon"),u.Ic(3,"close"),u.Sb(),u.Ic(4,"\n            "),u.Sb()}}function be(t,e){1&t&&(u.Tb(0,"mat-error"),u.Ic(1),u.fc(2,"translate"),u.Sb()),2&t&&(u.Bb(1),u.Kc("\n              ",u.gc(2,1,"global.family_error"),"\n            "))}function fe(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",20),u.ac("click",(function(){return u.wc(n),u.ec(2).form.get("extension").setValue("")})),u.Ic(1,"\n              "),u.Tb(2,"mat-icon"),u.Ic(3,"close"),u.Sb(),u.Ic(4,"\n            "),u.Sb()}}function pe(t,e){1&t&&(u.Tb(0,"mat-error"),u.Ic(1),u.fc(2,"translate"),u.Sb()),2&t&&(u.Bb(1),u.Kc("\n              ",u.gc(2,1,"global.extension_error"),"\n            "))}function ge(t,e){1&t&&(u.Tb(0,"button",21),u.Ic(1,"\n          "),u.Tb(2,"mat-icon",17),u.Ic(3,"delete"),u.Sb(),u.Ic(4,"\n        "),u.Sb())}function de(t,e){if(1&t&&(u.Tb(0,"div",4),u.Ic(1,"\n    "),u.Tb(2,"form",5),u.Ic(3,"\n      "),u.Tb(4,"h1",6),u.Ic(5),u.fc(6,"translate"),u.Sb(),u.Ic(7,"\n\n      "),u.Tb(8,"div",7),u.Ic(9,"\n        "),u.Tb(10,"div",8),u.Ic(11,"\n          "),u.Tb(12,"mat-form-field",9),u.Ic(13,"\n            "),u.Tb(14,"mat-label"),u.Ic(15),u.fc(16,"translate"),u.Sb(),u.Ic(17,"\n\n            "),u.Ob(18,"input",10),u.Ic(19,"\n\n            "),u.Gc(20,le,5,0,"button",11),u.Ic(21,"\n\n            "),u.Gc(22,he,3,3,"mat-error",12),u.Ic(23,"\n          "),u.Sb(),u.Ic(24,"\n        "),u.Sb(),u.Ic(25,"\n\n        "),u.Tb(26,"div",8),u.Ic(27,"\n          "),u.Tb(28,"mat-form-field",9),u.Ic(29,"\n            "),u.Tb(30,"mat-label"),u.Ic(31),u.fc(32,"translate"),u.Sb(),u.Ic(33,"\n\n            "),u.Ob(34,"input",13),u.Ic(35,"\n\n            "),u.Gc(36,ue,5,0,"button",11),u.Ic(37,"\n\n            "),u.Gc(38,be,3,3,"mat-error",12),u.Ic(39,"\n          "),u.Sb(),u.Ic(40,"\n        "),u.Sb(),u.Ic(41,"\n\n        "),u.Tb(42,"div",8),u.Ic(43,"\n          "),u.Tb(44,"mat-form-field",9),u.Ic(45,"\n            "),u.Tb(46,"mat-label"),u.Ic(47),u.fc(48,"translate"),u.Sb(),u.Ic(49,"\n\n            "),u.Ob(50,"input",14),u.Ic(51,"\n\n            "),u.Gc(52,fe,5,0,"button",11),u.Ic(53,"\n\n            "),u.Gc(54,pe,3,3,"mat-error",12),u.Ic(55,"\n          "),u.Sb(),u.Ic(56,"\n        "),u.Sb(),u.Ic(57,"\n      "),u.Sb(),u.Ic(58,"\n\n      "),u.Tb(59,"div",15),u.Ic(60,"\n        "),u.Tb(61,"button",16),u.Ic(62,"\n          "),u.Tb(63,"mat-icon",17),u.Ic(64,"check"),u.Sb(),u.Ic(65,"\n          "),u.Tb(66,"span",18),u.Ic(67),u.fc(68,"translate"),u.Sb(),u.Ic(69,"\n        "),u.Sb(),u.Ic(70,"\n\n        "),u.Gc(71,ge,5,0,"button",19),u.Ic(72,"\n      "),u.Sb(),u.Ic(73,"\n    "),u.Sb(),u.Ic(74,"\n  "),u.Sb()),2&t){var n=u.ec();u.Bb(2),u.kc("formGroup",n.form),u.Bb(3),u.Kc("\n        ",u.gc(6,15,"soft_phone.soft_phone_contacts.add_new_contact"),"\n      "),u.Bb(10),u.Jc(u.gc(16,17,"global.name")),u.Bb(5),u.kc("ngIf",n.form.get("name").touched&&n.form.get("name").value.length),u.Bb(2),u.kc("ngIf",!n.form.get("name").valid&&n.form.get("name").touched),u.Bb(9),u.Jc(u.gc(32,19,"global.family")),u.Bb(5),u.kc("ngIf",n.form.get("family").touched&&n.form.get("family").value.length),u.Bb(2),u.kc("ngIf",!n.form.get("family").valid&&n.form.get("family").touched),u.Bb(9),u.Jc(u.gc(48,21,"global.extension")),u.Bb(5),u.kc("ngIf",n.form.get("extension").touched&&n.form.get("extension").value.length),u.Bb(2),u.kc("ngIf",!n.form.get("extension").valid&&n.form.get("extension").touched),u.Bb(7),u.kc("disabled",!n.form.valid&&n.form.touched)("ngClass",n.data&&"edit"===n.data.action&&n.rtlDirection?"margin-l-full":n.data&&"edit"===n.data.action?"margin-r-full":""),u.Bb(6),u.Jc(u.gc(68,23,"global.submit")),u.Bb(4),u.kc("ngIf",n.data&&"edit"===n.data.action)}}var me=function(){function t(t,e){var n=this;this.viewDirection=t,this.fb=e,this._subscription=new s.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return n.rtlDirection=t})))}return t.prototype.ngOnInit=function(){var t=this;this.data=this.bottomSheetData.data,this.data?this.createForm().then((function(){t.form.patchValue({name:t.data.name,family:t.data.family,extension_no:t.data.extension_no})})):this.createForm().finally()},t.prototype.createForm=function(){var t=this;return new Promise((function(e){t.form=t.fb.group({name:new ut.e("",ut.u.required),family:new ut.e("",ut.u.required),extension_no:new ut.e(0,ut.u.required)}),e(!0)}))},t.prototype.closeBottomSheet=function(){this.bottomSheetData.bottomSheetRef.close()},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(ut.d))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-contact-detail"]],decls:11,vars:2,consts:[[1,"full-width","full-height","padding-r-l","padding-b-full"],[1,"width-30","height-30","pos-abs","top-0","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"ngClass","click"],[1,"text-dark-mode-color","line-height-35","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],["class","height-full-minus-35 float-right full-width",4,"ngIf"],[1,"height-full-minus-35","float-right","full-width"],["autocomplete","off",1,"full-height",3,"formGroup"],[1,"margin-b-full","text-gray-800","full-width","font-full-em","text-weight-500","margin-b-half"],[1,"row"],[1,"col-md-12","margin-b-half","float-right"],[1,"full-width","font-9-em"],["formControlName","name","matInput","","tabindex","1"],["aria-label","Clear","class","close-icon pos-rel top-half float-left","mat-button","","mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],[4,"ngIf"],["formControlName","family","matInput","","tabindex","2"],["formControlName","extension","matInput","","tabindex","3"],[1,"display-flex"],["mat-raised-button","","tabindex","4","type","submit",1,"green-gradient","full-width","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","ngClass"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["class","red-gradient width-30 height-30 text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","","tabindex","5",4,"ngIf"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","","type","button",1,"close-icon","pos-rel","top-half","float-left",3,"click"],["mat-raised-button","","tabindex","5",1,"red-gradient","width-30","height-30","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Tb(2,"button",1),u.ac("click",(function(){return e.closeBottomSheet()})),u.Ic(3,"\n    "),u.Tb(4,"mat-icon",2),u.Ic(5,"\n      close\n    "),u.Sb(),u.Ic(6,"\n  "),u.Sb(),u.Ic(7,"\n\n  "),u.Gc(8,de,75,25,"div",3),u.Ic(9,"\n"),u.Sb(),u.Ic(10,"\n")),2&t&&(u.Bb(2),u.kc("ngClass",e.rtlDirection?"left-0":"right-0"),u.Bb(6),u.kc("ngIf",e.form))},directives:[r.i,p.a,r.k,ut.v,ut.o,ut.i,se.c,se.f,ut.c,ae.b,ut.n,ut.g,M.b,se.h,se.b],pipes:[c.c],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}"]}),t}(),Ie=function(){return(Ie=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ve=["bottomSheet"];function Se(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-list",9),u.Ic(1,"\n    "),u.Tb(2,"mat-list-item",10),u.Ic(3,"\n      "),u.Tb(4,"img",11),u.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),u.Sb(),u.Ic(5,"\n      "),u.Tb(6,"h3",12),u.Ic(7),u.Sb(),u.Ic(8,"\n\n      "),u.Tb(9,"div",13),u.Ic(10,"\n        "),u.Tb(11,"button",14),u.ac("click",(function(){return u.wc(n),u.ec().addNewContact()})),u.Ic(12,"\n          "),u.Tb(13,"mat-icon",15),u.Ic(14,"add"),u.Sb(),u.Ic(15,"\n          "),u.Tb(16,"span",16),u.Ic(17),u.fc(18,"translate"),u.Sb(),u.Ic(19,"\n        "),u.Sb(),u.Ic(20,"\n      "),u.Sb(),u.Ic(21,"\n    "),u.Sb(),u.Ic(22,"\n  "),u.Sb()}if(2&t){var i=u.ec();u.Bb(4),u.kc("alt",i.loggedInUser?i.loggedInUser.name:"")("src",i.loggedInUser.email,u.yc),u.Bb(3),u.Kc(" ",i.loggedInUser?i.loggedInUser.name:""," "),u.Bb(10),u.Jc(u.gc(18,4,"soft_phone.soft_phone_contacts.new_contact"))}}function we(t,e){if(1&t){var n=u.Ub();u.Tb(0,"button",22),u.ac("click",(function(t){u.wc(n);var e=u.ec().$implicit;return u.ec().editContact(e),t.stopPropagation()})),u.Ic(1,"\n          "),u.Tb(2,"mat-icon",23),u.Ic(3,"edit\n          "),u.Sb(),u.Ic(4,"\n        "),u.Sb()}}function ye(t,e){if(1&t){var n=u.Ub();u.Tb(0,"mat-list-item",17),u.ac("click",(function(){u.wc(n);var t=e.$implicit,i=u.ec();return i.fromPopUp?i.transferCall(t):i.openSheet(t)})),u.Ic(1,"\n        "),u.Tb(2,"mat-icon",18),u.Ic(3,"person"),u.Sb(),u.Ic(4,"\n\n        "),u.Tb(5,"div",19),u.Ic(6),u.Sb(),u.Ic(7,"\n\n        "),u.Tb(8,"div",20),u.Ic(9),u.Sb(),u.Ic(10,"\n\n        "),u.Gc(11,we,5,0,"button",21),u.Ic(12,"\n\n        "),u.Ob(13,"mat-divider"),u.Ic(14,"\n      "),u.Sb()}if(2&t){var i=e.$implicit,o=u.ec();u.Bb(6),u.Jc(i.extension_name),u.Bb(3),u.Jc(i.extension_no),u.Bb(2),u.kc("ngIf",!o.fromPopUp)}}function xe(t,e){if(1&t){var n=u.Ub();u.Tb(0,"div",24),u.Ic(1,"\n    "),u.Tb(2,"button",25),u.ac("click",(function(){return u.wc(n),u.ec().dismissTransferCall()})),u.Ic(3,"\n      "),u.Tb(4,"span",16),u.Ic(5),u.fc(6,"translate"),u.Sb(),u.Ic(7,"\n    "),u.Sb(),u.Ic(8,"\n  "),u.Sb()}if(2&t){var i=u.ec();u.Bb(2),u.kc("disabled",i.disableContacts),u.Bb(3),u.Jc(u.gc(6,2,"global.dismiss"))}}var ke=function(){function t(t,e,n){var i=this;this.softPhoneService=t,this.translateService=e,this.messageService=n,this.triggerBottomSheet=new u.o,this.triggerCloseBottomSheet=new u.o,this.rtlDirection=!1,this.fromPopUp=!1,this.disableContacts=!1,this.callPopUpMinimizeStatus=!1,this.filterArgs=null,this._subscription=new s.Subscription,this._subscription.add(this.softPhoneService.currentMinimizeCallPopUp.subscribe((function(t){return i.callPopUpMinimizeStatus=t})))}return t.prototype.ngOnInit=function(){this.assignCopy(),this.filterArgs={email:this.loggedInUser.email}},t.prototype.filterContacts=function(t){t||this.assignCopy(),this.filteredUsers=Object.assign([],this.softPhoneUsers).filter((function(e){return e.extension_name.toLowerCase().indexOf(t.toLowerCase())>-1}))},t.prototype.assignCopy=function(){this.filteredUsers=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],c=0,s=r.length;c<s;c++,o++)i[o]=r[c];return i}(this.softPhoneUsers)},t.prototype.openSheet=function(t){this.callPopUpMinimizeStatus?this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call")):this.triggerBottomSheet.emit({component:it,height:"200px",width:"98%",data:t})},t.prototype.addNewContact=function(){this.callPopUpMinimizeStatus?this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call")):this.triggerBottomSheet.emit({component:me,height:"270px",width:"98%"})},t.prototype.editContact=function(t){this.callPopUpMinimizeStatus?this.messageService.showMessage(this.getTranslate("soft_phone.main.you_are_in_call")):this.triggerBottomSheet.emit({component:me,height:"270px",width:"98%",data:Ie(Ie({},t),{action:"edit"})})},t.prototype.transferCall=function(t){var e=this;this.disableContacts=!0,this.softPhoneService.sipTransfer(t.extension_no),setTimeout((function(){return e.triggerCloseBottomSheet.emit()}),1e3)},t.prototype.dismissTransferCall=function(){this.triggerCloseBottomSheet.emit()},t.prototype.getTranslate=function(t){return this.translateService.instant(t)},t.\u0275fac=function(e){return new(e||t)(u.Nb(a.a),u.Nb(c.d),u.Nb(X.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-soft-phone-contacts"]],viewQuery:function(t,e){var n;1&t&&u.Nc(ve,!0),2&t&&u.rc(n=u.bc())&&(e.bottomSheet=n.first)},inputs:{rtlDirection:"rtlDirection",fromPopUp:"fromPopUp",softPhoneUsers:"softPhoneUsers",loggedInUser:"loggedInUser"},outputs:{triggerBottomSheet:"triggerBottomSheet",triggerCloseBottomSheet:"triggerCloseBottomSheet"},decls:23,vars:10,consts:[[1,"full-width","full-height"],["class","soft-phone-user full-width height-50",4,"ngIf"],[1,"contact-search","height-45","padding-half"],["type","text",1,"full-width","full-height","round-corner","padding-mini-r-l","line-height-45",3,"placeholder","input"],["contactList",""],[1,"height-full-minus-95","padding-r-l","overflow-x-hide","overflow-y-auto"],[3,"disabled"],["class","cursor-pointer full-width height-45 font-8-rem",3,"click",4,"ngFor","ngForOf"],["class","height-45 padding-mini-t-b padding-r-l full-width display-flex flex-direction-row-reverse flex-space-between",4,"ngIf"],[1,"soft-phone-user","full-width","height-50"],[1,"padding-mini-r-l","full-height"],["matListAvatar","",1,"mat-elevation-z2",3,"alt","src","error"],["matLine","",1,"font-8-rem","text-weight-bold"],[1,"font-8-rem"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],[1,"cursor-pointer","full-width","height-45","font-8-rem",3,"click"],["mat-list-icon",""],["mat-line",""],[1,"text-gray-700","margin-r-l"],["class","cursor-pointer no-bg no-border width-30 height-30 text-center text-green-500",3,"click",4,"ngIf"],[1,"cursor-pointer","no-bg","no-border","width-30","height-30","text-center","text-green-500",3,"click"],[1,"full-width","full-height","text-center","line-height-30","font-full-plus-two-tenth-rem"],[1,"height-45","padding-mini-t-b","padding-r-l","full-width","display-flex","flex-direction-row-reverse","flex-space-between"],["mat-raised-button","","type","button",1,"full-width","red-gradient","text-white","line-height-30","font-9-em","text-weight-normal",3,"disabled","click"]],template:function(t,e){if(1&t){var n=u.Ub();u.Tb(0,"div",0),u.Ic(1,"\n  "),u.Gc(2,Se,23,6,"mat-list",1),u.Ic(3,"\n  "),u.Tb(4,"div",2),u.Ic(5,"\n    "),u.Tb(6,"input",3,4),u.ac("input",(function(){u.wc(n);var t=u.sc(7);return e.filterContacts(t.value)})),u.fc(8,"translate"),u.Sb(),u.Ic(9,"\n  "),u.Sb(),u.Ic(10,"\n\n  "),u.Tb(11,"div",5),u.Ic(12,"\n    "),u.Tb(13,"mat-list",6),u.Ic(14,"\n      "),u.Gc(15,ye,15,3,"mat-list-item",7),u.fc(16,"myFilter"),u.Ic(17,"\n    "),u.Sb(),u.Ic(18,"\n  "),u.Sb(),u.Ic(19,"\n\n  "),u.Gc(20,xe,9,4,"div",8),u.Ic(21,"\n"),u.Sb(),u.Ic(22,"\n")}2&t&&(u.Bb(2),u.kc("ngIf",!e.fromPopUp),u.Bb(4),u.lc("placeholder",u.gc(8,5,"global.search")),u.Bb(7),u.kc("disabled",e.disableContacts),u.Bb(2),u.kc("ngForOf",u.hc(16,7,e.filteredUsers,e.filterArgs)),u.Bb(5),u.kc("ngIf",e.fromPopUp))},directives:[r.k,D.a,r.j,D.d,D.b,L.j,M.b,p.a,D.c,tt.a],pipes:[c.c,ht],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.contact-search[_ngcontent-%COMP%], .soft-phone-user[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,86.3%,.93);background-color:#f1f1f1}.contact-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .soft-phone-user[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,86.3%,.93)}"]}),t}(),_e=n("jaxi"),Te=function(){function t(t){this.componentFactoryResolver=t}return t.prototype.resolveComponent=function(){return this.componentFactoryResolver.resolveComponentFactory(ce)},t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)(u.Xb(u.j))},imports:[[i.a,r.c,o.a,c.b.forChild()]]}),t}();u.zc(U,[b.b,_e.b,r.i,_e.a,r.m,r.n,ke,vt],[c.c])},K3ar:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("BCsW"),o=n("fXoL"),r=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]?i(t,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")===t?i(t,"YYYY-MM-DD HH:mm:ss").locale("fa").format("YYYY/MM/DD HH:mm:ss"):i(t,"YYYY-MM-DD").format("YYYY-MM-DD")===t||i(t,"YYYY-MM-DD HH:mm").format("YYYY-MM-DD HH:mm")===t?i(t,"YYYY-MM-DD").locale("fa").format("YYYY/MM/DD"):"-":t},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Mb({name:"jalali",type:t,pure:!0}),t}()},OC8m:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("7RJT"),o=n("fXoL"),r=function(){function t(){this._notification=null,this.notification=new i.BehaviorSubject(this._notification),this.currentNotification=this.notification.asObservable()}return t.prototype.changeCurrentNotification=function(t){this.notification.next(t)},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()}}]);