function _createForOfIteratorHelper(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,r=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+SKG":function(t,e){t.exports=function(t){return i&&global.Buffer.isBuffer(t)||r&&(t instanceof global.ArrayBuffer||n(t))};var i="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,r="function"==typeof global.ArrayBuffer,n=r&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(t){return t.buffer instanceof global.ArrayBuffer}},"/Hbh":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i("PqYM"),n=i("fXoL"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this.timerDueTime=0,this.timerPeriod=1e3,this.globalTimer=null}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this;t.timezone.firstChange&&(this.globalTimer=Object(r.a)(this.timerDueTime,this.timerPeriod),this.globalTimerSubscription=this.globalTimer.subscribe((function(){return e.getTime()})))}},{key:"getTime",value:function(){this.time=(new Date).toLocaleTimeString("en-US",{timeZone:this.timezone&&this.timezone.length?this.timezone:"UTC",hour12:!1,hour:"2-digit",minute:"2-digit"})}},{key:"ngOnDestroy",value:function(){this.globalTimerSubscription&&(this.globalTimerSubscription.unsubscribe(),this.globalTimer=null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["app-time-area-digital-clock"]],inputs:{timezone:"timezone"},features:[n.Ab],decls:2,vars:1,template:function(t,e){1&t&&(n.Wb(0,"span"),n.Jc(1),n.Vb()),2&t&&(n.Cb(1),n.Kc(e.time))},encapsulation:2}),t}()},"0z79":function(t,e,i){var r=i("AdPF"),n=i("CUme"),o=i("1Mk5"),a=i("Yvos"),s=i("HjK1")("engine.io-client:polling-xhr");function c(){}function l(t){if(n.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,global.location){var e="https:"===location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!==global.location.hostname||i!==t.port,this.xs=t.secure!==e}}function d(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function u(){for(var t in d.requests)d.requests.hasOwnProperty(t)&&d.requests[t].abort()}t.exports=l,t.exports.Request=d,a(l,n),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new d(t)},l.prototype.doWrite=function(t,e){var i=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),r=this;i.on("success",e),i.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=i},l.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(d.prototype),d.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),i=this;try{s("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&e.setRequestHeader(n,this.extraHeaders[n])}catch(o){}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(o){}try{e.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(o){}4===e.readyState&&(200===e.status||1223===e.status?i.onLoad():setTimeout((function(){i.onError(e.status)}),0))},s("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout((function(){i.onError(o)}),0)}global.document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},d.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},d.prototype.cleanup=function(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}global.document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(i){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},d.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",u):global.addEventListener&&global.addEventListener("beforeunload",u,!1))},"14A5":function(t,e){var i=void 0!==i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=i&&i.prototype.append&&i.prototype.getBlob;function a(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t}))}function s(t,e){e=e||{};var r=new i;return a(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=r?n?Blob:c:o?s:void 0},"1Mk5":function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"2Dig":function(t,e){t.exports=function(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}}},"2pII":function(t,e,i){var r=i("akSB"),n=i("1Mk5"),o=i("HjK1")("engine.io-client:socket"),a=i("7jRU"),s=i("Wm4p"),c=i("Uxeu"),l=i("TypT");function d(t,e){if(!(this instanceof d))return new d(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:global.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(global.location?location.hostname:"localhost"),this.port=e.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var i="object"==typeof global&&global;i.global===i&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=d,d.priorWebsocketSuccess=!1,n(d.prototype),d.protocol=s.protocol,d.Socket=d,d.Transport=i("Gbct"),d.transports=i("akSB"),d.parser=i("Wm4p"),d.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var i=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},d.prototype.open=function(){var t;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},d.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},d.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),i=!1,r=this;function n(){r.onlyBinaryUpgrades&&(i=i||!this.supportsBinary&&r.transport.supportsBinary),i||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(n){if(!i)if("pong"===n.type&&"probe"===n.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;d.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){i||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),f(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,r.emit("upgradeError",a)}})))}function a(){i||(i=!0,f(),e.close(),e=null)}function s(i){var n=new Error("probe error: "+i);n.transport=e.name,a(),o('probe transport "%s" failed because of error: %s',t,i),r.emit("upgradeError",n)}function c(){s("transport closed")}function l(){s("socket closed")}function u(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),a())}function f(){e.removeListener("open",n),e.removeListener("error",s),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",u)}d.priorWebsocketSuccess=!1,e.once("open",n),e.once("error",s),e.once("close",c),this.once("close",l),this.once("upgrading",u),e.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},d.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},d.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},d.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},d.prototype.sendPacket=function(t,e,i,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof i&&(r=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var n={type:t,data:e,options:i};this.emit("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function i(){t.removeListener("upgrade",i),t.removeListener("upgradeError",i),e()}function r(){t.once("upgrade",i),t.once("upgradeError",i)}return this},d.prototype.onError=function(t){o("socket error %j",t),d.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},d.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(t){for(var e=[],i=0,r=t.length;i<r;i++)~a(this.transports,t[i])&&e.push(t[i]);return e}},"2xqC":function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},4:function(t,e){},"5LH7":function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function a(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var s,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(s=t,o,"day")||a(s,n,"hour")||a(s,r,"minute")||a(s,i,"second")||s+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"5M3R":function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("Nq7k")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},"6C75":function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},"7jRU":function(t,e){var i=[].indexOf;t.exports=function(t,e){if(i)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},AdPF:function(t,e,i){var r=i("yeub");t.exports=function(t){var e=t.xdomain,i=t.xscheme,n=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!i&&n)return new XDomainRequest}catch(o){}if(!e)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},Aplp:function(t,e,i){"use strict";var r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function c(t){var e="";do{e=n[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==r?(a=0,r=t):t+"."+c(a++)}for(;s<64;s++)o[n[s]]=s;l.encode=c,l.decode=function(t){var e=0;for(s=0;s<t.length;s++)e=64*e+o[t.charAt(s)];return e},t.exports=l},C2QD:function(t,e){function i(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-i:t+i}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}},CIKq:function(t,e,i){var r,n=i("Gbct"),o=i("Wm4p"),a=i("TypT"),s=i("Yvos"),c=i("Aplp"),l=i("HjK1")("engine.io-client:websocket"),d=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{r=i(4)}catch(h){}var u=d;function f(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=d&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(u=r),n.call(this,t)}u||"undefined"!=typeof window||(u=r),t.exports=f,s(f,n),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new u(t,e):new u(t):new u(t,e,i)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},f.prototype.write=function(t){var e=this;this.writable=!1;for(var i=t.length,r=0,n=i;r<n;r++)!function(t){o.encodePacket(t,e.supportsBinary,(function(r){if(!e.usingBrowserWebSocket){var n={};t.options&&(n.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof r?global.Buffer.byteLength(r):r.length)<e.perMessageDeflate.threshold&&(n.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(r):e.ws.send(r,n)}catch(h){l("websocket closed before onclose event")}--i||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[r])},f.prototype.onClose=function(){n.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t},f.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===f.prototype.name)}},CUme:function(t,e,i){var r=i("Gbct"),n=i("TypT"),o=i("Wm4p"),a=i("Yvos"),s=i("Aplp"),c=i("HjK1")("engine.io-client:polling");t.exports=d;var l=null!=new(i("AdPF"))({xdomain:!1}).responseType;function d(t){l&&!(t&&t.forceBase64)||(this.supportsBinary=!1),r.call(this,t)}a(d,r),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(t){var e=this;function i(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||i()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||i()})))}else i()},d.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(t){var e=this;c("polling got data %s",t),o.decodePayload(t,this.socket.binaryType,(function(t,i,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},d.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,i)}))},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=n.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(i=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t}},Cl5A:function(t,e,i){var r=i("CUme"),n=i("Yvos");t.exports=l;var o,a=/\n/g,s=/\\n/g;function c(){}function l(t){r.call(this,t),this.query=this.query||{},o||(global.___eio||(global.___eio=[]),o=global.___eio),this.index=o.length;var e=this;o.push((function(t){e.onData(t)})),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=c)}),!1)}n(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var i=this;if(!this.form){var r,n=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;n.className="socketio",n.style.position="absolute",n.style.top="-1000px",n.style.left="-1000px",n.target=c,n.method="POST",n.setAttribute("accept-charset","utf-8"),o.name="d",n.appendChild(o),document.body.appendChild(n),this.form=n,this.area=o}function l(){d(),e()}function d(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{r=document.createElement('<iframe src="javascript:0" name="'+i.iframeId+'">')}catch(t){(r=document.createElement("iframe")).name=i.iframeId,r.src="javascript:0"}r.id=i.iframeId,i.form.appendChild(r),i.iframe=r}this.form.action=this.uri(),d(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&l()}:this.iframe.onload=l}},Gbct:function(t,e,i){var r=i("Wm4p"),n=i("1Mk5");function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,n(o.prototype),o.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},HjK1:function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("lhf0")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},ISpo:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var r=i("zB/H"),n=i("tX2+"),o=i("fXoL"),a=i("0IaG"),s=i("XiUW"),c=i("DDyt"),l=i("sYmb"),d=i("0d0Z"),u=function(){var t=function(){function t(e,i,n,o,a){_classCallCheck(this,t),this.dialog=e,this.messageService=i,this.userInfoService=n,this.translateService=o,this.windowManagerService=a,this._subscription=new r.Subscription}return _createClass(t,[{key:"openLoginDialog",value:function(t){if(401===t.status){var e=this.dialog.open(n.a,{autoFocus:!1,closeOnNavigation:!1,disableClose:!0,width:"400px",height:"310px",panelClass:"refresh-login-dialog",data:{action:"refresh-login"}});this.windowManagerService.dialogOnTop(e.id);var i=this.getTranslate("login_info.refresh_login");this.messageService.showMessage(i,"error"),this._subscription.add(e.afterClosed().subscribe((function(t){})))}}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.ac(a.b),o.ac(s.a),o.ac(c.a),o.ac(l.e),o.ac(d.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},KFGy:function(t,e,i){var r=i("Vo14"),n=i("2xqC"),o=i("kSER"),a=i("2Dig"),s=i("QN7Q"),c=i("x7D4")("socket.io-client:socket"),l=i("TypT"),d=i("WLGk");t.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=n.prototype.emit;function h(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}n(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},h.prototype.emit=function(t){if(u.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:d(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},h.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},h.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},h.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},h.prototype.onpacket=function(t){if(t.nsp===this.nsp||t.type===r.ERROR&&"/"===t.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},h.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},h.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var n=o(arguments);c("sending ack %j",n),e.packet({type:d(n)?r.BINARY_ACK:r.ACK,id:t,data:n})}}},h.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(t){return this.flags.compress=t,this},h.prototype.binary=function(t){return this.flags.binary=t,this}},Nq7k:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,a[c]),a.splice(c,1),c--),i})),e.formatArgs.call(t,a);var l=r.log||e.log||console.log.bind(console);l.apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("uDUn"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},Q80o:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,a[c]),a.splice(c,1),c--),i})),e.formatArgs.call(t,a);var l=r.log||e.log||console.log.bind(console);l.apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("5LH7"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},QN7Q:function(t,e){var i=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=i.call(arguments,2);return function(){return e.apply(t,r.concat(i.call(arguments)))}}},TypT:function(t,e){e.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},e.decode=function(t){for(var e={},i=t.split("&"),r=0,n=i.length;r<n;r++){var o=i[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Uxeu:function(t,e){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=i.exec(t||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=n&&-1!=o&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},Vo14:function(t,e,i){var r=i("5M3R")("socket.io-parser"),n=i("aKum"),o=i("cD5x"),a=i("ojuT"),s=i("+SKG");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=u;var l=e.ERROR+'"encode error"';function d(t){var i=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(i+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(i+=t.nsp+","),null!=t.id&&(i+=t.id),null!=t.data){var n=function(t){try{return JSON.stringify(t)}catch(e){return!1}}(t.data);if(!1===n)return l;i+=n}return r("encoded %j as %s",t,i),i}function u(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,i){r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){o.removeBlobs(t,(function(t){var i=o.deconstructPacket(t),r=d(i.packet),n=i.buffers;n.unshift(r),e(n)}))}(t,i):i([d(t)])},n(u.prototype),u.prototype.add=function(t){var i;if("string"==typeof t)i=function(t){var i=0,n={type:Number(t.charAt(0))};if(null==e.types[n.type])return h("unknown packet type "+n.type);if(e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type){for(var o="";"-"!==t.charAt(++i)&&(o+=t.charAt(i),i!=t.length););if(o!=Number(o)||"-"!==t.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(i+1))for(n.nsp="";++i&&","!==(c=t.charAt(i))&&(n.nsp+=c,i!==t.length););else n.nsp="/";var s=t.charAt(i+1);if(""!==s&&Number(s)==s){for(n.id="";++i;){var c;if(null==(c=t.charAt(i))||Number(c)!=c){--i;break}if(n.id+=t.charAt(i),i===t.length)break}n.id=Number(n.id)}if(t.charAt(++i)){var l=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(i));if(!1===l||n.type!==e.ERROR&&!a(l))return h("invalid payload");n.data=l}return r("decoded %s as %j",t,n),n}(t),e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type?(this.reconstructor=new f(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",i))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},WLGk:function(t,e,i){var r=i("6C75"),n=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var i=0,n=e.length;i<n;i++)if(t(e[i]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||o&&e instanceof Blob||a&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0;return!1}},WiHW:function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function a(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var s,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(s=t,o,"day")||a(s,n,"hour")||a(s,r,"minute")||a(s,i,"second")||s+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},Wm4p:function(t,e,i){var r,n=i("dkv/"),o=i("WLGk"),a=i("ypnn"),s=i("zMFY"),c=i("oIG/");"undefined"!=typeof ArrayBuffer&&(r=i("g5Dd"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),d="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=l||d;e.protocol=3;var f=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=n(f),p={type:"error",data:"parser error"},b=i("14A5");function g(t,e,i){for(var r=new Array(t.length),n=s(t.length,i),o=function(t,i,n){e(i,(function(e,i){r[t]=i,n(e,r)}))},a=0;a<t.length;a++)o(a,t[a],n)}e.encodePacket=function(t,i,r,n){"function"==typeof i&&(n=i,i=!1),"function"==typeof r&&(n=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);var n=t.data,o=new Uint8Array(n),a=new Uint8Array(1+n.byteLength);a[0]=f[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(t,i,n);if(void 0!==b&&o instanceof b)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);if(u)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);var n=new FileReader;return n.onload=function(){e.encodePacket({type:t.type,data:n.result},i,!0,r)},n.readAsArrayBuffer(t.data)}(t,i,r);var n=new Uint8Array(1);return n[0]=f[t.type],r(new b([n.buffer,t.data]))}(t,i,n);if(o&&o.base64)return function(t,i){return i("b"+e.packets[t.type]+t.data.data)}(t,n);var a=f[t.type];return void 0!==t.data&&(a+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),n(""+a)},e.encodeBase64Packet=function(t,i){var r,n="b"+e.packets[t.type];if(void 0!==b&&t.data instanceof b){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(n+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var a=new Uint8Array(t.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return n+=btoa(r),i(n)},e.decodePacket=function(t,i,r){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),i);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(e){return!1}return t}(t)))return p;var n=t.charAt(0);return Number(n)==n&&h[n]?t.length>1?{type:h[n],data:t.substring(1)}:{type:h[n]}:p}n=new Uint8Array(t)[0];var o=a(t,1);return b&&"blob"===i&&(o=new b([o])),{type:h[n],data:o}},e.decodeBase64Packet=function(t,e){var i=h[t.charAt(0)];if(!r)return{type:i,data:{base64:!0,data:t.substr(1)}};var n=r.decode(t.substr(1));return"blob"===e&&b&&(n=new b([n])),{type:i,data:n}},e.encodePayload=function(t,i,r){"function"==typeof i&&(r=i,i=null);var n=o(t);return i&&n?b&&!u?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void g(t,(function(t,r){e.encodePacket(t,!!n&&i,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))})):r("0:")},e.decodePayload=function(t,i,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,i,r);var n;if("function"==typeof i&&(r=i,i=null),""===t)return r(p,0,1);for(var o,a,s="",c=0,l=t.length;c<l;c++){var d=t.charAt(c);if(":"===d){if(""===s||s!=(o=Number(s)))return r(p,0,1);if(s!=(a=t.substr(c+1,o)).length)return r(p,0,1);if(a.length){if(n=e.decodePacket(a,i,!1),p.type===n.type&&p.data===n.data)return r(p,0,1);if(!1===r(n,c+o,l))return}c+=o,s=""}else s+=d}return""!==s?r(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,i){if(!t.length)return i(new ArrayBuffer(0));g(t,(function(t,i){e.encodePacket(t,!0,!0,(function(t){return i(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var i;return t+(i="string"==typeof e?e.length:e.byteLength).toString().length+i+2}),0),n=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,i=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);i=r.buffer}n[o++]=e?0:1;var s=i.byteLength.toString();for(a=0;a<s.length;a++)n[o++]=parseInt(s[a]);for(n[o++]=255,r=new Uint8Array(i),a=0;a<r.length;a++)n[o++]=r[a]})),i(n.buffer)}))},e.encodePayloadAsBlob=function(t,i){g(t,(function(t,i){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(o.length+1);for(n=0;n<o.length;n++)a[n]=parseInt(o[n]);if(a[o.length]=255,b){var s=new b([e.buffer,a.buffer,t]);i(null,s)}}))}),(function(t,e){return i(new b(e))}))},e.decodePayloadAsBinary=function(t,i,r){"function"==typeof i&&(r=i,i=null);for(var n=t,o=[];n.byteLength>0;){for(var s=new Uint8Array(n),c=0===s[0],l="",d=1;255!==s[d];d++){if(l.length>310)return r(p,0,1);l+=s[d]}n=a(n,2+l.length),l=parseInt(l);var u=a(n,0,l);if(c)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(b){var f=new Uint8Array(u);for(u="",d=0;d<f.length;d++)u+=String.fromCharCode(f[d])}o.push(u),n=a(n,l)}var h=o.length;o.forEach((function(t,n){r(e.decodePacket(t,i,!0),n,h)}))}},Yvos:function(t,e){t.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},aKum:function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},akSB:function(t,e,i){var r=i("AdPF"),n=i("0z79"),o=i("Cl5A"),a=i("CIKq");e.polling=function(t){var e=!1,i=!1,a=!1!==t.jsonp;if(global.location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),e=t.hostname!==location.hostname||c!==t.port,i=t.secure!==s}if(t.xdomain=e,t.xscheme=i,"open"in new r(t)&&!t.forceJSONP)return new n(t);if(!a)throw new Error("JSONP disabled");return new o(t)},e.websocket=a},cD5x:function(t,e,i){var r=i("ojuT"),n=i("+SKG"),o=Object.prototype.toString,a="function"==typeof global.Blob||"[object BlobConstructor]"===o.call(global.Blob),s="function"==typeof global.File||"[object FileConstructor]"===o.call(global.File);e.deconstructPacket=function(t){var e=[],i=t;return i.data=function t(e,i){if(!e)return e;if(n(e)){var o={_placeholder:!0,num:i.length};return i.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s],i);return a}if("object"==typeof e&&!(e instanceof Date)){for(var c in a={},e)a[c]=t(e[c],i);return a}return e}(t.data,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,i){if(!e)return e;if(e&&e._placeholder)return i[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=t(e[n],i);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],i);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var i=0,o=t;!function t(c,l,d){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){i++;var u=new FileReader;u.onload=function(){d?d[l]=this.result:o=this.result,--i||e(o)},u.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!n(c))for(var h in c)t(c[h],h,c)}(o),i||e(o)}},"dkv/":function(t,e){t.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var r in t)i.call(t,r)&&e.push(r);return e}},eOtv:function(t,e,i){var r=i("lKxJ"),n=i("KFGy"),o=i("2xqC"),a=i("Vo14"),s=i("2Dig"),c=i("QN7Q"),l=i("x7D4")("socket.io-client:manager"),d=i("7jRU"),u=i("C2QD"),f=Object.prototype.hasOwnProperty;function h(t,e){if(!(this instanceof h))return new h(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=e.parser||a;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=h,h.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},h.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},h.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},h.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},h.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var i=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=s(i,"open",(function(){n.onopen(),t&&t()})),a=s(i,"error",(function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var d=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),i.close(),i.emit("error","timeout"),n.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(d)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",c(this,"ondata"))),this.subs.push(s(t,"ping",c(this,"onping"))),this.subs.push(s(t,"pong",c(this,"onpong"))),this.subs.push(s(t,"error",c(this,"onerror"))),this.subs.push(s(t,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(t){this.decoder.add(t)},h.prototype.ondecoded=function(t){this.emit("packet",t)},h.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},h.prototype.socket=function(t,e){var i=this.nsps[t];if(!i){i=new n(this,t,e),this.nsps[t]=i;var r=this;i.on("connecting",o),i.on("connect",(function(){i.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~d(r.connecting,i)||r.connecting.push(i)}return i},h.prototype.destroy=function(t){var e=d(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},h.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(i){for(var r=0;r<i.length;r++)e.engine.write(i[r],t.options);e.encoding=!1,e.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},h.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(i)}})}},h.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},fRIO:function(t,e,i){"use strict";i.r(e),i.d(e,"TasksModule",(function(){return Fr}));var r=i("ofXK"),n=i("PCNd"),o=i("sYmb"),a=i("zQsl"),s=i("3Pt+"),c=i("zB/H"),l=i("ue6I"),d=i("0IaG"),u=i("fXoL"),f=i("f7OT"),h=i("XiUW"),p=i("DDyt"),b=i("ISpo"),g=i("mrmJ"),m=i("wd/R"),v=i("unh5"),y=i("cH1L"),k=i("kmnG"),C=i("qFsG"),w=i("d3UM"),A=i("5RNC"),x=i("iadO"),S=i("1jcm"),D=i("FKr1"),I=i("bTqV"),T=i("NFeN");function _(t,e){1&t&&(u.Wb(0,"h1",38),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.main.add_new_task")," "))}function V(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_name_error")," "))}function j(t,e){if(1&t&&(u.Wb(0,"mat-option",39),u.Wb(1,"span",40),u.Jc(2),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i.id),u.Cb(1),u.oc("ngClass",i.id),u.Cb(1),u.Kc(i.name)}}function L(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_status_error")," "))}function B(t,e){if(1&t&&(u.Wb(0,"mat-option",39),u.Jc(1),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i),u.Cb(1),u.Lc(" ",i.projectName," ")}}function W(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_project_error")," "))}function F(t,e){if(1&t&&(u.Wb(0,"mat-option",41),u.Wb(1,"div",42),u.Rb(2,"img",43),u.Wb(3,"span",44),u.Jc(4),u.Vb(),u.Vb(),u.Vb()),2&t){var i=e.$implicit,r=u.ic(2);u.oc("value",i),u.Cb(2),u.oc("ngClass",r.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+i.email+".jpg",u.Bc),u.Cb(2),u.Kc(i.name+" "+i.family)}}function O(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.assign_to_error")," "))}function E(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_durationHours_error")," "))}function N(t,e){if(1&t&&(u.Wb(0,"mat-option",39),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i),u.Cb(1),u.Mc(" ",i," ",i?u.kc(2,3,"global.minutes"):""," ")}}function M(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.start_at_error")," "))}function R(t,e){if(1&t&&(u.Wb(0,"mat-option",39),u.Jc(1),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i),u.Cb(1),u.Lc(" ",i," ")}}function z(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.start_time_error")," "))}function P(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.stop_at_error")," "))}function Q(t,e){if(1&t&&(u.Wb(0,"mat-option",39),u.Jc(1),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i),u.Cb(1),u.Lc(" ",i," ")}}function H(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.stop_time_error")," "))}function G(t,e){if(1&t&&(u.Wb(0,"div",21),u.Wb(1,"div",6),u.Wb(2,"mat-slide-toggle",45),u.Jc(3),u.jc(4,"translate"),u.jc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t){var i=u.ic(2);u.Cb(2),u.oc("color","primary"),u.Cb(1),u.Lc(" ",i.form.get("status").value?u.kc(4,2,"global.active"):u.kc(5,4,"global.deactivate")," ")}}function J(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",46),u.ec("click",(function(){return u.zc(i),u.ic(2).cancelBtn()})),u.Wb(1,"span",4),u.Jc(2),u.jc(3,"translate"),u.Vb(),u.Vb()}if(2&t){var r=u.ic(2);u.oc("disabled",r.form.disabled),u.Cb(2),u.Kc(u.kc(3,2,"global.dismiss"))}}function U(t,e){if(1&t&&(u.Wb(0,"button",47),u.Wb(1,"mat-icon",48),u.Jc(2,"check"),u.Vb(),u.Wb(3,"span",4),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Vb()),2&t){var i=u.ic(2);u.oc("disabled",!i.form.valid),u.Cb(4),u.Kc(u.kc(5,2,"global.submit"))}}function q(t,e){if(1&t){var i=u.Xb();u.Wb(0,"form",1),u.ec("submit",(function(){return u.zc(i),u.ic().submit()})),u.Wb(1,"div",2),u.Hc(2,_,3,3,"h1",3),u.Wb(3,"div",4),u.Wb(4,"div",5),u.Wb(5,"div",6),u.Wb(6,"mat-form-field",7),u.Rb(7,"input",8),u.jc(8,"translate"),u.Wb(9,"mat-label"),u.Jc(10),u.jc(11,"translate"),u.Vb(),u.Hc(12,V,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"div",5),u.Wb(14,"div",10),u.Wb(15,"mat-form-field",11),u.Wb(16,"mat-label"),u.Jc(17),u.jc(18,"translate"),u.Vb(),u.Wb(19,"mat-select",12),u.ec("selectionChange",(function(t){return u.zc(i),u.ic().changeBoardStatus(t)})),u.Hc(20,j,3,3,"mat-option",13),u.Vb(),u.Hc(21,L,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(22,"div",14),u.Wb(23,"div",15),u.Jc(24),u.jc(25,"translate"),u.Wb(26,"span"),u.Jc(27),u.Vb(),u.Jc(28," \u066a "),u.Vb(),u.Rb(29,"mat-slider",16),u.Vb(),u.Vb(),u.Wb(30,"div",5),u.Wb(31,"div",10),u.Wb(32,"mat-form-field",7),u.Wb(33,"mat-label"),u.Jc(34),u.jc(35,"translate"),u.Vb(),u.Wb(36,"mat-select",17),u.Hc(37,B,2,2,"mat-option",13),u.Vb(),u.Hc(38,W,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(39,"div",10),u.Wb(40,"mat-form-field",7),u.Rb(41,"img",18),u.Wb(42,"mat-label"),u.Jc(43),u.jc(44,"translate"),u.Vb(),u.Wb(45,"mat-select",19),u.Hc(46,F,5,4,"mat-option",20),u.Vb(),u.Hc(47,O,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Vb(),u.Wb(48,"div",21),u.Wb(49,"div",10),u.Wb(50,"mat-form-field",7),u.Rb(51,"input",22),u.jc(52,"translate"),u.Wb(53,"mat-label"),u.Jc(54),u.jc(55,"translate"),u.Vb(),u.Hc(56,E,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(57,"div",10),u.Wb(58,"mat-form-field",7),u.Rb(59,"mat-label"),u.Wb(60,"mat-select",23),u.Hc(61,N,3,5,"mat-option",13),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(62,"div",5),u.Wb(63,"div",24),u.Wb(64,"mat-form-field",7),u.Wb(65,"mat-label"),u.Jc(66),u.jc(67,"translate"),u.Vb(),u.Wb(68,"input",25),u.ec("click",(function(){return u.zc(i),u.vc(71).open()}))("dateChange",(function(t){return u.zc(i),u.ic().dateToGregorian("startAt",t)}))("focus",(function(){return u.zc(i),u.vc(71).open()})),u.jc(69,"translate"),u.Vb(),u.Rb(70,"mat-datepicker",null,26),u.Hc(72,M,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(73,"div",24),u.Wb(74,"mat-form-field",7),u.Wb(75,"mat-label"),u.Jc(76),u.jc(77,"translate"),u.Vb(),u.Wb(78,"mat-select",27),u.Hc(79,R,2,2,"mat-option",13),u.Vb(),u.Hc(80,z,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(81,"div",24),u.Wb(82,"mat-form-field",7),u.Wb(83,"mat-label"),u.Jc(84),u.jc(85,"translate"),u.Vb(),u.Wb(86,"input",28),u.ec("click",(function(){return u.zc(i),u.vc(88).open()}))("dateChange",(function(t){return u.zc(i),u.ic().dateToGregorian("stopAt",t)}))("focus",(function(){return u.zc(i),u.vc(88).open()})),u.Vb(),u.Rb(87,"mat-datepicker",null,29),u.Hc(89,P,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Wb(90,"div",24),u.Wb(91,"mat-form-field",7),u.Wb(92,"mat-label"),u.Jc(93),u.jc(94,"translate"),u.Vb(),u.Wb(95,"mat-select",30),u.Hc(96,Q,2,2,"mat-option",13),u.Vb(),u.Hc(97,H,3,3,"mat-error",9),u.Vb(),u.Vb(),u.Vb(),u.Wb(98,"div",21),u.Wb(99,"div",6),u.Wb(100,"mat-form-field",31),u.Wb(101,"mat-label"),u.Jc(102),u.jc(103,"translate"),u.Vb(),u.Rb(104,"textarea",32),u.jc(105,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(106,"div",21),u.Wb(107,"div",6),u.Wb(108,"mat-slide-toggle",33),u.Jc(109),u.jc(110,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Hc(111,G,6,6,"div",34),u.Vb(),u.Vb(),u.Wb(112,"div",35),u.Hc(113,J,4,4,"button",36),u.Hc(114,U,6,4,"button",37),u.Vb(),u.Vb()}if(2&t){var r=u.vc(71),n=u.vc(88),o=u.ic();u.oc("dir",o.rtlDirection?"rtl":"ltr")("formGroup",o.form),u.Cb(2),u.oc("ngIf","detail"!==o.data.action),u.Cb(5),u.pc("placeholder",u.kc(8,49,"tasks.form.task_name")),u.Cb(3),u.Lc(" ",u.kc(11,51,"tasks.form.task_name")," "),u.Cb(2),u.oc("ngIf",!o.form.get("taskName").valid&&o.form.get("taskName").touched),u.Cb(5),u.Kc(u.kc(18,53,"tasks.form.task_status")),u.Cb(3),u.oc("ngForOf",o.boardsList),u.Cb(1),u.oc("ngIf",!o.form.get("boardStatus").valid&&o.form.get("boardStatus").touched),u.Cb(2),u.oc("ngClass",o.rtlDirection?"right-six-tenth":"left-six-tenth"),u.Cb(1),u.Lc(" ",u.kc(25,55,"tasks.boards.task_percentage")," "),u.Cb(3),u.Kc(o.form.get("percentage").value),u.Cb(2),u.oc("max",100)("min",0)("step",5)("thumbLabel",!0)("tickInterval",2),u.Cb(5),u.Kc(u.kc(35,57,"tasks.form.task_project")),u.Cb(3),u.oc("ngForOf",o.projectsList),u.Cb(1),u.oc("ngIf",!o.form.get("project").valid&&o.form.get("project").touched),u.Cb(3),u.oc("ngClass",o.rtlDirection?"margin-l-half":"margin-r-half")("srcset","assets/profileImg/"+o.form.get("email").value+".jpg",u.Bc),u.Cb(2),u.Kc(u.kc(44,59,"tasks.form.assign_to")),u.Cb(3),u.oc("ngForOf",o.usersList),u.Cb(1),u.oc("ngIf",!o.form.get("assignTo").valid&&o.form.get("assignTo").touched),u.Cb(4),u.pc("placeholder",u.kc(52,61,"tasks.form.task_durationHours")),u.Cb(3),u.Lc(" ",u.kc(55,63,"tasks.form.task_durationHours")," "),u.Cb(2),u.oc("ngIf",!o.form.get("taskDurationHours").valid&&o.form.get("taskDurationHours").touched),u.Cb(5),u.oc("ngForOf",o.durationMinute),u.Cb(5),u.Kc(u.kc(67,65,"tasks.form.start_at")),u.Cb(2),u.pc("placeholder",u.kc(69,67,"tasks.form.start_at")),u.oc("matDatepicker",r),u.Cb(4),u.oc("ngIf",!o.form.get("startAt").valid&&o.form.get("startAt").touched),u.Cb(4),u.Kc(u.kc(77,69,"tasks.form.start_time")),u.Cb(3),u.oc("ngForOf",o.hours),u.Cb(1),u.oc("ngIf",!o.form.get("startTime").valid&&o.form.get("startTime").touched),u.Cb(4),u.Kc(u.kc(85,71,"tasks.form.stop_at")),u.Cb(2),u.oc("matDatepicker",n),u.Cb(3),u.oc("ngIf",!o.form.get("stopAt").valid&&o.form.get("stopAt").touched),u.Cb(4),u.Kc(u.kc(94,73,"tasks.form.stop_time")),u.Cb(3),u.oc("ngForOf",o.hours),u.Cb(1),u.oc("ngIf",!o.form.get("stopTime").valid&&o.form.get("stopTime").touched),u.Cb(5),u.Kc(u.kc(103,75,"tasks.form.task_description")),u.Cb(2),u.pc("placeholder",u.kc(105,77,"tasks.form.task_description")),u.Cb(4),u.oc("color","primary"),u.Cb(1),u.Lc(" ",u.kc(110,79,"tasks.form.trackable_by_mobile")," "),u.Cb(2),u.oc("ngIf","detail"===o.data.action),u.Cb(2),u.oc("ngIf",o.editable||"detail"!==o.data.action),u.Cb(1),u.oc("ngIf",o.editable)}}var K,X=((K=function(){function t(e,i){var r=this;_classCallCheck(this,t),this.translate=e,this.viewDirection=i,this.data=null,this.cancel=new u.o,this.formOutput=new u.o,this.task=null,this.projectsList=[],this.usersList=[],this.durationMinute=[0,15,30,45],this.hours=["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],this.boardsList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return r.rtlDirection=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.usersList=this.data.usersList,this.projectsList=this.data.projectsList,"detail"===this.data.action?this.task=this.data.task:this.selectCurrentTime(),setTimeout((function(){t.boardsList=[{id:"todo",name:t.getTranslate("tasks.boards.todo")},{id:"inProgress",name:t.getTranslate("tasks.boards.in_progress")},{id:"done",name:t.getTranslate("tasks.boards.done")}]}),200)}},{key:"ngOnChanges",value:function(t){var e=this;t.form&&!t.form.firstChange&&(this.form=t.form.currentValue,this._subscription.add(this.form.get("assignTo").valueChanges.subscribe((function(t){var i=e.usersList.filter((function(e){return e.adminId===t.adminId})).pop();i&&e.form.get("email").setValue(i.email)}))))}},{key:"cancelBtn",value:function(){this.cancel.emit(!0)}},{key:"changeBoardStatus",value:function(t){"done"===t.value?this.form.get("percentage").setValue(100):"detail"===this.data.action?"done"!==this.data.boardStatus&&this.form.get("percentage").setValue(this.task.percentage):this.form.get("percentage").setValue(0)}},{key:"selectCurrentTime",value:function(){var t=new Date,e=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes(),r="";i<15?r="00":i>=15&&i<30||i>=30&&i<45?r="15":i>=45&&(r="45");var n=e+":"+r;this.form.get("startTime").setValue(n),this.form.get("stopTime").setValue(n)}},{key:"findInvalidControls",value:function(){var t=[],e=this.form.controls;for(var i in e)e[i].invalid&&t.push(i);return t.join(", ")}},{key:"submit",value:function(){this.formOutput.emit(this.form)}},{key:"dateToGregorian",value:function(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||K)(u.Qb(o.e),u.Qb(v.a))},K.\u0275cmp=u.Kb({type:K,selectors:[["app-task-form"]],inputs:{form:"form",data:"data",editable:"editable"},outputs:{cancel:"cancel",formOutput:"formOutput"},features:[u.Ab],decls:1,vars:1,consts:[["class","full-height",3,"dir","formGroup","submit",4,"ngIf"],[1,"full-height",3,"dir","formGroup","submit"],[1,"height-full-minus-45","full-width"],["class","margin-b-full text-gray-800 font-full-em text-weight-500 margin-b-half",4,"ngIf"],[1,"padding-mini-r-l"],[1,"display-flex","margin-r-l-reverse"],[1,"full-width","padding-mini-r-l"],[1,"full-width","font-9-em"],["formControlName","taskName","matInput","","required","","tabindex","1","type","text",1,"full-width",3,"placeholder"],[4,"ngIf"],[1,"half-width","padding-mini-r-l"],[1,"full-width","font-full-em"],["formControlName","boardStatus","tabIndex","2",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"half-width","no-padding-r-l","pos-rel","display-flex","align-items-end"],[1,"font-9-em","pos-abs","top-full-plus-half",3,"ngClass"],["formControlName","percentage","tabindex","3",1,"full-width","pos-rel","top-half",3,"max","min","step","thumbLabel","tickInterval"],["formControlName","project","tabIndex","4"],["matPrefix","",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","srcset"],["formControlName","assignTo","tabIndex","5"],["class","font-full-em",3,"value",4,"ngFor","ngForOf"],[1,"display-flex","margin-b-full","margin-r-l-reverse"],["formControlName","taskDurationHours","matInput","","required","","tabindex","6","type","number",1,"full-width",3,"placeholder"],["formControlName","taskDurationMinutes","tabIndex","7"],[1,"quarter-width","padding-mini-r-l"],["formControlName","startAt","matInput","","readonly","","tabindex","8",3,"matDatepicker","placeholder","click","dateChange","focus"],["picker1",""],["formControlName","startTime","tabIndex","9"],["formControlName","stopAt","matInput","","readonly","","tabindex","10",3,"matDatepicker","click","dateChange","focus"],["picker2",""],["formControlName","stopTime","tabIndex","11"],[1,"full-width","height-80","font-9-em"],["formControlName","taskDesc","matInput","","tabindex","12",3,"placeholder"],["formControlName","trackable",3,"color"],["class","display-flex margin-b-full margin-r-l-reverse",4,"ngIf"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["class","no-bg no-border cursor-pointer text-red-500 line-height-30 font-9-em overflow-hide text-weight-normal","type","button",3,"disabled","click",4,"ngIf"],["class","green-gradient text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","","tabindex","13","type","submit",3,"disabled",4,"ngIf"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[3,"value"],[1,"task-count",3,"ngClass"],[1,"font-full-em",3,"value"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["formControlName","status",3,"color"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],["mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"]],template:function(t,e){1&t&&u.Hc(0,q,115,81,"form",0),2&t&&u.oc("ngIf",e.form)},directives:[r.t,s.I,s.t,y.b,s.k,k.c,s.c,C.b,s.s,s.i,s.D,k.g,w.a,r.s,r.q,A.a,k.i,s.y,x.f,x.d,S.a,k.b,D.o,I.b,T.a],pipes:[o.d],styles:[".task-count.todo[_ngcontent-%COMP%]{color:#f44336}.task-count.inProgress[_ngcontent-%COMP%]{color:#eb9f4c}.task-count.done[_ngcontent-%COMP%]{color:#388e3c}.right-six-tenth[_ngcontent-%COMP%]{right:.6em!important}.left-six-tenth[_ngcontent-%COMP%]{left:.6em!important}"]}),K);function Y(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",1),u.Wb(1,"app-task-form",2),u.ec("cancel",(function(t){return u.zc(i),u.ic().cancelBtn(t)}))("formOutput",(function(t){return u.zc(i),u.ic().updateForm(t)})),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.Cb(1),u.oc("data",r.data)("editable",r.editable)("form",r.form)}}var $,Z=(($=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d,u){var f;return _classCallCheck(this,i),(f=e.call(this,n,a)).api=t,f.fb=r,f.injector=n,f.messageService=o,f.userInfoService=a,f.refreshLoginService=s,f.loadingIndicatorService=l,f.dialogRef=d,f.data=u,f.editable=!1,f.projectsList=[],f.usersList=[],f._subscription=new c.Subscription,f.usersList=f.data.usersList,f.projectsList=f.data.projectsList,f}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;this.createForm().then((function(){t.editable=!0,t.form.enable(),t._subscription.add(t.form.get("assignTo").valueChanges.subscribe((function(e){var i=t.usersList.filter((function(t){return t.adminId===e.adminId})).pop();i&&t.form.get("email").setValue(i.email)})))}))}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({taskId:new s.g(0),taskName:new s.g("",s.G.required),percentage:new s.g(0,s.G.required),assignTo:new s.g("",s.G.required),taskDurationHours:new s.g(0,[s.G.required,s.G.pattern("^[0-9]+")]),taskDurationMinutes:new s.g(0,s.G.required),startAt:new s.g("",s.G.required),stopAt:new s.g("",s.G.required),startTime:new s.g("",s.G.required),stopTime:new s.g("",s.G.required),project:new s.g({},s.G.required),taskDesc:new s.g(""),email:new s.g("0"),boardStatus:new s.g("",s.G.required),taskDateStart:"0000-00-00 00:00:00",taskDateStop:"0000-00-00 00:00:00",assigner:new s.g(t.loggedInUser.email,s.G.required),trackable:new s.g(0)}),e()}))}},{key:"updateForm",value:function(t){var e=this;this.form=t,setTimeout((function(){e.submit()}),500)}},{key:"cancelBtn",value:function(t){t&&this.dialogRef.close(!1)}},{key:"submit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});var e=Object.assign(this.form.value);this.form.disable();var i=Object.assign(Object.assign({},e),{startAt:e.startAt+" "+e.startTime+":00",stopAt:e.stopAt+" "+e.stopTime+":00"});delete i.taskId,this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.createTask(i).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===e.result?(t.messageService.showMessage(e.message),t.dialogRef.close(!0)):t.form.enable()}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e),t.form.enable()})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||$)(u.Qb(f.a),u.Qb(s.f),u.Qb(u.s),u.Qb(h.a),u.Qb(p.a),u.Qb(b.a),u.Qb(g.a),u.Qb(d.h),u.Qb(d.a))},$.\u0275cmp=u.Kb({type:$,selectors:[["ng-component"]],features:[u.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99"],[3,"data","editable","form","cancel","formOutput"]],template:function(t,e){1&t&&u.Hc(0,Y,2,3,"div",0),2&t&&u.oc("ngIf",e.form)},directives:[r.t,X],encapsulation:2}),$);function tt(t,e){if(1&t&&(u.Wb(0,"mat-option",30),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i.typeName),u.Cb(1),u.Lc(" ",u.kc(2,2,i.textName)," ")}}function et(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_name_error")," "))}function it(t,e){if(1&t&&(u.Wb(0,"mat-option",30),u.Jc(1),u.Vb()),2&t){var i=e.$implicit;u.oc("value",i.projectId),u.Cb(1),u.Lc(" ",i.projectName," ")}}function rt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.task_project_error")," "))}function nt(t,e){if(1&t&&u.Rb(0,"img",31),2&t){var i=u.ic(2);u.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+i.form.get("userImg").value+".jpg",u.Bc)}}function ot(t,e){if(1&t&&(u.Wb(0,"mat-option",30),u.Wb(1,"div",32),u.Rb(2,"img",33),u.Wb(3,"span",34),u.Jc(4),u.Vb(),u.Vb(),u.Vb()),2&t){var i=e.$implicit,r=u.ic(2);u.oc("value",i.adminId),u.Cb(2),u.oc("ngClass",r.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+i.email+".jpg",u.Bc),u.Cb(2),u.Kc(i.name+" "+i.family)}}function at(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.assign_to_error")," "))}function st(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",35),u.ec("click",(function(){return u.zc(i),u.ic(2).form.get("dateStart").setValue("")})),u.Wb(1,"mat-icon"),u.Jc(2,"close"),u.Vb(),u.Vb()}if(2&t){var r=u.ic(2);u.oc("ngClass",r.rtlDirection?"float-left":"float-right")}}function ct(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"global.date_error")," "))}function lt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",35),u.ec("click",(function(){return u.zc(i),u.ic(2).form.get("dateStop").setValue("")})),u.Wb(1,"mat-icon"),u.Jc(2,"close"),u.Vb(),u.Vb()}if(2&t){var r=u.ic(2);u.oc("ngClass",r.rtlDirection?"float-left":"float-right")}}function dt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"global.date_error")," "))}function ut(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",1),u.Wb(1,"form",2),u.ec("submit",(function(){return u.zc(i),u.ic().submit()})),u.Wb(2,"div",3),u.Wb(3,"h1",4),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Wb(6,"div",5),u.Wb(7,"div",6),u.Wb(8,"mat-form-field",7),u.Wb(9,"mat-label"),u.Jc(10),u.jc(11,"translate"),u.Vb(),u.Wb(12,"mat-select",8),u.Hc(13,tt,3,4,"mat-option",9),u.Vb(),u.Vb(),u.Vb(),u.Wb(14,"div",6),u.Wb(15,"mat-form-field",7),u.Rb(16,"input",10),u.jc(17,"translate"),u.Wb(18,"mat-label"),u.Jc(19),u.jc(20,"translate"),u.Vb(),u.Hc(21,et,3,3,"mat-error",11),u.Vb(),u.Vb(),u.Vb(),u.Wb(22,"div",5),u.Wb(23,"div",6),u.Wb(24,"mat-form-field",7),u.Wb(25,"mat-label"),u.Jc(26),u.jc(27,"translate"),u.Vb(),u.Wb(28,"mat-select",12),u.Hc(29,it,2,2,"mat-option",9),u.Vb(),u.Hc(30,rt,3,3,"mat-error",11),u.Vb(),u.Vb(),u.Wb(31,"div",6),u.Wb(32,"mat-form-field",7),u.Hc(33,nt,1,2,"img",13),u.Wb(34,"mat-label"),u.Jc(35),u.jc(36,"translate"),u.Vb(),u.Wb(37,"mat-select",14),u.Hc(38,ot,5,4,"mat-option",9),u.Vb(),u.Hc(39,at,3,3,"mat-error",11),u.Vb(),u.Vb(),u.Vb(),u.Wb(40,"div",15),u.Wb(41,"div",6),u.Wb(42,"mat-form-field",7),u.Wb(43,"mat-label"),u.Jc(44),u.jc(45,"translate"),u.Vb(),u.Wb(46,"input",16),u.ec("click",(function(){return u.zc(i),u.vc(48).open()}))("dateChange",(function(t){return u.zc(i),u.ic().dateToGregorian("dateStart",t)}))("focus",(function(){return u.zc(i),u.vc(48).open()})),u.Vb(),u.Rb(47,"mat-datepicker",null,17),u.Hc(49,st,3,1,"button",18),u.Hc(50,ct,3,3,"mat-error",11),u.Vb(),u.Vb(),u.Wb(51,"div",6),u.Wb(52,"mat-form-field",7),u.Wb(53,"mat-label"),u.Jc(54),u.jc(55,"translate"),u.Vb(),u.Wb(56,"input",19),u.ec("click",(function(){return u.zc(i),u.vc(58).open()}))("dateChange",(function(t){return u.zc(i),u.ic().dateToGregorian("dateStop",t)}))("focus",(function(){return u.zc(i),u.vc(58).open()})),u.Vb(),u.Rb(57,"mat-datepicker",null,20),u.Hc(59,lt,3,1,"button",18),u.Hc(60,dt,3,3,"mat-error",11),u.Vb(),u.Vb(),u.Vb(),u.Wb(61,"div",21),u.Wb(62,"div",6),u.Wb(63,"mat-slide-toggle",22),u.Wb(64,"span",23),u.Jc(65),u.jc(66,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(67,"div",6),u.Wb(68,"mat-slide-toggle",24),u.Wb(69,"span",23),u.Jc(70),u.jc(71,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(72,"div",25),u.Wb(73,"button",26),u.Wb(74,"mat-icon",27),u.Jc(75,"check"),u.Vb(),u.Wb(76,"span",28),u.Jc(77),u.jc(78,"translate"),u.Vb(),u.Vb(),u.Wb(79,"button",29),u.ec("click",(function(){return u.zc(i),u.ic().dialogRef.close(!1)})),u.Wb(80,"span",28),u.Jc(81),u.jc(82,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=u.vc(48),n=u.vc(58),o=u.ic();u.oc("dir",o.rtlDirection?"rtl":"ltr"),u.Cb(1),u.oc("formGroup",o.form),u.Cb(3),u.Lc(" ",u.kc(5,30,"tasks.task_filter.tasks_filter")," "),u.Cb(6),u.Kc(u.kc(11,32,"tasks.task_filter.filter_types")),u.Cb(3),u.oc("ngForOf",o.filterTypes),u.Cb(3),u.pc("placeholder",u.kc(17,34,"tasks.form.task_name")),u.Cb(3),u.Lc(" ",u.kc(20,36,"tasks.form.task_name")," "),u.Cb(2),u.oc("ngIf",!o.form.get("taskName").valid&&o.form.get("taskName").touched),u.Cb(5),u.Kc(u.kc(27,38,"tasks.form.task_project")),u.Cb(3),u.oc("ngForOf",o.projectsList),u.Cb(1),u.oc("ngIf",!o.form.get("projectId").valid&&o.form.get("projectId").touched),u.Cb(3),u.oc("ngIf",o.form.get("adminId").valid),u.Cb(2),u.Kc(u.kc(36,40,"tasks.form.assign_to")),u.Cb(3),u.oc("ngForOf",o.usersList),u.Cb(1),u.oc("ngIf",!o.form.get("adminId").valid&&o.form.get("adminId").touched),u.Cb(5),u.Kc(u.kc(45,42,"global.from_date")),u.Cb(2),u.oc("matDatepicker",r),u.Cb(3),u.oc("ngIf",o.form.get("dateStart").touched&&o.form.get("dateStart").value.length),u.Cb(1),u.oc("ngIf",!o.form.get("dateStart").valid&&o.form.get("dateStart").touched),u.Cb(4),u.Kc(u.kc(55,44,"global.to_date")),u.Cb(2),u.oc("matDatepicker",n),u.Cb(3),u.oc("ngIf",o.form.get("dateStop").touched&&o.form.get("dateStop").value.length),u.Cb(1),u.oc("ngIf",!o.form.get("dateStop").valid&&o.form.get("dateStop").touched),u.Cb(3),u.oc("color","primary"),u.Cb(2),u.Kc(u.kc(66,46,"tasks.task_filter.in_progress_tasks")),u.Cb(3),u.oc("color","primary"),u.Cb(2),u.Kc(u.kc(71,48,"tasks.task_filter.show_disabled_task")),u.Cb(3),u.oc("disabled",!o.form.valid&&o.form.touched),u.Cb(4),u.Kc(u.kc(78,50,"global.submit")),u.Cb(4),u.Kc(u.kc(82,52,"global.dismiss"))}}var ft,ht=((ft=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d,u,f,h){var p;return _classCallCheck(this,i),(p=e.call(this,o,l)).data=t,p.api=r,p.fb=n,p.injector=o,p.translate=a,p.messageService=s,p.userInfoService=l,p.viewDirection=d,p.refreshLoginService=u,p.dialogRef=f,p.loadingIndicatorService=h,p.filterData={userId:0,adminId:0,dateStart:"",dateStop:"",projectId:0,taskName:"",email:"0",userImg:"0",type:"",status:0,percentageStatus:!1},p.projectsList=[],p.usersList=[],p.filterTypes=[{index:0,typeName:"byCreateDate",textName:"tasks.task_filter.by_create_date"},{index:1,typeName:"byProject",textName:"tasks.task_filter.by_project"},{index:2,typeName:"byUser",textName:"tasks.task_filter.by_user"},{index:3,typeName:"byStartDate",textName:"tasks.task_filter.by_start_date"},{index:4,typeName:"byStopDate",textName:"tasks.task_filter.by_stop_date"},{index:5,typeName:"byUserStartDate",textName:"tasks.task_filter.by_user_start_date"},{index:6,typeName:"byUserStopDate",textName:"tasks.task_filter.by_user_stop_date"},{index:7,typeName:"byStartedTask",textName:"tasks.task_filter.by_started_task"},{index:8,typeName:"byPostponed",textName:"tasks.task_filter.by_postponed"}],p._subscription=new c.Subscription,p._subscription.add(p.viewDirection.currentDirection.subscribe((function(t){return p.rtlDirection=t}))),p.usersList=p.data.usersList,p.projectsList=p.data.projectsList,p.filterData=p.data.filterData,p}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;this.createForm().then((function(){t.form.patchValue({taskName:t.filterData.taskName?t.filterData.taskName:"",projectId:t.filterData.projectId?t.filterData.projectId:0,dateStart:t.filterData.dateStart?t.filterData.dateStart:"",dateStop:t.filterData.dateStop?t.filterData.dateStop:"",adminId:t.filterData.adminId?t.filterData.adminId:0,email:t.filterData.email?t.filterData.email:t.loggedInUser.email,userImg:t.filterData.userImg?t.filterData.userImg:"0",type:t.filterData.type?t.filterData.type:"",status:t.filterData.status?t.filterData.status:0,percentageStatus:!!t.filterData.percentageStatus&&t.filterData.percentageStatus}),t.form.markAllAsTouched(),setTimeout((function(){return t.checkFormValidation()}),1e3),t._subscription.add(t.form.get("adminId").valueChanges.subscribe((function(e){var i=t.usersList.filter((function(t){return t.adminId===e})).pop();i&&t.form.get("userImg").setValue(i.email)})))})),setTimeout((function(){-1===t.usersList.findIndex((function(t){return 0===t.adminId}))&&t.usersList.splice(0,0,{adminId:0,name:t.getTranslate("tasks.task_filter.all"),family:"",email:"0"}),-1===t.projectsList.findIndex((function(t){return 0===t.projectId}))&&t.projectsList.splice(0,0,{projectId:0,projectName:t.getTranslate("tasks.task_filter.all")})}),500)}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({userId:new s.g(0,s.G.required),userImg:new s.g("0"),email:new s.g(t.loggedInUser.email),taskName:new s.g(""),projectId:new s.g(0),dateStart:new s.g(""),dateStop:new s.g(""),type:new s.g("byCreateDate",s.G.required),adminId:new s.g(0),page:new s.g("-1"),status:new s.g(0),percentageStatus:new s.g(!1)}),e(!0)}))}},{key:"dateToGregorian",value:function(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}},{key:"checkFormValidation",value:function(){var t=this;"byProject"!==this.form.get("type").value&&"byUser"!==this.form.get("type").value&&this.dateRequiredValidation(),this._subscription.add(this.form.valueChanges.subscribe((function(e){var i=t.form.get("projectId"),r=t.form.get("adminId");switch(e.type){case"byProject":t.resetFormValidation(),0===i.value&&(i.setErrors({incorrect:!0}),i.markAsTouched());break;case"byCreateDate":case"byStartDate":case"byStopDate":case"byUserStartDate":case"byUserStopDate":t.dateRequiredValidation();break;case"byUser":t.resetFormValidation(),0===r.value&&(r.setErrors({incorrect:!0}),r.markAsTouched());break;default:t.resetFormValidation()}})))}},{key:"dateRequiredValidation",value:function(){var t=this.form.get("dateStart"),e=this.form.get("dateStop");this.resetFormValidation(),(""===t.value||""===e.value||""===t.value&&""!==e.value||""!==t.value&&""===e.value)&&(t.setErrors({incorrect:!0}),e.setErrors({incorrect:!0}),t.markAsTouched(),e.markAsTouched())}},{key:"resetFormValidation",value:function(){this.form.get("projectId").setErrors(null),this.form.get("dateStart").setErrors(null),this.form.get("dateStop").setErrors(null),this.form.get("adminId").setErrors(null)}},{key:"submit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});var e=Object.assign({},this.form.value);this.filterData=Object.assign({},this.form.value),0===e.adminId&&delete e.adminId,0===e.projectId&&delete e.projectId,""===e.taskName&&delete e.taskName,""===e.dateStart&&delete e.dateStart,""===e.dateStop&&delete e.dateStop,!1===e.percentageStatus&&delete e.percentageStatus,0===e.status&&delete e.status,this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.filterTask(e).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===e.result?(t.dialogRef.close({result:1,filterData:t.filterData,content:e.content}),t.messageService.showMessage(e.message)):t.form.enable()}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e)})))}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||ft)(u.Qb(d.a),u.Qb(f.a),u.Qb(s.f),u.Qb(u.s),u.Qb(o.e),u.Qb(h.a),u.Qb(p.a),u.Qb(v.a),u.Qb(b.a),u.Qb(d.h),u.Qb(g.a))},ft.\u0275cmp=u.Kb({type:ft,selectors:[["app-task-filter"]],features:[u.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",3,"dir",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"height-full-minus-30","full-width"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[1,"display-flex","margin-r-l-reverse"],[1,"half-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","type","required","","tabIndex","1"],["class","font-full-em",3,"value",4,"ngFor","ngForOf"],["formControlName","taskName","matInput","","tabindex","2","type","text",1,"full-width",3,"placeholder"],[4,"ngIf"],["formControlName","projectId","tabIndex","3"],["class","width-20 height-20 round-corner-all pos-rel top-three-tenth","matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",3,"ngClass","src",4,"ngIf"],["formControlName","adminId","tabIndex","4"],[1,"display-flex","margin-r-l-reverse","margin-b-full"],["formControlName","dateStart","matInput","","readonly","","tabindex","5",3,"matDatepicker","click","dateChange","focus"],["picker1",""],["aria-label","Clear","class","close-icon pos-rel top-half","mat-button","","mat-icon-button","","matSuffix","","type","button",3,"ngClass","click",4,"ngIf"],["formControlName","dateStop","matInput","","readonly","","tabindex","6",3,"matDatepicker","click","dateChange","focus"],["picker2",""],[1,"display-flex","margin-r-l-reverse","margin-t-full-2"],["formControlName","percentageStatus",3,"color"],[1,"font-9-em"],["formControlName","status",3,"color"],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"font-full-em",3,"value"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","src"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","","type","button",1,"close-icon","pos-rel","top-half",3,"ngClass","click"]],template:function(t,e){1&t&&u.Hc(0,ut,83,54,"div",0),2&t&&u.oc("ngIf",e.form)},directives:[r.t,y.b,s.I,s.t,s.k,k.c,k.g,w.a,s.s,s.i,s.D,r.s,s.c,C.b,x.f,x.d,S.a,I.b,T.a,D.o,k.b,k.i,r.q,k.j],pipes:[o.d],encapsulation:2}),ft);function pt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"mat-option",22),u.ec("onSelectionChange",(function(t){u.zc(i);var r=e.$implicit;return u.ic().updateImage(t,r)})),u.Wb(1,"div",23),u.Rb(2,"img",24),u.Wb(3,"span",25),u.Jc(4),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=e.$implicit,n=u.ic();u.oc("value",r.adminId),u.Cb(2),u.oc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+r.email+".jpg",u.Bc),u.Cb(2),u.Kc(r.name+" "+r.family)}}function bt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.assign_to_error")," "))}function gt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",26),u.ec("click",(function(){return u.zc(i),u.ic().form.get("dateStart").setValue("")})),u.Wb(1,"mat-icon"),u.Jc(2,"close"),u.Vb(),u.Vb()}}function mt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"global.date_error")," "))}function vt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.form.assign_to_error")," "))}function yt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",26),u.ec("click",(function(){return u.zc(i),u.ic().form.get("dateStop").setValue("")})),u.Wb(1,"mat-icon"),u.Jc(2,"close"),u.Vb(),u.Vb()}}function kt(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"global.date_error")," "))}var Ct,wt=((Ct=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s){var l;return _classCallCheck(this,i),(l=e.call(this,n,o)).data=t,l.api=r,l.injector=n,l.userInfoService=o,l.loadingIndicatorService=a,l.dialogRef=s,l._subscription=new c.Subscription,l.usersList=l.data.usersList,l.loginData=l.data.loginData,l.rtlDirection=l.data.rtlDirection,l}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;this.createForm().then((function(){t._subscription.add(t.form.get("adminId").valueChanges.subscribe((function(e){var i=t.usersList.filter((function(t){return t.adminId===e})).pop();i&&t.form.get("userImg").setValue(i.email)})))}))}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=new s.j({adminId:new s.g(null,s.G.required),dateStart:new s.g("",s.G.required),dateStop:new s.g("",s.G.required),userImg:new s.g("0"),email:new s.g(t.loggedInUser.email)}),e()}))}},{key:"updateImage",value:function(t,e){t.isUserInput&&(this.userSelected=e)}},{key:"dateToGregorian",value:function(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}},{key:"closeDialog",value:function(t){this.dialogRef.close(t)}},{key:"submit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});var e=Object.assign({},this.form.value);this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.boardsCalendarDurationTask(e).subscribe((function(i){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"});try{if(1===i.result){var r=[];i.content[0].map((function(t){var e={title:t.timediff,start:new Date(t.startDate),end:new Date(t.startDate)};r.push(e)})),t.sumTime=i.content[1][0].timeSum,t.calendarDifferentEvents=r,t.dialogRef.close({sumTime:t.sumTime,calendarEvent:r,dateStart:e.dateStart,userSelected:t.userSelected})}else t.form.enable()}catch(n){console.log(n)}}),(function(){t.form.enable(),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"})})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||Ct)(u.Qb(d.a),u.Qb(f.a),u.Qb(u.s),u.Qb(p.a),u.Qb(g.a),u.Qb(d.h))},Ct.\u0275cmp=u.Kb({type:Ct,selectors:[["app-task-calendar-filter"]],inputs:{sumTime:"sumTime",calendarComponent:"calendarComponent"},features:[u.zb],decls:49,vars:32,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"height-full-minus-30","full-width"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[1,"display-flex","margin-r-l-reverse"],[1,"full-width","padding-r-l"],[1,"full-width","font-8-em"],["matPrefix","",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","srcset"],["formControlName","adminId","tabIndex","4"],["class","font-full-em",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"half-width","padding-r-l"],["formControlName","dateStart","matInput","","readonly","","tabindex","5",3,"matDatepicker","click","dateChange","focus"],["picker1",""],["aria-label","Clear","class","close-icon pos-rel top-half float-left","mat-button","","mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["formControlName","dateStop","matInput","","readonly","","tabindex","6",3,"matDatepicker","click","dateChange","focus"],["picker2",""],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["disabled","","mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"font-full-em",3,"value","onSelectionChange"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","","type","button",1,"close-icon","pos-rel","top-half","float-left",3,"click"]],template:function(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",0),u.Wb(1,"form",1),u.ec("submit",(function(){return e.submit()})),u.Wb(2,"div",2),u.Wb(3,"h1",3),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Wb(6,"div",4),u.Wb(7,"div",5),u.Wb(8,"mat-form-field",6),u.Rb(9,"img",7),u.Wb(10,"mat-label"),u.Jc(11),u.jc(12,"translate"),u.Vb(),u.Wb(13,"mat-select",8),u.Hc(14,pt,5,4,"mat-option",9),u.Vb(),u.Hc(15,bt,3,3,"mat-error",10),u.Vb(),u.Vb(),u.Vb(),u.Wb(16,"div",4),u.Wb(17,"div",11),u.Wb(18,"mat-form-field",6),u.Wb(19,"mat-label"),u.Jc(20),u.jc(21,"translate"),u.Vb(),u.Wb(22,"input",12),u.ec("click",(function(){return u.zc(i),u.vc(24).open()}))("dateChange",(function(t){return e.dateToGregorian("dateStart",t)}))("focus",(function(){return u.zc(i),u.vc(24).open()})),u.Vb(),u.Rb(23,"mat-datepicker",null,13),u.Hc(25,gt,3,0,"button",14),u.Hc(26,mt,3,3,"mat-error",10),u.Hc(27,vt,3,3,"mat-error",10),u.Vb(),u.Vb(),u.Wb(28,"div",11),u.Wb(29,"mat-form-field",6),u.Wb(30,"mat-label"),u.Jc(31),u.jc(32,"translate"),u.Vb(),u.Wb(33,"input",15),u.ec("click",(function(){return u.zc(i),u.vc(35).open()}))("dateChange",(function(t){return e.dateToGregorian("dateStop",t)}))("focus",(function(){return u.zc(i),u.vc(35).open()})),u.Vb(),u.Rb(34,"mat-datepicker",null,16),u.Hc(36,yt,3,0,"button",14),u.Hc(37,kt,3,3,"mat-error",10),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(38,"div",17),u.Wb(39,"button",18),u.Wb(40,"mat-icon",19),u.Jc(41,"check"),u.Vb(),u.Wb(42,"span",20),u.Jc(43),u.jc(44,"translate"),u.Vb(),u.Vb(),u.Wb(45,"button",21),u.ec("click",(function(){return e.closeDialog(!1)})),u.Wb(46,"span",20),u.Jc(47),u.jc(48,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=u.vc(24),n=u.vc(35);u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(1),u.oc("formGroup",e.form),u.Cb(3),u.Lc(" ",u.kc(5,20,"tasks.task_filter.tasks_filter_calendar")," "),u.Cb(5),u.oc("ngClass",e.rtlDirection?"margin-l-half":"margin-r-half")("srcset","assets/profileImg/"+e.form.get("userImg").value+".jpg",u.Bc),u.Cb(2),u.Kc(u.kc(12,22,"tasks.form.assign_to")),u.Cb(3),u.oc("ngForOf",e.usersList),u.Cb(1),u.oc("ngIf",!e.form.get("adminId").valid&&e.form.get("adminId").touched),u.Cb(5),u.Kc(u.kc(21,24,"global.from_date")),u.Cb(2),u.oc("matDatepicker",r),u.Cb(3),u.oc("ngIf",e.form.get("dateStart").touched&&e.form.get("dateStart").value.length),u.Cb(1),u.oc("ngIf",!e.form.get("dateStart").valid&&e.form.get("dateStart").touched),u.Cb(1),u.oc("ngIf",e.form.get("dateStart").value>e.form.get("dateStop").value),u.Cb(4),u.Kc(u.kc(32,26,"global.to_date")),u.Cb(2),u.oc("matDatepicker",n),u.Cb(3),u.oc("ngIf",e.form.get("dateStop").touched&&e.form.get("dateStop").value.length),u.Cb(1),u.oc("ngIf",!e.form.get("dateStop").valid&&e.form.get("dateStop").touched),u.Cb(2),u.oc("disabled",!e.form.valid),u.Cb(4),u.Kc(u.kc(44,28,"global.submit")),u.Cb(4),u.Kc(u.kc(48,30,"global.dismiss"))}},directives:[y.b,s.I,s.t,s.k,k.c,k.i,r.q,k.g,w.a,s.s,s.i,r.s,r.t,s.c,C.b,x.f,x.d,I.b,T.a,D.o,k.b,k.j],pipes:[o.d],encapsulation:2}),Ct),At=i("LyM2"),xt=i("0d0Z"),St=["bottomSheet"];function Dt(t,e){if(1&t&&(u.Wb(0,"mat-icon",17),u.Jc(1),u.Vb(),u.Wb(2,"span",8),u.Jc(3),u.Vb()),2&t){var i=u.ic().$implicit;u.Cb(1),u.Lc(" ",i.icon," "),u.Cb(2),u.Kc(i.name)}}function It(t,e){1&t&&(u.Wb(0,"mat-tab"),u.Hc(1,Dt,4,2,"ng-template",16),u.Vb())}function Tt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",18),u.ec("click",(function(){return u.zc(i),u.ic().resetFilter()})),u.Wb(1,"mat-icon",19),u.Jc(2,"close"),u.Vb(),u.Wb(3,"span",20),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Vb()}2&t&&(u.Cb(4),u.Kc(u.kc(5,1,"global.reset_filter")))}function _t(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",21),u.ec("click",(function(){return u.zc(i),u.ic().addNewTask()})),u.Wb(1,"mat-icon",7),u.Jc(2,"add"),u.Vb(),u.Wb(3,"span",8),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.oc("disabled",!r.taskEssentialInfo),u.Cb(4),u.Kc(u.kc(5,2,"tasks.main.add_new_task"))}}function Vt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",22),u.Wb(1,"app-task-board",23),u.ec("pushTaskEssentialInfo",(function(t){return u.zc(i),u.ic().getTaskEssentialInfo(t)}))("triggerBottomSheet",(function(t){return u.zc(i),u.ic().openButtonSheet(t)})),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.Cb(1),u.oc("filterBoards",r.filteredBoardsData)("pushTaskToBoard",r.pushTaskToBoard)("refreshData",r.refreshBoardData)("rtlDirection",r.rtlDirection)}}function jt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",22),u.Wb(1,"app-task-calendar",24),u.ec("onTabLoaded",(function(t){return u.zc(i),u.ic().doSomething(t)})),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.Cb(1),u.oc("calendarParameters",r.calendarParameters)("rtlDirection",r.rtlDirection)}}function Lt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",25),u.Wb(1,"app-task-current",26),u.ec("pushTaskToBoard",(function(t){return u.zc(i),u.ic().getTaskToBoardData(t)}))("triggerBottomSheet",(function(t){return u.zc(i),u.ic().openButtonSheet(t)})),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.Cb(1),u.oc("rtlDirection",r.rtlDirection)("taskEssentialInfo",r.taskEssentialInfo)}}function Bt(t,e){1&t&&(u.Wb(0,"div",27),u.Wb(1,"div",28),u.hc(),u.Wb(2,"svg",29),u.Wb(3,"rect",30),u.Rb(4,"animate",31),u.Rb(5,"animate",32),u.Vb(),u.Wb(6,"rect",33),u.Rb(7,"animate",34),u.Rb(8,"animate",35),u.Vb(),u.Wb(9,"rect",36),u.Rb(10,"animate",37),u.Rb(11,"animate",38),u.Vb(),u.Vb(),u.gc(),u.Wb(12,"span",39),u.Jc(13),u.jc(14,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Cb(13),u.Kc(u.kc(14,1,"global.loading")))}var Wt,Ft=function(t){return{"margin-r-l":t}},Ot=((Wt=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d){var u;return _classCallCheck(this,i),(u=e.call(this,r,o)).dialog=t,u.injector=r,u.translate=n,u.userInfoService=o,u.viewDirection=a,u.currentTaskService=s,u.windowManagerService=l,u.loadingIndicatorService=d,u.loadingIndicator={status:!1,serviceName:"project"},u.doResetFilter=!1,u.activeTab=0,u.refreshBoardData=!1,u.filterData=null,u.tabs=[],u.calendarParameters={},u.currentTasks=null,u._subscription=new c.Subscription,u._subscription.add(u.viewDirection.currentDirection.subscribe((function(t){u.rtlDirection=t,u.changeMainTabLanguage()}))),u._subscription.add(u.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return u.loadingIndicator=t}))),u._subscription.add(u.currentTaskService.currentTask.subscribe((function(t){return u.currentTasks=t}))),u}return _createClass(i,[{key:"ngAfterViewInit",value:function(){this.changeMainTabLanguage(),this.filterData={userId:0,userImg:"0",adminId:0,dateStart:"",dateStop:"",projectId:0,taskName:"",type:"",email:this.loggedInUser.email,status:0}}},{key:"changeMainTabLanguage",value:function(){var t=this;setTimeout((function(){t.tabs=[{name:t.getTranslate("tasks.main.boards"),icon:"view_week",id:"boards"},{name:t.getTranslate("tasks.main.calendar"),icon:"event_available",id:"calendar"}]}),200)}},{key:"addNewTask",value:function(){var t=this,e=this.dialog.open(Z,{data:{action:"add",usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList},autoFocus:!1,width:"50%",height:"560px"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe((function(e){e&&(t.refreshBoardData=!0,setTimeout((function(){return t.refreshBoardData=!1}),500))})))}},{key:"tabChange",value:function(t){this.activeTab=t.index,this.doResetFilter=!1}},{key:"getTaskEssentialInfo",value:function(t){this.taskEssentialInfo=t}},{key:"getTaskToBoardData",value:function(t){this.pushTaskToBoard=t}},{key:"showCalendarFilter",value:function(){var t=this,e=this.dialog.open(wt,{data:{filterData:this.filterData,usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList,loginData:this.loginData,rtlDirection:this.rtlDirection},autoFocus:!1,width:"500px",height:"250px"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe((function(e){e&&(t.calendarParameters=e)})))}},{key:"showTaskFilter",value:function(){var t=this,e=this.dialog.open(ht,{data:{filterData:this.filterData,usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList},autoFocus:!1,width:"500px",height:"350px"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe((function(e){e&&1===e.result&&(t.filterData=Object.assign({},e.filterData),t.filteredBoardsData={resp:e},t.doResetFilter=!0)})))}},{key:"showFilter",value:function(){void 0!==this.checksTab&&"calendar_task"!=this.checksTab&&this.activeTab&&"calendar_task_rate"==this.checksTab&&this.activeTab?this.showCalendarFilter():this.showTaskFilter()}},{key:"resetFilter",value:function(){var t=this;this.refreshBoardData=!0,setTimeout((function(){t.refreshBoardData=!1,t.doResetFilter=!1}),200)}},{key:"openButtonSheet",value:function(t){t.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(t)}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"doSomething",value:function(t){this.checksTab=t}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||Wt)(u.Qb(d.b),u.Qb(u.s),u.Qb(o.e),u.Qb(p.a),u.Qb(v.a),u.Qb(At.a),u.Qb(xt.a),u.Qb(g.a))},Wt.\u0275cmp=u.Kb({type:Wt,selectors:[["app-task-main"]],viewQuery:function(t,e){var i;1&t&&u.Pc(St,!0),2&t&&u.uc(i=u.fc())&&(e.bottomSheet=i.first)},features:[u.zb],decls:21,vars:18,consts:[[1,"full-width","full-height","pos-abs","left-0","right-0","top-0",3,"dir"],[1,"title-container","pos-rel","height-60","overflow-hide","full-width","display-flex","align-items-end"],["color","accent","disableRipple","",1,"padding-r-l","z-index-0","height-30",3,"selectedTabChange"],[4,"ngFor","ngForOf"],[1,"pos-abs","top-full","display-flex","flex-space-between","align-items-center",3,"ngClass"],["class","no-bg no-border height-35 margin-l-full cursor-pointer",3,"click",4,"ngIf"],["mat-raised-button","",1,"white-gradient","padding-mini-r-l","text-gray-800","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","ngClass","click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["class","green-gradient padding-mini-r-l text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","",3,"disabled","click",4,"ngIf"],[1,"content-container","padding-t-b","full-width",3,"ngClass"],[3,"ngSwitch"],["class","full-height",4,"ngSwitchCase"],["class","current-task-container bg-white height-50 full-width padding-r-l line-height-50",4,"ngIf"],["bottomSheet",""],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],["class","display-flex","mat-tab-label",""],[1,"tab-icon","font-full-em","width-15","height-15"],[1,"no-bg","no-border","height-35","margin-l-full","cursor-pointer",3,"click"],[1,"font-8-rem","line-height-25","width-18","height-18"],[1,"font-8-rem","line-height-25"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],[1,"full-height"],[3,"filterBoards","pushTaskToBoard","refreshData","rtlDirection","pushTaskEssentialInfo","triggerBottomSheet"],[3,"calendarParameters","rtlDirection","onTabLoaded"],[1,"current-task-container","bg-white","height-50","full-width","padding-r-l","line-height-50"],[3,"rtlDirection","taskEssentialInfo","pushTaskToBoard","triggerBottomSheet"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"mat-tab-group",2),u.ec("selectedTabChange",(function(t){return e.tabChange(t)})),u.Hc(3,It,2,0,"mat-tab",3),u.Vb(),u.Wb(4,"div",4),u.Hc(5,Tt,6,3,"button",5),u.Wb(6,"button",6),u.ec("click",(function(){return e.showFilter()})),u.Wb(7,"mat-icon",7),u.Jc(8,"filter_list"),u.Vb(),u.Wb(9,"span",8),u.Jc(10),u.jc(11,"translate"),u.Vb(),u.Vb(),u.Hc(12,_t,6,4,"button",9),u.Vb(),u.Vb(),u.Wb(13,"div",10),u.Ub(14,11),u.Hc(15,Vt,2,4,"div",12),u.Hc(16,jt,2,2,"div",12),u.Tb(),u.Vb(),u.Hc(17,Lt,2,2,"div",13),u.Rb(18,"app-task-bottom-sheet",null,14),u.Hc(20,Bt,15,3,"div",15),u.Vb()),2&t&&(u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(3),u.oc("ngForOf",e.tabs),u.Cb(1),u.oc("ngClass",e.rtlDirection?"left-full":"right-full"),u.Cb(1),u.oc("ngIf",e.doResetFilter&&0===e.activeTab),u.Cb(1),u.oc("disabled",!e.taskEssentialInfo)("ngClass",u.rc(16,Ft,!e.activeTab)),u.Cb(4),u.Kc(u.kc(11,14,"global.filter")),u.Cb(2),u.oc("ngIf",!e.activeTab),u.Cb(1),u.oc("ngClass",e.currentTasks&&e.currentTasks.length?"height-full-minus-110":"height-full-minus-60"),u.Cb(1),u.oc("ngSwitch",e.activeTab),u.Cb(1),u.oc("ngSwitchCase",0),u.Cb(1),u.oc("ngSwitchCase",1),u.Cb(1),u.oc("ngIf",e.currentTasks&&e.currentTasks.length),u.Cb(3),u.oc("ngIf",e.loadingIndicator.status&&"project"===e.loadingIndicator.serviceName))},encapsulation:2}),Wt);function Et(t,e){1&t&&(u.Wb(0,"mat-error"),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Lc(" ",u.kc(2,1,"tasks.task_stop.description_error")," "))}function Nt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",1),u.Wb(1,"form",2),u.ec("submit",(function(){return u.zc(i),u.ic().submit()})),u.Wb(2,"div",3),u.Wb(3,"h1",4),u.Jc(4),u.jc(5,"translate"),u.Vb(),u.Wb(6,"div",5),u.Wb(7,"div",6),u.Wb(8,"span"),u.Jc(9),u.jc(10,"translate"),u.Vb(),u.Wb(11,"span",7),u.Jc(12),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"div",8),u.Wb(14,"div",9),u.Wb(15,"div",10),u.Jc(16),u.jc(17,"translate"),u.Wb(18,"span"),u.Jc(19),u.Vb(),u.Jc(20," \u066a "),u.Vb(),u.Rb(21,"mat-slider",11),u.Vb(),u.Vb(),u.Wb(22,"div",5),u.Wb(23,"div",6),u.Wb(24,"mat-form-field",12),u.Wb(25,"mat-label"),u.Jc(26),u.jc(27,"translate"),u.Vb(),u.Rb(28,"textarea",13),u.jc(29,"translate"),u.Hc(30,Et,3,3,"mat-error",14),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(31,"div",15),u.Wb(32,"button",16),u.Wb(33,"mat-icon",17),u.Jc(34,"check"),u.Vb(),u.Wb(35,"span",18),u.Jc(36),u.jc(37,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=u.ic();u.oc("dir",r.rtlDirection?"rtl":"ltr"),u.Cb(1),u.oc("formGroup",r.form),u.Cb(3),u.Lc(" ",u.kc(5,19,"tasks.task_stop.stop_description")," "),u.Cb(5),u.Lc("",u.kc(10,21,"tasks.form.task_name"),": "),u.Cb(3),u.Kc(r.task.taskName),u.Cb(3),u.oc("ngClass",r.rtlDirection?"right-full":"left-full"),u.Cb(1),u.Lc(" ",u.kc(17,23,"tasks.boards.task_percentage")," "),u.Cb(3),u.Kc(r.form.get("percentage").value),u.Cb(2),u.oc("disabled","done"===r.task.boardStatus)("max",100)("min",0)("step",5)("thumbLabel",!0)("tickInterval",2),u.Cb(5),u.Kc(u.kc(27,25,"tasks.task_stop.description")),u.Cb(2),u.pc("placeholder",u.kc(29,27,"tasks.task_stop.description")),u.Cb(2),u.oc("ngIf",!r.form.get("description").valid&&r.form.get("description").touched),u.Cb(2),u.oc("disabled",!r.form.valid),u.Cb(4),u.Kc(u.kc(37,29,"global.submit"))}}var Mt,Rt,zt,Pt=((Mt=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d,u,f){var h;return _classCallCheck(this,i),(h=e.call(this,n,d)).api=t,h.fb=r,h.injector=n,h.viewDirection=o,h.refreshLoginService=a,h.messageService=s,h.loadingIndicatorService=l,h.userInfoService=d,h.dialogRef=u,h.data=f,h._subscription=new c.Subscription,h._subscription.add(h.viewDirection.currentDirection.subscribe((function(t){return h.rtlDirection=t}))),h.task=f,h}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;this.createForm().then((function(){t.form.patchValue({taskId:t.task.taskId,percentage:t.task.percentage})}))}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({taskId:new s.g(0),description:new s.g("",s.G.required),percentage:new s.g(0,s.G.required),email:new s.g(t.loggedInUser.email,s.G.required)}),e(!0)}))}},{key:"submit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.form.disable(),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.taskStop(this.form.value).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===e.result?(t.messageService.showMessage(e.message),t.dialogRef.close(!0)):t.form.enable()}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.form.enable(),t.refreshLoginService.openLoginDialog(e)})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||Mt)(u.Qb(f.a),u.Qb(s.f),u.Qb(u.s),u.Qb(v.a),u.Qb(b.a),u.Qb(h.a),u.Qb(g.a),u.Qb(p.a),u.Qb(d.h),u.Qb(d.a))},Mt.\u0275cmp=u.Kb({type:Mt,selectors:[["app-task-stop"]],features:[u.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99 overflow-hide",3,"dir",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99","overflow-hide",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"full-width"],[1,"margin-b-full","font-full-em","text-weight-500"],[1,"row","margin-b-full"],[1,"col-md-12"],[1,"text-orange-700"],[1,"row"],[1,"col-md-12","no-padding-r-l"],[1,"font-9-em","pos-abs","top-half","right-full",3,"ngClass"],["formControlName","percentage","tabIndex","1","tabindex","3",1,"full-width","no-padding-r-l","pos-rel","top-half",3,"disabled","max","min","step","thumbLabel","tickInterval"],[1,"full-width","height-110","font-9-em"],["formControlName","description","matInput","","required","","tabindex","2",3,"placeholder"],[4,"ngIf"],[1,"height-30","full-width","display-flex","justify-content-end"],["mat-raised-button","","tabindex","3","type","submit",1,"green-gradient","float-left","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&u.Hc(0,Nt,38,31,"div",0),2&t&&u.oc("ngIf",e.form)},directives:[r.t,y.b,s.I,s.t,s.k,r.q,A.a,s.s,s.i,k.c,k.g,s.c,C.b,s.D,I.b,T.a,k.b],pipes:[o.d],styles:[""]}),Mt),Qt=i("8Tul"),Ht=i("AytR"),Gt=i("tk/3"),Jt=((Rt=function(){function t(e){_classCallCheck(this,t),this.http=e,this.accessToken="",this.API_URL=Ht.a.CONTAINER_URL+"/project",this.headers={headers:new Gt.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return _createClass(t,[{key:"getTodoList",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get("".concat(this.API_URL,"/todo/?taskId=").concat(t),this.headers)}},{key:"createTodo",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/todo/add",t,this.headers)}},{key:"updateTodo",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/todo",t,this.headers)}},{key:"deleteTodo",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.delete("".concat(this.API_URL,"/todo/?todoId=").concat(t.todoId,"&taskId=").concat(t.taskId),this.headers)}}]),t}()).\u0275fac=function(t){return new(t||Rt)(u.ac(Gt.a))},Rt.\u0275prov=u.Mb({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt),Ut=i("7RJT"),qt=((zt=function(){function t(){_classCallCheck(this,t),this._doRefresh=!1,this.doRefresh=new Ut.BehaviorSubject(this._doRefresh),this.currentDoRefresh=this.doRefresh.asObservable()}return _createClass(t,[{key:"changeCurrentDoRefresh",value:function(t){var e=this;this.doRefresh.next(t),t&&setTimeout((function(){return e.changeCurrentDoRefresh(!1)}),500)}}]),t}()).\u0275fac=function(t){return new(t||zt)},zt.\u0275prov=u.Mb({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt),Kt=i("MutI"),Xt=i("K3ar"),Yt=function(t){return{"text-line-through":t}};function $t(t,e){if(1&t){var i=u.Xb();u.Wb(0,"mat-list-item",15),u.ec("click",(function(){u.zc(i);var t=e.$implicit;return u.ic(2).checkTodo(t)})),u.Wb(1,"mat-icon",16),u.Jc(2),u.Vb(),u.Wb(3,"div",17),u.Jc(4),u.Vb(),u.Wb(5,"div",18),u.Jc(6),u.jc(7,"jalali"),u.Vb(),u.Wb(8,"button",19),u.ec("click",(function(t){u.zc(i);var r=e.$implicit,n=u.ic(2);return t.stopPropagation(),n.updateTodo(r)})),u.Wb(9,"mat-icon",20),u.Jc(10,"edit "),u.Vb(),u.Vb(),u.Wb(11,"button",21),u.ec("click",(function(t){u.zc(i);var r=e.$implicit,n=u.ic(2);return t.stopPropagation(),n.deleteTodo(r)})),u.Wb(12,"mat-icon",22),u.Jc(13,"close"),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=e.$implicit,n=u.ic(2);u.oc("ngClass",r.isChecked?"text-green-200":"text-gray-700"),u.Cb(2),u.Lc(" ",r.isChecked?"check_circle_outline":"radio_button_unchecked"," "),u.Cb(1),u.oc("ngClass",u.rc(9,Yt,r.isChecked)),u.Cb(1),u.Kc(r.text),u.Cb(2),u.Kc(u.lc(7,6,r.creationDate,n.rtlDirection)),u.Cb(2),u.oc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half")}}function Zt(t,e){if(1&t&&(u.Wb(0,"div",12),u.Wb(1,"mat-list",13),u.Hc(2,$t,14,11,"mat-list-item",14),u.Vb(),u.Vb()),2&t){var i=u.ic();u.Cb(2),u.oc("ngForOf",i.todoList)}}function te(t,e){1&t&&(u.Wb(0,"div",23),u.Wb(1,"div",24),u.hc(),u.Wb(2,"svg",25),u.Wb(3,"rect",26),u.Rb(4,"animate",27),u.Rb(5,"animate",28),u.Vb(),u.Wb(6,"rect",29),u.Rb(7,"animate",30),u.Rb(8,"animate",31),u.Vb(),u.Wb(9,"rect",32),u.Rb(10,"animate",33),u.Rb(11,"animate",34),u.Vb(),u.Vb(),u.gc(),u.Wb(12,"span",35),u.Jc(13),u.jc(14,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Cb(13),u.Kc(u.kc(14,1,"global.loading")))}var ee,ie,re=((ee=function(){function t(e,i,r,n,o,a,s,l,d){var u=this;_classCallCheck(this,t),this.dialog=e,this.fb=i,this.api=r,this.messageService=n,this.translateService=o,this.refreshLoginService=a,this.refreshBoardService=s,this.windowManagerService=l,this.loadingIndicatorService=d,this.taskId=0,this.edit=!1,this.loadingIndicator={status:!1,serviceName:"todo"},this.todoList=[],this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return u.loadingIndicator=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){this.createForm(),this.getTodoList()}},{key:"createForm",value:function(){this.form=this.fb.group({todo:this.fb.group({todoId:[0],taskId:[0],email:[""],isChecked:[0],text:[""],creationDate:[""]})})}},{key:"getTodoList",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable(),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getTodoList(this.taskId).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===e.result&&(t.todoList=e.contents,t.form.enable(),t.sortTodo())}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),t.refreshLoginService.openLoginDialog(e)})))}},{key:"checkTodo",value:function(t){var e=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();var i=Object.assign(Object.assign({},t),{isChecked:t.isChecked?0:1});this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.updateTodo(i).subscribe((function(t){if(e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===t.result){var i=t.content;e.todoList=e.todoList.map((function(t){return t.todoId===i.todoId&&(t=Object.assign({},i)),t})),e.form.enable(),e.sortTodo()}e.messageService.showMessage(t.message)}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),e.refreshLoginService.openLoginDialog(t)})))}},{key:"updateTodo",value:function(t){this.edit=!0,this.form.get("todo").setValue(t)}},{key:"deleteTodo",value:function(t){var e=this;this.form.disable();var i={todoId:t.todoId,taskId:this.taskId},r=this.dialog.open(Qt.a,{data:{title:this.getTranslate("tasks.task_detail.delete_title"),message:this.getTranslate("tasks.task_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(r.id),this._subscription.add(r.afterClosed().subscribe((function(r){r&&(e.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),e.api.accessToken=e.loginData.token_type+" "+e.loginData.access_token,e._subscription.add(e.api.deleteTodo(i).subscribe((function(i){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===i.result&&(e.todoList=e.todoList.filter((function(e){return e.todoId!==t.todoId})),e.form.enable()),e.messageService.showMessage(i.message)}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),e.refreshLoginService.openLoginDialog(t)}))))})))}},{key:"addTodo",value:function(){var t=this;if(""!==this.form.get("todo").value.text){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();var e={taskId:this.taskId,email:this.loggedInUser.email,isChecked:0,text:this.form.get("todo").value.text};this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.createTodo(e).subscribe((function(e){if(t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===e.result){t.todoList.push(e.content);var i=t.form.get("todo").value;t.form.get("todo").setValue(Object.assign(Object.assign({},i),{text:""})),t.form.enable(),t.sortTodo()}t.messageService.showMessage(e.message)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),t.refreshLoginService.openLoginDialog(e)})))}}},{key:"saveTodo",value:function(){var t=this;if(""!==this.form.get("todo").value.text){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();var e={todoId:this.form.get("todo").value.todoId,taskId:this.taskId,email:this.loggedInUser.email,isChecked:this.form.get("todo").value.isChecked,text:this.form.get("todo").value.text};this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.updateTodo(e).subscribe((function(e){if(t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===e.result){var i=e.content;t.todoList=t.todoList.map((function(t){return t.todoId===i.todoId&&(t=Object.assign({},i)),t}));var r=t.form.get("todo").value;t.form.get("todo").setValue(Object.assign(Object.assign({},r),{text:""})),t.edit=!1,t.form.enable(),t.sortTodo()}t.messageService.showMessage(e.message)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),t.refreshLoginService.openLoginDialog(e)})))}}},{key:"sortTodo",value:function(){this.todoList.sort((function(t,e){var i=t.isChecked,r=e.isChecked,n=0;return i>r?n=1:i<r&&(n=-1),n}))}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ee)(u.Qb(d.b),u.Qb(s.f),u.Qb(Jt),u.Qb(h.a),u.Qb(o.e),u.Qb(b.a),u.Qb(qt),u.Qb(xt.a),u.Qb(g.a))},ee.\u0275cmp=u.Kb({type:ee,selectors:[["app-task-todo"]],inputs:{taskId:"taskId",rtlDirection:"rtlDirection",loginData:"loginData",loggedInUser:"loggedInUser"},decls:19,vars:16,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","no-margin","height-45","padding-full"],[1,"text-gray-500","font-7-em","text-italic",3,"ngClass"],[1,"todo-content-container","padding-full","padding-b-half"],[1,"full-height",3,"formGroup"],["class","todo-list-container padding-b-full overflow-y-auto overflow-x-hide",4,"ngIf"],[1,"enter-todo-container","margin-t-full"],["formGroupName","todo"],["appearance","outline","color","primary",1,"full-width","height-45","font-9-em"],["formControlName","text","matInput","","name","inputValue",3,"placeholder","keydown"],["mat-raised-button","","matSuffix","","type","button",3,"disabled","click"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"todo-list-container","padding-b-full","overflow-y-auto","overflow-x-hide"],[1,"no-padding"],["class","height-auto cursor-pointer border-bottom",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"height-auto","cursor-pointer","border-bottom",3,"ngClass","click"],["mat-list-icon","",1,"no-padding"],["mat-line","",1,"no-text-eclipse","font-8-em","height-auto","padding-mini-t-b",3,"ngClass"],["mat-line","",1,"text-italic","font-7-em"],["type","button",1,"display-block","cursor-pointer","width-18","height-18","text-center","no-padding","no-border","no-bg",3,"ngClass","click"],[1,"no-padding","width-18","height-18","line-height-15","font-full-rem","text-green-600"],["type","button",1,"display-block","cursor-pointer","width-18","height-18","text-center","no-padding","no-border","no-bg",3,"click"],[1,"no-padding","width-18","height-18","line-height-15","font-full-rem","text-red-600"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"h1",1),u.Jc(2),u.jc(3,"translate"),u.Wb(4,"span",2),u.Jc(5),u.jc(6,"translate"),u.Vb(),u.Vb(),u.Wb(7,"div",3),u.Wb(8,"form",4),u.Hc(9,Zt,3,1,"div",5),u.Wb(10,"div",6),u.Wb(11,"div",7),u.Wb(12,"mat-form-field",8),u.Wb(13,"input",9),u.ec("keydown",(function(t){return"Enter"===t.code?e.edit?e.saveTodo():e.addTodo():""})),u.jc(14,"translate"),u.Vb(),u.Wb(15,"button",10),u.ec("click",(function(){return e.edit?e.saveTodo():e.addTodo()})),u.Wb(16,"mat-icon"),u.Jc(17,"check"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Hc(18,te,15,3,"div",11),u.Vb()),2&t&&(u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(2),u.Lc(" ",u.kc(3,10,"tasks.task_todo.todo_list")," "),u.Cb(2),u.oc("ngClass",e.rtlDirection?"margin-r-half":"margin-l-half"),u.Cb(1),u.Mc(" ",e.todoList.length?e.todoList.length:""," ",u.kc(6,12,e.todoList.length?"global.items":"")," "),u.Cb(3),u.oc("formGroup",e.form),u.Cb(1),u.oc("ngIf",e.todoList.length),u.Cb(4),u.pc("placeholder",u.kc(14,14,"tasks.task_todo.add_an_item")),u.Cb(2),u.oc("disabled",""===e.form.get("todo").value.text),u.Cb(3),u.oc("ngIf",e.loadingIndicator.status&&"todo"===e.loadingIndicator.serviceName))},directives:[y.b,r.q,s.I,s.t,s.k,r.t,s.l,k.c,s.c,C.b,s.s,s.i,I.b,k.j,T.a,Kt.a,r.s,Kt.d,Kt.c,D.k],pipes:[o.d,Xt.a],styles:[".todo-content-container[_ngcontent-%COMP%]{height:calc(100% - 60px)}.text-line-through[_ngcontent-%COMP%]{text-decoration:line-through}.todo-list-container[_ngcontent-%COMP%]{max-height:calc(100% - 45px - 1em)}.border-bottom[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}"]}),ee),ne=i("IvIE"),oe=i("mrSG"),ae=i("5+WD"),se=i("jaxi"),ce=i("Qu3c"),le=i("M9IT"),de=i("+0xr"),ue=((ie=function(){function t(e,i,r,n,o){var a=this;_classCallCheck(this,t),this.data=e,this.windowManagerService=i,this.dialog=r,this.dialogRef=n,this.viewDirection=o,this.taskId=0,this.cancel=new u.o,this.usersList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return a.rtlDirection=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){this.taskDescription=this.data.description,this.NameDescription=this.data.task.taskName,this.taskPercentage=this.data.task.percentage,this.DateStop=this.data.task.taskDateStop}},{key:"close",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ie)(u.Qb(d.a),u.Qb(xt.a),u.Qb(d.b),u.Qb(d.h),u.Qb(v.a))},ie.\u0275cmp=u.Kb({type:ie,selectors:[["app-task-description"]],viewQuery:function(t,e){var i;1&t&&u.Fc(le.a,!0),2&t&&u.uc(i=u.fc())&&(e.paginator=i.first)},inputs:{rtlDirection:"rtlDirection",loginData:"loginData",taskId:"taskId",editable:"editable",usersList:"usersList"},outputs:{cancel:"cancel"},decls:24,vars:20,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99"],[1,"full-height",3,"dir"],[1,"height-45","overflow-x-hide","overflow-y-auto","full-width"],[1,"margin-b-full","font-full-em","text-pink-600","text-weight-500","margin-b-half",3,"ngClass"],[1,"pos-abs","top-full","cursor-pointer","text-gray-600",3,"ngClass","click"],[1,"text-grey-500"],[1,"height-full-minus-90"],[1,"half-width","display-block","text-gray-600","font-7-em","margin-b-full","display-flex",3,"ngClass"],[1,"width-18","height-18","font-full-plus-three-tenth-em","line-height-20"],[1,"half-width","display-block","text-gray-600","font-7-em","margin-b-full",3,"ngClass"],[3,"ngClass"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal","full-width",3,"ngClass","click"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"h1",3),u.Jc(4),u.Vb(),u.Wb(5,"a",4),u.ec("click",(function(){return e.close()})),u.Wb(6,"mat-icon",5),u.Jc(7,"close"),u.Vb(),u.Vb(),u.Vb(),u.Wb(8,"div",6),u.Wb(9,"span",7),u.Wb(10,"mat-icon",8),u.Jc(11,"access_alarm"),u.Vb(),u.Jc(12),u.jc(13,"jalali"),u.Vb(),u.Wb(14,"span",9),u.Jc(15),u.jc(16,"translate"),u.Vb(),u.Wb(17,"p",10),u.Jc(18),u.Vb(),u.Vb(),u.Wb(19,"div",11),u.Wb(20,"button",12),u.ec("click",(function(){return e.close()})),u.Wb(21,"span",13),u.Jc(22),u.jc(23,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Cb(1),u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(2),u.oc("ngClass",e.rtlDirection?"text-right":"text-left"),u.Cb(1),u.Lc(" ",e.NameDescription," "),u.Cb(1),u.oc("ngClass",e.rtlDirection?"left-full ":"right-full"),u.Cb(4),u.oc("ngClass",e.rtlDirection?"text-right float-right":"text-left float-left"),u.Cb(3),u.Lc(": ",u.lc(13,13,e.DateStop,e.rtlDirection)," "),u.Cb(2),u.oc("ngClass",e.rtlDirection?"text-right float-right":"text-left float-left"),u.Cb(1),u.Mc("",u.kc(16,16,"tasks.boards.task_percentage")," : ",e.taskPercentage,"% "),u.Cb(2),u.oc("ngClass",e.rtlDirection?"text-right":"text-left"),u.Cb(1),u.Kc(e.taskDescription),u.Cb(2),u.oc("ngClass",e.rtlDirection?"text-left":"text-right"),u.Cb(2),u.Kc(u.kc(23,18,"global.dismiss")))},directives:[y.b,r.q,T.a],pipes:[Xt.a,o.d],encapsulation:2}),ie);function fe(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.form.start_at")))}function he(t,e){if(1&t&&(u.Wb(0,"td",16),u.Wb(1,"span",17),u.Jc(2),u.jc(3,"jalali"),u.Vb(),u.Vb()),2&t){var i=e.$implicit,r=u.ic();u.Cb(2),u.Kc(u.lc(3,1,i.taskDateStart,r.rtlDirection))}}function pe(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.form.stop_at")))}function be(t,e){if(1&t&&(u.Wb(0,"td",16),u.Wb(1,"span",17),u.Jc(2),u.jc(3,"jalali"),u.Vb(),u.Vb()),2&t){var i=e.$implicit,r=u.ic();u.Cb(2),u.Kc(u.lc(3,1,i.taskDateStop,r.rtlDirection))}}function ge(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.form.task_admin_start")))}function me(t,e){if(1&t&&(u.Wb(0,"td",16),u.Wb(1,"span",17),u.Jc(2),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Cb(2),u.Kc(i.adminIdStartTask)}}function ve(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.form.task_admin_stop")))}function ye(t,e){if(1&t&&(u.Wb(0,"td",16),u.Wb(1,"span",17),u.Jc(2),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Cb(2),u.Kc(i.adminIdStopTask)}}function ke(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.boards.task_percentage")))}function Ce(t,e){if(1&t&&(u.Wb(0,"td",16),u.Wb(1,"span",17),u.Jc(2),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Cb(2),u.Lc("",i.percentage,"%")}}function we(t,e){1&t&&(u.Wb(0,"th",15),u.Jc(1),u.jc(2,"translate"),u.Vb()),2&t&&(u.Cb(1),u.Kc(u.kc(2,1,"tasks.form.task_description")))}function Ae(t,e){1&t&&(u.Wb(0,"span"),u.Wb(1,"a",20),u.Jc(2),u.Vb(),u.Vb()),2&t&&(u.Cb(2),u.Lc(" ","-"," "))}function xe(t,e){if(1&t){var i=u.Xb();u.Wb(0,"a",21),u.ec("click",(function(){u.zc(i);var t=u.ic().$implicit;return u.ic().descriptionTask(t.description)})),u.Wb(1,"span",22),u.Jc(2),u.jc(3,"translate"),u.Vb(),u.Vb()}2&t&&(u.Cb(2),u.Kc(u.kc(3,1,"tasks.task_detail.overview_description")))}function Se(t,e){if(1&t&&(u.Wb(0,"td",16),u.Hc(1,Ae,3,1,"span",18),u.Hc(2,xe,4,3,"a",19),u.Vb()),2&t){var i=e.$implicit;u.Cb(1),u.oc("ngIf",!i.description.length),u.Cb(1),u.oc("ngIf",i.description.length)}}function De(t,e){1&t&&u.Rb(0,"tr",23)}function Ie(t,e){1&t&&u.Rb(0,"tr",24)}function Te(t,e){1&t&&(u.Wb(0,"div",25),u.Wb(1,"div",26),u.hc(),u.Wb(2,"svg",27),u.Wb(3,"rect",28),u.Rb(4,"animate",29),u.Rb(5,"animate",30),u.Vb(),u.Wb(6,"rect",31),u.Rb(7,"animate",32),u.Rb(8,"animate",33),u.Vb(),u.Wb(9,"rect",34),u.Rb(10,"animate",35),u.Rb(11,"animate",36),u.Vb(),u.Vb(),u.gc(),u.Wb(12,"span",37),u.Jc(13),u.jc(14,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Cb(13),u.Kc(u.kc(14,1,"global.loading")))}var _e,Ve=((_e=function(){function t(e,i,r,n,o,a,s){var l=this;_classCallCheck(this,t),this.api=e,this.dialog=i,this.translate=r,this.refreshLoginService=n,this.loadingIndicatorService=o,this.windowManagerService=a,this.matPaginatorIntl=s,this.usersList=[],this.taskReports=[],this.displayedColumns=["taskDateStart","taskDateStop","adminIdStartTask","adminIdStopTask","percentage","description"],this.pageLimit=[10,25,50,100],this.dataSource=new de.o(this.taskReports),this.loadingIndicator={status:!1,serviceName:"project-report-report"},this.dataChange=!1,this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return l.loadingIndicator=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getTaskReport(),this.matPaginatorIntl.itemsPerPageLabel=this.getTranslate("global.pagination.item_per_page"),this.matPaginatorIntl.getRangeLabel=function(e,i,r){if(0===r||0===i)return"0 ".concat(t.getTranslate("global.pagination.from")," ").concat(r);var n=e*i;return"".concat(n+1," - ").concat(n<(r=Math.max(r,0))?Math.min(n+i,r):n+i," ").concat(t.getTranslate("global.pagination.from")," ").concat(r)}}},{key:"getTaskReport",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project-report"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getTaskReport(this.task.taskId).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-report"}),1===e.result&&(t.taskReports=e.contents,t.taskReports.map((function(e){if(e.adminIdStartTask){var i=t.usersList.filter((function(t){return t.adminId===e.adminIdStartTask})).pop();e.adminIdStartTask=i?"".concat(i.name," ").concat(i.family):"-"}if(e.adminIdStopTask){var r=t.usersList.filter((function(t){return t.adminId===e.adminIdStopTask})).pop();e.adminIdStopTask=r?"".concat(r.name," ").concat(r.family):"-"}})),t.dataSource=new de.o(t.taskReports),t.dataSource.paginator=t.paginator)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-report"}),t.refreshLoginService.openLoginDialog(e)})))}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"descriptionTask",value:function(t){var e=this,i=this.dialog.open(ue,{data:{task:this.task,description:t},autoFocus:!1,width:"500px",height:"250px"});this.windowManagerService.dialogOnTop(i.id),this._subscription.add(i.afterClosed().subscribe((function(t){t&&(e.dataChange=!0,setTimeout((function(){e.dataChange=!1}),500))})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_e)(u.Qb(f.a),u.Qb(d.b),u.Qb(o.e),u.Qb(b.a),u.Qb(g.a),u.Qb(xt.a),u.Qb(le.b))},_e.\u0275cmp=u.Kb({type:_e,selectors:[["app-task-report"]],viewQuery:function(t,e){var i;1&t&&u.Fc(le.a,!0),2&t&&u.uc(i=u.fc())&&(e.paginator=i.first)},inputs:{rtlDirection:"rtlDirection",loginData:"loginData",task:"task",usersList:"usersList"},decls:25,vars:6,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"full-width","full-height","overflow-y-auto","overflow-x-hide"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","taskDateStart"],["class","font-7-em","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","taskDateStop"],["matColumnDef","adminIdStartTask"],["matColumnDef","adminIdStopTask"],["matColumnDef","percentage"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"full-width",3,"pageSizeOptions"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],["mat-header-cell","",1,"font-7-em"],["mat-cell",""],[1,"font-7-em","display-block","width-60"],[4,"ngIf"],["class","padding-mini-r-l  line-height-30 font-9-em overflow-hide text-weight-normal no-box-shadow cursor-pointer",3,"click",4,"ngIf"],[1,"font-7-em","display-block"],[1,"padding-mini-r-l","line-height-30","font-9-em","overflow-hide","text-weight-normal","no-box-shadow","cursor-pointer",3,"click"],[1,"padding-mini-r-l","text-blue"],["mat-header-row",""],["mat-row",""],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"table",2),u.Ub(3,3),u.Hc(4,fe,3,3,"th",4),u.Hc(5,he,4,4,"td",5),u.Tb(),u.Ub(6,6),u.Hc(7,pe,3,3,"th",4),u.Hc(8,be,4,4,"td",5),u.Tb(),u.Ub(9,7),u.Hc(10,ge,3,3,"th",4),u.Hc(11,me,3,1,"td",5),u.Tb(),u.Ub(12,8),u.Hc(13,ve,3,3,"th",4),u.Hc(14,ye,3,1,"td",5),u.Tb(),u.Ub(15,9),u.Hc(16,ke,3,3,"th",4),u.Hc(17,Ce,3,1,"td",5),u.Tb(),u.Ub(18,10),u.Hc(19,we,3,3,"th",4),u.Hc(20,Se,3,2,"td",5),u.Tb(),u.Hc(21,De,1,0,"tr",11),u.Hc(22,Ie,1,0,"tr",12),u.Vb(),u.Rb(23,"mat-paginator",13),u.Vb(),u.Hc(24,Te,15,3,"div",14),u.Vb()),2&t&&(u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(2),u.oc("dataSource",e.dataSource),u.Cb(19),u.oc("matHeaderRowDef",e.displayedColumns),u.Cb(1),u.oc("matRowDefColumns",e.displayedColumns),u.Cb(1),u.oc("pageSizeOptions",e.pageLimit),u.Cb(1),u.oc("ngIf",e.loadingIndicator.status&&"project-report"===e.loadingIndicator.serviceName))},directives:[y.b,de.n,de.c,de.i,de.b,de.k,de.m,le.a,r.t,de.h,de.a,de.j,de.l],pipes:[o.d,Xt.a],encapsulation:2}),_e);function je(t,e){if(1&t&&(u.Wb(0,"mat-list-item",9),u.Wb(1,"mat-icon",10),u.Jc(2),u.Vb(),u.Wb(3,"div",11),u.Jc(4),u.Vb(),u.Wb(5,"div",12),u.Jc(6),u.jc(7,"jalali"),u.Vb(),u.Vb()),2&t){var i=e.$implicit,r=u.ic(2);u.Cb(2),u.Lc(" ",i.activityIcon," "),u.Cb(2),u.Kc(i.commentText),u.Cb(2),u.Kc(u.lc(7,3,i.creationDate,r.rtlDirection))}}function Le(t,e){if(1&t&&(u.Wb(0,"mat-list",7),u.Hc(1,je,8,6,"mat-list-item",8),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("ngForOf",i.activityList)}}function Be(t,e){1&t&&(u.Wb(0,"div",13),u.Wb(1,"div",14),u.hc(),u.Wb(2,"svg",15),u.Wb(3,"rect",16),u.Rb(4,"animate",17),u.Rb(5,"animate",18),u.Vb(),u.Wb(6,"rect",19),u.Rb(7,"animate",20),u.Rb(8,"animate",21),u.Vb(),u.Wb(9,"rect",22),u.Rb(10,"animate",23),u.Rb(11,"animate",24),u.Vb(),u.Vb(),u.gc(),u.Wb(12,"span",25),u.Jc(13),u.jc(14,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Cb(13),u.Kc(u.kc(14,1,"global.loading")))}var We,Fe=((We=function(){function t(e,i,r,n){var o=this;_classCallCheck(this,t),this.api=e,this.refreshLoginService=i,this.loadingIndicatorService=r,this.translate=n,this.activityList=[],this.loadingIndicator={status:!1,serviceName:"project-activity"},this.single=[],this.gradient=!1,this.showLegend=!1,this.showLabels=!0,this.isDoughnut=!1,this.colorScheme={domain:["#4caf50","#b71c1c"]},this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return o.loadingIndicator=t})))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.getActivities().then((function(e){setTimeout((function(){return t.activityList=e})),t.single=[{name:t.getTranslate("tasks.activity.completed"),value:t.task.percentage},{name:t.getTranslate("tasks.activity.not_completed"),value:100-t.task.percentage}]}))}},{key:"getActivities",value:function(){var t=this;return new Promise((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project-activity"}),t.api.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.api.getActivities(t.task.taskId).subscribe((function(i){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-activity"}),1===i.result&&e(i.contents)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-activity"}),t.refreshLoginService.openLoginDialog(e)})))}))}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||We)(u.Qb(f.a),u.Qb(b.a),u.Qb(g.a),u.Qb(o.e))},We.\u0275cmp=u.Kb({type:We,selectors:[["app-task-activity"]],inputs:{task:"task",rtlDirection:"rtlDirection",loginData:"loginData"},decls:12,vars:17,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"margin-b-full","padding-r-l","full-width","text-gray-800","font-full-em","text-weight-500","no-margin","height-35",3,"ngClass"],["dir","ltr",1,"full-width","padding-b-full-2","height-200"],[3,"doughnut","gradient","labels","legend","results","scheme"],[1,"activity-content-container","padding-r-l","overflow-y-auto","overflow-x-hide"],["class","no-padding",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"no-padding"],["class","height-30 no-padding cursor-pointer margin-b-half",4,"ngFor","ngForOf"],[1,"height-30","no-padding","cursor-pointer","margin-b-half"],["mat-list-icon","",1,"no-padding","width-15","height-15","font-8-rem","text-center","line-height-15"],["mat-line","",1,"text-gray-600","font-8-rem"],["mat-line","",1,"text-italic","font-7-em"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"h1",1),u.Jc(2),u.jc(3,"translate"),u.Vb(),u.Wb(4,"div",2),u.Rb(5,"ngx-charts-pie-chart",3),u.Vb(),u.Wb(6,"h1",1),u.Jc(7),u.jc(8,"translate"),u.Vb(),u.Wb(9,"div",4),u.Hc(10,Le,2,1,"mat-list",5),u.Vb(),u.Hc(11,Be,15,3,"div",6),u.Vb()),2&t&&(u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(1),u.oc("ngClass",e.rtlDirection?"text-right":"text-left"),u.Cb(1),u.Lc(" ",u.kc(3,13,"tasks.activity.task_completion_percentage")," "),u.Cb(3),u.oc("doughnut",e.isDoughnut)("gradient",e.gradient)("labels",e.showLabels)("legend",e.showLegend)("results",e.single)("scheme",e.colorScheme),u.Cb(1),u.oc("ngClass",e.rtlDirection?"text-right":"text-left"),u.Cb(1),u.Lc(" ",u.kc(8,15,"tasks.activity.activity_list")," "),u.Cb(3),u.oc("ngIf",e.activityList.length),u.Cb(1),u.oc("ngIf",e.loadingIndicator.status&&"project-activity"===e.loadingIndicator.serviceName))},directives:[y.b,r.q,a.S,r.t,Kt.a,r.s,Kt.d,T.a,Kt.c,D.k],pipes:[o.d,Xt.a],styles:[".activity-content-container[_ngcontent-%COMP%]{height:calc(100% - 270px)}"]}),We);function Oe(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",16),u.ec("click",(function(){return u.zc(i),u.ic(2).deleteTask()})),u.jc(1,"translate"),u.Wb(2,"mat-icon",11),u.Jc(3,"delete"),u.Vb(),u.Vb()}2&t&&u.pc("matTooltip",u.kc(1,1,"tasks.task_detail.delete_title"))}function Ee(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",17),u.ec("click",(function(){return u.zc(i),u.ic(2).editableForm()})),u.Wb(1,"mat-icon",11),u.Jc(2,"edit"),u.Vb(),u.Vb()}}function Ne(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",18),u.Wb(1,"div",19),u.Wb(2,"app-task-form",20),u.ec("cancel",(function(t){return u.zc(i),u.ic(2).cancelBtn(t)}))("formOutput",(function(t){return u.zc(i),u.ic(2).updateForm(t)})),u.Vb(),u.Vb(),u.Wb(3,"div",21),u.Rb(4,"app-task-todo",22),u.Vb(),u.Vb()}if(2&t){var r=u.ic(2);u.Cb(1),u.oc("ngClass",r.rtlDirection?"float-right":"float-left"),u.Cb(1),u.oc("data",r.data)("editable",r.editable)("form",r.form),u.Cb(1),u.oc("ngClass",r.rtlDirection?"float-left":"float-right"),u.Cb(1),u.oc("loggedInUser",r.loggedInUser)("loginData",r.loginData)("rtlDirection",r.rtlDirection)("taskId",r.task.taskId)}}function Me(t,e){if(1&t&&(u.Wb(0,"div",18),u.Wb(1,"div",24),u.Rb(2,"app-task-report",25),u.Vb(),u.Wb(3,"div",26),u.Rb(4,"app-task-activity",27),u.Vb(),u.Vb()),2&t){var i=u.ic(3);u.Cb(1),u.oc("ngClass",i.rtlDirection?" float-right":" float-left"),u.Cb(1),u.oc("loginData",i.loginData)("rtlDirection",i.rtlDirection)("task",i.task)("usersList",i.usersList),u.Cb(1),u.oc("ngClass",i.rtlDirection?" float-left":" float-right"),u.Cb(1),u.oc("loginData",i.loginData)("rtlDirection",i.rtlDirection)("task",i.task)}}function Re(t,e){if(1&t&&u.Hc(0,Me,5,9,"div",23),2&t){var i=u.ic(2);u.oc("ngIf",i.task)}}var ze=function(t){return{"view-mode":t}};function Pe(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",1),u.Wb(1,"div",2),u.Wb(2,"h1",3),u.Wb(3,"span",4),u.Jc(4),u.Vb(),u.Jc(5),u.Vb(),u.Wb(6,"div",5),u.Wb(7,"mat-button-toggle-group",6,7),u.ec("change",(function(){u.zc(i);var t=u.vc(8);return u.ic().changeViewMode(t.value)})),u.Wb(9,"mat-button-toggle",8),u.Wb(10,"span"),u.Jc(11),u.jc(12,"translate"),u.Vb(),u.Vb(),u.Wb(13,"mat-button-toggle",8),u.Wb(14,"span"),u.Jc(15),u.jc(16,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(17,"div",9),u.Wb(18,"button",10),u.ec("click",(function(){return u.zc(i),u.ic().cancelBtn(!0)})),u.Wb(19,"mat-icon",11),u.Jc(20,"close"),u.Vb(),u.Vb(),u.Hc(21,Oe,4,3,"button",12),u.Hc(22,Ee,3,0,"button",13),u.Vb(),u.Vb(),u.Hc(23,Ne,5,9,"div",14),u.Hc(24,Re,1,1,"ng-template",null,15,u.Ic),u.Vb()}if(2&t){var r=u.vc(8),n=u.vc(25),o=u.ic();u.oc("dir",o.rtlDirection?"rtl":"ltr"),u.Cb(4),u.Lc("#",o.task.taskId,""),u.Cb(1),u.Lc(" ",o.task.taskName," "),u.Cb(2),u.oc("ngClass",u.rc(17,ze,r))("value",o.viewModeTypes),u.Cb(2),u.oc("value","info"),u.Cb(2),u.Kc(u.kc(12,13,"tasks.task_detail.overview")),u.Cb(2),u.oc("value","report"),u.Cb(2),u.Kc(u.kc(16,15,"tasks.task_detail.reports")),u.Cb(6),u.oc("ngIf","info"===o.viewModeTypes),u.Cb(1),u.oc("ngIf","info"===o.viewModeTypes),u.Cb(1),u.oc("ngIf","info"===o.viewModeTypes)("ngIfElse",n)}}var Qe,He,Ge=((Qe=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d,u,f,h,p){var b;return _classCallCheck(this,i),(b=e.call(this,o,s)).dialog=t,b.fb=r,b.api=n,b.injector=o,b.messageService=a,b.userInfoService=s,b.translateService=l,b.viewDirection=d,b.refreshLoginService=u,b.refreshBoardService=f,b.windowManagerService=h,b.loadingIndicatorService=p,b.editable=!1,b.task=null,b.projectsList=[],b.usersList=[],b.viewModeTypes="info",b._subscription=new c.Subscription,b._subscription.add(b.viewDirection.currentDirection.subscribe((function(t){return b.rtlDirection=t}))),b}return _createClass(i,[{key:"ngOnInit",value:function(){this.data=this.bottomSheetData.data,this.usersList=this.data.usersList,this.projectsList=this.data.projectsList,this.task=this.data.task}},{key:"ngAfterViewInit",value:function(){var t=this;this.createForm().then((function(){"detail"===t.data.action&&t.formPatchValue()}))}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({taskId:new s.g(0),taskName:new s.g("",s.G.required),percentage:new s.g(0,s.G.required),assignTo:new s.g({adminId:0},s.G.required),email:new s.g("0"),taskDurationHours:new s.g(0,[s.G.required,s.G.pattern("^[0-9]+")]),taskDurationMinutes:new s.g(0,s.G.required),startAt:new s.g("",s.G.required),stopAt:new s.g("",s.G.required),startTime:new s.g("",s.G.required),stopTime:new s.g("",s.G.required),project:new s.g({},s.G.required),taskDesc:new s.g(""),boardStatus:new s.g("",s.G.required),taskDateStart:"0000-00-00 00:00:00",taskDateStop:"0000-00-00 00:00:00",status:new s.g(0),assigner:new s.g(t.loggedInUser.email,s.G.required),trackable:new s.g(0)}),e()}))}},{key:"updateForm",value:function(t){this.form=t,this.submit()}},{key:"cancelBtn",value:function(t){this.form.disable(),t&&("detail"===this.data.action&&this.editable?this.formPatchValue():this.bottomSheetData.bottomSheetRef.close())}},{key:"onKeydownHandler",value:function(){this.bottomSheetData.bottomSheetRef.close()}},{key:"formPatchValue",value:function(){var t=this;this.form.disable(),this.editable=!1;var e=this.task.startAt.split(" "),i=this.task.stopAt.split(" "),r=e[1].split(":"),n=i[1].split(":"),o=r[0]+":"+r[1],a=n[0]+":"+n[1],s=this.projectsList.filter((function(e){return e.projectId===t.task.project.projectId})).pop(),c=this.usersList.filter((function(e){return e.email===t.task.assignTo.email})).pop();this.form.patchValue({taskId:this.task.taskId,taskName:this.task.taskName,percentage:this.task.percentage,assignTo:c,taskDurationHours:this.task.taskDurationHours,taskDurationMinutes:this.task.taskDurationMinutes,startAt:e[0],startTime:o,stopAt:i[0],stopTime:a,project:s,taskDesc:this.task.taskDesc,email:c.email,boardStatus:this.data.boardStatus,taskDateStart:this.task.taskDateStart,taskDateStop:this.task.taskDateStop,assigner:this.task.assigner,status:this.task.status,trackable:this.task.trackable})}},{key:"editableForm",value:function(){this.editable=!this.editable,this.editable?this.form.enable():this.form.disable()}},{key:"deleteTask",value:function(){var t=this,e=this.dialog.open(Qt.a,{data:{title:this.getTranslate("tasks.task_detail.delete_title"),message:this.getTranslate("tasks.task_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe((function(e){e&&(t.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),t.api.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.api.deleteTask(t.task).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),e.result?(t.bottomSheetData.bottomSheetRef.close(),t.messageService.showMessage(e.message),t.refreshBoardService.changeCurrentDoRefresh(!0)):t.messageService.showMessage(e.message)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e)}))))})))}},{key:"submit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});var e=Object.assign({},this.form.value);e.startAt=e.startAt+" "+e.startTime+":00",e.stopAt=e.stopAt+" "+e.stopTime+":00",this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.updateTask(e).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),e.result?(t.bottomSheetData.bottomSheetRef.close(),t.messageService.showMessage(e.message),t.refreshBoardService.changeCurrentDoRefresh(!0)):t.form.enable()}),(function(e){t.form.enable(),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e)})))}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"changeViewMode",value:function(t){this.viewModeTypes=t}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||Qe)(u.Qb(d.b),u.Qb(s.f),u.Qb(f.a),u.Qb(u.s),u.Qb(h.a),u.Qb(p.a),u.Qb(o.e),u.Qb(v.a),u.Qb(b.a),u.Qb(qt),u.Qb(xt.a),u.Qb(g.a))},Qe.\u0275cmp=u.Kb({type:Qe,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&u.ec("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,u.xc)},features:[u.zb],decls:1,vars:1,consts:[["class","full-page-size overflow-hide",3,"dir",4,"ngIf"],[1,"full-page-size","overflow-hide",3,"dir"],[1,"task-heading","clear-both","full-width","height-45","display-flex","flex-space-between"],[1,"no-margin","height-45","line-height-45","font-full-plus-one-tenth-em","text-eclipse","padding-r-l","text-pink-600","text-weight-500"],[1,"text-gray-700"],[1,"pos-abs","top-fourth-tenth","content-switcher"],[1,"full-width","mat-button-custom","line-height-20","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"display-flex","flex-direction-row-reverse"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-gray-600","no-padding",3,"click"],[1,"line-height-30"],["class","no-border cursor-pointer no-bg text-center width-45 height-45 text-red-400 no-padding","type","button",3,"matTooltip","click",4,"ngIf"],["class","no-border cursor-pointer no-bg text-center width-45 height-45 text-green-400 no-padding","type","button",3,"click",4,"ngIf"],["class","full-width height-full-minus-45",4,"ngIf","ngIfElse"],["reportView",""],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-red-400","no-padding",3,"matTooltip","click"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-green-400","no-padding",3,"click"],[1,"full-width","height-full-minus-45"],[1,"task-form-container","full-height","padding-full","overflow-hide","pos-rel",3,"ngClass"],[3,"data","editable","form","cancel","formOutput"],[1,"task-todo-container","full-height","padding-r-l","padding-mini-t-b","pos-rel",3,"ngClass"],[3,"loggedInUser","loginData","rtlDirection","taskId"],["class","full-width height-full-minus-45",4,"ngIf"],[1,"task-report-container","padding-r-l","padding-mini-t-b","full-height","pos-rel",3,"ngClass"],[3,"loginData","rtlDirection","task","usersList"],[1,"task-activity-container","full-height","padding-r-l","padding-mini-t-b","pos-rel",3,"ngClass"],[3,"loginData","rtlDirection","task"]],template:function(t,e){1&t&&u.Hc(0,Pe,26,19,"div",0),2&t&&u.oc("ngIf",e.data)},directives:[r.t,y.b,se.b,r.q,se.a,T.a,ce.a,X,re,Ve,Fe],pipes:[o.d],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.content-switcher[_ngcontent-%COMP%]{transform:translate(-50%);left:50%}.full-page-size[_ngcontent-%COMP%]{width:100vw;height:90vh;max-width:100%;max-height:100%}.task-heading[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1}.task-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:450px}.task-form-container[_ngcontent-%COMP%], .task-report-container[_ngcontent-%COMP%]{width:65%}.task-activity-container[_ngcontent-%COMP%], .task-todo-container[_ngcontent-%COMP%]{width:35%;background-color:#f5f5f5}.task-file-container[_ngcontent-%COMP%]{height:155px;border-top:1px solid #ddd;background-color:#eee}"]}),Qe),Je=i("gFX4"),Ue=((He=function(){function t(e){var i=this;_classCallCheck(this,t),this.userInfoService=e,this._subscription=new c.Subscription,this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){return i.loggedInUser=t})))}return _createClass(t,[{key:"setupSocketConnection",value:function(t){return this.socket=Je(Ht.a.SOCKET_URL,{query:{token:"cde",userEmail:this.loggedInUser.email,componentName:t}}),this.socket}}]),t}()).\u0275fac=function(t){return new(t||He)(u.ac(p.a))},He.\u0275prov=u.Mb({token:He,factory:He.\u0275fac,providedIn:"root"}),He),qe=i("zkoq"),Ke=i("Wp6s"),Xe=i("Xa2L");function Ye(t,e){if(1&t&&(u.Wb(0,"mat-grid-tile",4),u.Wb(1,"div",5),u.Wb(2,"span",6),u.Jc(3),u.jc(4,"translate"),u.Vb(),u.Wb(5,"span",7),u.Jc(6),u.Vb(),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.oc("colspan",i.cols)("rowspan",i.rows),u.Cb(3),u.Kc(u.kc(4,5,i.name)),u.Cb(2),u.oc("ngClass",i.id),u.Cb(1),u.Lc(" ",i.tasks.length," ")}}function $e(t,e){if(1&t&&(u.Wb(0,"mat-grid-list",2),u.Hc(1,Ye,7,7,"mat-grid-tile",3),u.Vb()),2&t){var i=u.ic();u.oc("dir",i.rtlDirection?"rtl":"ltr"),u.Cb(1),u.oc("ngForOf",i.boards)}}function Ze(t,e){if(1&t&&(u.Wb(0,"div",12),u.Rb(1,"img",13),u.Wb(2,"span",14),u.Jc(3),u.jc(4,"translate"),u.Vb(),u.Vb()),2&t){var i=u.ic().$implicit;u.Cb(1),u.oc("src","assets/board-empty-state/"+i.id+".png",u.Bc)("alt",i.id),u.Cb(2),u.Lc(" ",u.kc(4,3,"global.no_result")," ")}}var ti=function(t){return{"overdue-task":t}};function ei(t,e){if(1&t){var i=u.Xb();u.Wb(0,"mat-card",15),u.ec("click",(function(){u.zc(i);var t=e.$implicit,r=u.ic().$implicit;return u.ic(2).showTaskDetail(t,r.id)})),u.jc(1,"translate"),u.Wb(2,"mat-card-header",16),u.Wb(3,"mat-card-subtitle",17),u.Wb(4,"span",18),u.Wb(5,"mat-icon",19),u.Jc(6,"access_alarm"),u.Vb(),u.Jc(7),u.jc(8,"jalali"),u.Vb(),u.Wb(9,"span"),u.Jc(10),u.Vb(),u.Vb(),u.Wb(11,"mat-card-title",20),u.Jc(12),u.Vb(),u.Vb(),u.Wb(13,"mat-card-content",21),u.Wb(14,"mat-icon",19),u.Jc(15,"work "),u.Vb(),u.Jc(16),u.Vb(),u.Wb(17,"mat-card-footer",22),u.Rb(18,"img",23),u.Wb(19,"span",24),u.jc(20,"translate"),u.Wb(21,"span",25),u.Jc(22),u.Vb(),u.Rb(23,"mat-progress-spinner",26),u.Vb(),u.Wb(24,"span",27),u.jc(25,"translate"),u.Wb(26,"mat-icon",28),u.Jc(27," rule "),u.Vb(),u.Jc(28),u.Vb(),u.Vb(),u.Vb()}if(2&t){var r=e.$implicit,n=u.ic(3);u.pc("matTooltip",r.overdue?u.kc(1,24,"tasks.boards.overdue"):null),u.oc("ngClass",u.rc(33,ti,r.overdue))("cdkDragData",r),u.Cb(5),u.oc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),u.Cb(2),u.Lc(" ",u.lc(8,26,r.stopAt,n.rtlDirection)," "),u.Cb(3),u.Lc(" #",r.taskId," "),u.Cb(2),u.Lc(" ",r.taskName," "),u.Cb(2),u.oc("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),u.Cb(2),u.Lc(" ",r.project.projectName," "),u.Cb(2),u.oc("src","assets/profileImg/"+r.assignTo.email+".jpg",u.Bc)("matTooltip",r.assignTo.name+" "+r.assignTo.family)("matTooltipPosition",n.rtlDirection?"left":"right")("alt",r.assignTo.name+" "+r.assignTo.family),u.Cb(1),u.pc("matTooltip",u.kc(20,29,"tasks.boards.task_percentage")),u.oc("ngClass",n.rtlDirection?"margin-r-full margin-l-auto":"margin-l-full margin-r-auto")("matTooltipPosition",n.rtlDirection?"left":"right"),u.Cb(3),u.Lc(" ",r.percentage," "),u.Cb(1),u.oc("ngClass",n.getColor(r.percentage))("diameter",25)("strokeWidth",2)("value",r.percentage),u.Cb(1),u.pc("matTooltip",u.kc(25,31,"tasks.boards.todo_count")),u.oc("matTooltipPosition",n.rtlDirection?"right":"left"),u.Cb(4),u.Lc(" ",r.todoCount," ")}}function ii(t,e){if(1&t){var i=u.Xb();u.Wb(0,"mat-grid-tile",4),u.Wb(1,"div",9),u.ec("cdkDropListDropped",(function(t){return u.zc(i),u.ic(2).changeStatus(t)})),u.Hc(2,Ze,5,5,"div",10),u.Hc(3,ei,29,35,"mat-card",11),u.Vb(),u.Vb()}if(2&t){var r=e.$implicit,n=u.ic(2);u.oc("colspan",r.cols)("rowspan",r.rows),u.Cb(1),u.pc("id",r.id),u.oc("cdkDropListData",r.tasks)("cdkDropListConnectedTo",n.connectedTo),u.Cb(1),u.oc("ngIf",!r.tasks.length),u.Cb(1),u.oc("ngForOf",r.tasks)}}function ri(t,e){if(1&t&&(u.Wb(0,"mat-grid-list",8),u.Hc(1,ii,4,7,"mat-grid-tile",3),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("ngForOf",i.boards)}}var ni,oi=((ni=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s,l,d,f,h,p){var b;return _classCallCheck(this,i),(b=e.call(this,n,s)).dialog=t,b.api=r,b.injector=n,b.socketService=o,b.messageService=a,b.userInfoService=s,b.currentTaskService=l,b.refreshLoginService=d,b.refreshBoardService=f,b.windowManagerService=h,b.loadingIndicatorService=p,b.triggerBottomSheet=new u.o,b.pushTaskEssentialInfo=new u.o,b.refreshData=!1,b.myTasks=[],b.rowHeight="0",b.connectedTo=[],b.boards=[],b.usersList=[],b.projectsList=[],b.currentTasks=null,b._subscription=new c.Subscription,b._subscription.add(b.currentTaskService.currentTask.subscribe((function(t){return b.currentTasks=t}))),b._subscription.add(b.refreshBoardService.currentDoRefresh.subscribe((function(t){t&&b.getBoards()}))),b._subscription.add(b.userInfoService.currentLoginData.subscribe((function(){return b.getBoards()}))),b}return _createClass(i,[{key:"ngOnInit",value:function(){this.rowHeight="100%"}},{key:"changeStatus",value:function(t){var e=this;if(t.previousContainer===t.container)Object(ae.h)(t.container.data,t.previousIndex,t.currentIndex);else{this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),Object(ae.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);var i=t.item.data;this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.taskChangeStatus(i,t.container.id).subscribe((function(i){return Object(oe.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),i.result&&(r=i.content,this.messageService.showMessage(i.message),this.assignNewTaskToBoard(r,t.previousContainer.id,t.container.id));case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),e.refreshLoginService.openLoginDialog(t)})))}}},{key:"assignNewTaskToBoard",value:function(t,e,i){return Object(oe.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,o,a,s=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.projectsList.filter((function(e){return e.projectId===t.project.projectId})).pop();case 2:return n=r.sent,r.next=5,this.usersList.filter((function(e){return e.adminId===t.assignTo.adminId})).pop();case 5:return o=r.sent,this.myTasks=[],r.next=9,this.boards.map((function(e){e.id===i&&e.tasks.map((function(e){return e.taskId===t.taskId&&(t.assignTo=o,t.project=n,e=Object.assign(e,t)),e.assignTo.email===s.loggedInUser.email&&"inProgress"===i&&s.myTasks.push(e),e}))}));case 9:if(!this.myTasks.length){r.next=13;break}this.currentTaskService.changeCurrentTask(this.myTasks),this.myTasks=[],r.next=14;break;case 13:this.currentTasks.length?"inProgress"!==t.boardStatus&&(a=this.currentTasks.findIndex((function(e){return e.taskId===t.taskId})),this.currentTasks.splice(a,1),this.currentTaskService.changeCurrentTask(this.currentTasks)):this.currentTaskService.changeCurrentTask(null);case 14:"inProgress"!==e||"todo"!==i&&"done"!==i?"todo"===e&&"done"===i&&this.showTaskStopModal(t):this.showTaskStopModal(t);case 15:case"end":return r.stop()}}),r,this)})))}},{key:"showTaskStopModal",value:function(t){var e=this.dialog.open(Pt,{data:t,autoFocus:!1,width:"500px",height:"310px",disableClose:!0});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe((function(t){})))}},{key:"showTaskDetail",value:function(t,e){this.triggerBottomSheet.emit({component:Ge,height:"98%",width:"95%",data:{action:"detail",usersList:this.usersList,projectsList:this.projectsList,task:t,boardStatus:e}})}},{key:"getBoards",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.loginData&&this.loginData.token_type&&(this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.boards(this.loggedInUser.email).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===e.result&&t.putTasksToAllBoards(e)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e)}))))}},{key:"putTasksToAllBoards",value:function(t){var e=this,i=[],r=[],n=[];this.boards=[],this.connectedTo=[],this.usersList=t.content.users.list,this.projectsList=t.content.projects.list,this.pushTaskEssentialInfo.emit({usersList:this.usersList,projectsList:this.projectsList}),this.myTasks=[],t.content.boards.list.map((function(t){t.assignTo.email===e.loggedInUser.email&&"inProgress"===t.boardStatus&&e.myTasks.push(t);var o=t.stopAt,a=new Date,s=m(a).format("YYYY-MM-DD HH:mm:ss"),c=m.utc(o,"YYYY-MM-DD HH:mm:ss").isSameOrBefore(s);switch(t.boardStatus){case"todo":t.overdue=c,i.push(t);break;case"inProgress":t.overdue=c,r.push(t);break;case"done":n.push(t)}})),this.boards.push({id:"todo",cols:1,rows:1,name:"tasks.boards.todo",tasks:i}),this.boards.push({id:"inProgress",cols:1,rows:1,name:"tasks.boards.in_progress",tasks:r}),this.boards.push({id:"done",cols:1,rows:1,name:"tasks.boards.done",tasks:n});var o,a=_createForOfIteratorHelper(this.boards);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.connectedTo.push(s.id)}}catch(c){a.e(c)}finally{a.f()}this.currentTaskService.changeCurrentTask(this.myTasks),this.myTasks=[]}},{key:"getColor",value:function(t){return t<10&&t>=0?"spinner-color-red":t<=30&&t>10?"spinner-color-redorange":t<=50&&t>30?"spinner-color-orange":t<=80&&t>50?"spinner-color-lightgreen":t>80?"spinner-color-green":void 0}},{key:"ngOnChanges",value:function(t){this.refreshData&&this.getBoards(),t.filterBoards&&!t.filterBoards.firstChange&&(this.filterBoards=t.filterBoards.currentValue,this.putTasksToAllBoards(this.filterBoards.resp)),t.pushTaskToBoard&&!t.pushTaskToBoard.firstChange&&(this.pushTaskToBoard=t.pushTaskToBoard.currentValue,this.assignNewTaskToBoard(this.pushTaskToBoard.task,this.pushTaskToBoard.prevContainer,this.pushTaskToBoard.newContainer))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||ni)(u.Qb(d.b),u.Qb(f.a),u.Qb(u.s),u.Qb(Ue),u.Qb(h.a),u.Qb(p.a),u.Qb(At.a),u.Qb(b.a),u.Qb(qt),u.Qb(xt.a),u.Qb(g.a))},ni.\u0275cmp=u.Kb({type:ni,selectors:[["app-task-board"]],inputs:{pushTaskToBoard:"pushTaskToBoard",rtlDirection:"rtlDirection",refreshData:"refreshData",filterBoards:"filterBoards"},outputs:{triggerBottomSheet:"triggerBottomSheet",pushTaskEssentialInfo:"pushTaskEssentialInfo"},features:[u.zb,u.Ab],decls:2,vars:2,consts:[["cols","3","gutterSize","10","rowHeight","40px",3,"dir",4,"ngIf"],["class","grid-height","cols","3","gutterSize","10","rowHeight","fit",4,"ngIf"],["cols","3","gutterSize","10","rowHeight","40px",3,"dir"],["class","board-container",3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"board-container",3,"colspan","rowspan"],[1,"board-name","pos-abs","top-0","right-0","full-width","padding-mini-t-b","padding-r-l","display-flex","flex-space-between"],[1,"font-9-em"],[1,"task-count","width-25","height-25","line-height-20","font-7-em","text-center","text-weight-500",3,"ngClass"],["cols","3","gutterSize","10","rowHeight","fit",1,"grid-height"],["cdkDropList","",1,"task-container","full-height","full-width","padding-full","overflow-x-hide","overflow-y-auto",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["class","flex-center full-width full-height pos-abs left-0 right-0 top-0 bottom-0 z-index-0",4,"ngIf"],["class","margin-b-full bg-white card-hover","cdkDrag","",3,"ngClass","cdkDragData","matTooltip","click",4,"ngFor","ngForOf"],[1,"flex-center","full-width","full-height","pos-abs","left-0","right-0","top-0","bottom-0","z-index-0"],[1,"width-250",3,"src","alt"],[1,"pos-abs","left-0","right-0","bottom-0","top-0","z-index-0","margin-auto","text-gray-400","font-8-rem","full-width","height-45","line-height-150","text-center"],["cdkDrag","",1,"margin-b-full","bg-white","card-hover",3,"ngClass","cdkDragData","matTooltip","click"],[1,"full-width"],[1,"full-width","height-30","text-gray-600","display-flex","flex-space-between","no-margin"],[1,"display-flex"],[1,"width-18","height-18","font-full-plus-three-tenth-em",3,"ngClass"],[1,"full-width","clear-both","text-pink-600","font-full-em","padding-t-half"],[1,"text-gray-600","margin-b-half","display-flex"],[1,"padding-mini-t-b","padding-r-l","height-45","display-flex","flex-space-between"],["onerror","this.src='assets/profileImg/0.jpg'",1,"width-25","height-25","round-corner-all","mat-elevation-z1",3,"src","matTooltip","matTooltipPosition","alt"],[1,"width-25","height-25","round-corner-all","mat-elevation-z1","pos-rel",3,"ngClass","matTooltip","matTooltipPosition"],[1,"font-6-em","text-gray-800","pos-abs","left-0","right-0","top-0","bottom-0","margin-auto","text-center","line-height-25","text-weight-500"],["color","accent",3,"ngClass","diameter","strokeWidth","value"],[1,"display-flex","padding-tiny-t-b",3,"matTooltip","matTooltipPosition"],[1,"width-18","height-18","font-full-plus-three-tenth-em","line-height-20","margin-mini-r-l"]],template:function(t,e){1&t&&(u.Hc(0,$e,2,2,"mat-grid-list",0),u.Hc(1,ri,2,1,"mat-grid-list",1)),2&t&&(u.oc("ngIf",e.boards.length),u.Cb(1),u.oc("ngIf",e.boards.length))},directives:[r.t,qe.b,y.b,r.s,qe.d,r.q,ae.e,Ke.a,ae.a,ce.a,Ke.f,Ke.l,T.a,Ke.m,Ke.d,Ke.e,Xe.a],pipes:[o.d,Xt.a],styles:[".board-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{align-self:start}.grid-height[_ngcontent-%COMP%]{height:calc(100% - 40px)}.task-count[_ngcontent-%COMP%]{border-radius:100px!important}.task-count.todo[_ngcontent-%COMP%]{border:2px solid #f44336;color:#f44336}.task-count.inProgress[_ngcontent-%COMP%]{border:2px solid #ffa000;color:#ffa000}.task-count.done[_ngcontent-%COMP%]{border:2px solid #388e3c;color:#388e3c}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.task-item[_ngcontent-%COMP%]:last-child{border:none}.tasks-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-card-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd}.mat-card-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #ddd}.overdue-task[_ngcontent-%COMP%]{border:1px solid #f44336;border-radius:5px;box-shadow:0 4px 10px -4px #f44336}"]}),ni);function ai(t,e){if(1&t&&(u.Wb(0,"h3",10),u.Wb(1,"mat-icon",11),u.Jc(2),u.Vb(),u.Jc(3),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),u.Cb(1),u.Kc(i.data.icon),u.Cb(1),u.Lc(" ",i.rtlDirection?i.data.name_fa:i.data.name," ")}}function si(t,e){if(1&t&&(u.Wb(0,"h3",12),u.Wb(1,"mat-icon",11),u.Jc(2),u.Vb(),u.Jc(3),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),u.Cb(1),u.Kc(i.data.icon),u.Cb(1),u.Lc(" ",i.rtlDirection?i.data.name_fa:i.data.name," ")}}function ci(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",13),u.ec("click",(function(t){return u.zc(i),u.ic().minimize(),t.stopPropagation()})),u.Wb(1,"mat-icon",8),u.Jc(2," minimize "),u.Vb(),u.Vb()}}function li(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",7),u.ec("click",(function(t){return u.zc(i),u.ic().restore(),t.stopPropagation()})),u.Wb(1,"mat-icon",8),u.Jc(2," filter_none "),u.Vb(),u.Vb()}}function di(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",7),u.ec("click",(function(t){return u.zc(i),u.ic().maximize(),t.stopPropagation()})),u.Wb(1,"mat-icon",8),u.Jc(2," crop_square "),u.Vb(),u.Vb()}}var ui,fi=((ui=function(){function t(e,i){var r=this;_classCallCheck(this,t),this.windowManagerService=e,this.viewDirection=i,this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){return r.rtlDirection=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._subscription.add(this.windowManagerService.windowsList.subscribe((function(e){t.windowInstance=e.filter((function(e){return e.windowService.serviceTitle===t.data.serviceTitle})).pop()})))}},{key:"activeWindow",value:function(){this.windowManagerService.activeWindow(this.data)}},{key:"minimize",value:function(){this.windowManagerService.minimizeWindow(this.data)}},{key:"maximize",value:function(){this.windowManagerService.maximizeWindow(this.data)}},{key:"restore",value:function(){this.windowManagerService.restoreWindow(this.data)}},{key:"close",value:function(){this.windowManagerService.closeWindow(this.data)}},{key:"centerWindow",value:function(){this.windowManagerService.centerWindow()}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ui)(u.Qb(xt.a),u.Qb(v.a))},ui.\u0275cmp=u.Kb({type:ui,selectors:[["app-task-window"]],decls:14,vars:7,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width",3,"dir","click"],["cdkDrag","","cdkDragBoundary",".dashboard-app-boundary","cdkDragRootElement",".cdk-overlay-pane",1,"window-heading","full-width","height-45","padding-mini-r-l","display-flex","align-items-center",3,"dblclick"],[3,"ngIfElse","ngIf"],["notDraggableHeading",""],[1,"window-actions","display-flex",3,"ngClass"],["class","width-30 height-30 text-center line-height-25 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],["class","width-30 height-30 text-center line-height-35 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"text-dark-mode-color","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"window-content","pos-rel"],["cdkDragHandle","",1,"window-title","full-width","full-height","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"text-dark-mode-color","pos-rel",3,"ngClass"],[1,"window-title","full-width","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"width-30","height-30","text-center","line-height-25","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"]],template:function(t,e){if(1&t&&(u.Wb(0,"div",0),u.ec("click",(function(){return e.activeWindow()})),u.Wb(1,"div",1),u.ec("dblclick",(function(){return e.windowInstance.isMaximized?e.restore():e.maximize()})),u.Hc(2,ai,4,3,"ng-template",2),u.Hc(3,si,4,3,"ng-template",null,3,u.Ic),u.Wb(5,"div",4),u.Hc(6,ci,3,0,"button",5),u.Hc(7,li,3,0,"button",6),u.Hc(8,di,3,0,"button",6),u.Wb(9,"button",7),u.ec("click",(function(t){return e.close(),t.stopPropagation()})),u.Wb(10,"mat-icon",8),u.Jc(11,"close "),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(12,"div",9),u.Rb(13,"app-task-main"),u.Vb(),u.Vb()),2&t){var i=u.vc(4);u.oc("dir",e.rtlDirection?"rtl":"ltr"),u.Cb(2),u.oc("ngIfElse",i)("ngIf",e.windowInstance.isDraggable),u.Cb(3),u.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),u.Cb(1),u.oc("ngIf",!e.windowInstance.isMinimized),u.Cb(1),u.oc("ngIf",e.windowInstance.isMaximized||e.windowInstance.isMinimized),u.Cb(1),u.oc("ngIf",!e.windowInstance.isMaximized&&!e.windowInstance.isMinimized)}},directives:[y.b,ae.a,r.t,r.q,T.a,Ot,ae.b],encapsulation:2}),ui),hi=function(t){return{"rotate-180":t}};function pi(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",4),u.ec("click",(function(){u.zc(i);var t=e.$implicit;return u.ic(2).showTask(t)})),u.Wb(1,"mat-icon",5),u.Jc(2,"play_arrow "),u.Vb(),u.Wb(3,"span",6),u.Jc(4),u.Vb(),u.Vb()}if(2&t){var r=e.$implicit,n=u.ic(2);u.oc("disabled",!n.taskEssentialInfo)("ngClass",n.rtlDirection?"margin-l-half":"margin-r-half"),u.Cb(1),u.oc("ngClass",u.rc(4,hi,n.rtlDirection)),u.Cb(3),u.Kc(r.taskName)}}function bi(t,e){if(1&t&&(u.Wb(0,"div",2),u.Hc(1,pi,5,6,"button",3),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("ngForOf",i.currentTasks)}}var gi,mi=((gi=function(){function t(e,i){var r=this;_classCallCheck(this,t),this.userInfoService=e,this.currentTaskService=i,this.triggerBottomSheet=new u.o,this.pushTaskToBoard=new u.o,this.projectsList=[],this.usersList=[],this.currentTasks=null,this.message="",this.notification=!1,this._subscription=new c.Subscription,this._subscription.add(this.currentTaskService.currentTask.subscribe((function(t){return r.currentTasks=t}))),this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){return r.user=t})))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"showTask",value:function(t){this.triggerBottomSheet.emit({component:Ge,height:"98%",width:"95%",data:{action:"detail",usersList:this.usersList,projectsList:this.projectsList,task:t,boardStatus:"inProgress"}})}},{key:"ngOnChanges",value:function(t){t.taskEssentialInfo&&!t.taskEssentialInfo.firstChange&&(this.usersList=t.taskEssentialInfo.currentValue.usersList,this.projectsList=t.taskEssentialInfo.currentValue.projectsList)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||gi)(u.Qb(p.a),u.Qb(At.a))},gi.\u0275cmp=u.Kb({type:gi,selectors:[["app-task-current"]],inputs:{taskEssentialInfo:"taskEssentialInfo",rtlDirection:"rtlDirection"},outputs:{triggerBottomSheet:"triggerBottomSheet",pushTaskToBoard:"pushTaskToBoard"},features:[u.Ab],decls:2,vars:1,consts:[[1,"display-flex","flex-space-between","align-items-center","full-height"],["class","display-flex flex-space-between height-30 align-items-center",4,"ngIf"],[1,"display-flex","flex-space-between","height-30","align-items-center"],["class","blink-effect white-gradient text-gray-800 line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"blink-effect","white-gradient","text-gray-800","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","ngClass","click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem",3,"ngClass"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Hc(1,bi,2,1,"div",1),u.Vb()),2&t&&(u.Cb(1),u.oc("ngIf",e.currentTasks))},directives:[r.t,r.s,I.b,r.q,T.a],styles:["#notification[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;width:200px;padding:20px;border-radius:5px;background-color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.hidden[_ngcontent-%COMP%]{display:none}.blink-effect[_ngcontent-%COMP%]{transition:all .4s!important;-webkit-animation:blink-effect 1s linear infinite;animation:blink-effect 1s linear infinite}@-webkit-keyframes blink-effect{0%{color:#888}33.33333%{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}to{color:#888;box-shadow:none}}@keyframes blink-effect{0%{color:#888}33.33333%{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}to{color:#888;box-shadow:none}}"]}),gi),vi=i("iOEq"),yi=i("rBWh"),ki=i("XhcP");function Ci(t,e){if(1&t){var i=u.Xb();u.Wb(0,"full-calendar",2),u.ec("eventClick",(function(t){return u.zc(i),u.ic().eventClick(t)}))("eventRender",(function(t){return u.zc(i),u.ic().eventRender(t)})),u.Vb()}if(2&t){var r=u.ic();u.oc("allDaySlot",!0)("buttonText",r.buttonLabels)("dir",r.rtlDirection?"rtl":"ltr")("displayEventTime",!0)("editable",!1)("eventLimitText","")("eventLimit",2)("events",r.calendarEvents)("firstDay",1)("handleWindowResize",!0)("header",r.header)("locale",r.rtlDirection?"fa":"en")("plugins",r.calendarPlugins)("selectOverlap",!1)("slotLabelFormat",r.slotLabelFormat)("views",r.views)}}var wi,Ai,xi=((wi=function(){function t(e,i,r,n){var o=this;_classCallCheck(this,t),this.dialog=e,this.viewDirection=i,this.taskCalendarService=r,this.translateService=n,this.triggerBottomSheet=new u.o,this.header={},this.buttonLabels={today:"",month:"",week:"",day:"",list:""},this.slotLabelFormat=[{hour:"2-digit",minute:"2-digit",hour12:!1}],this.views={},this.calendarPlugins=[vi.d],this.tasks=[],this.usersList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe((function(t){o.rtlDirection=t,o.setupCalendar()})))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.setupCalendar()}},{key:"setupCalendar",value:function(){var t=this;this.views={dayGridMonthCustom:{type:"dayGridMonth",buttonText:this.getTranslate("tasks.calendar.month")}},this.getTranslateWords().then((function(e){t.buttonLabels={today:e.today,month:e.month,week:e.week,day:e.day,list:e.list}})),this.header=this.rtlDirection?{left:"timeGridMonth, timeGridWeek,timeGridDay",center:"title",right:"prev,next,today"}:{left:"today,prev,next",center:"title",right:"timeGridMonth, timeGridWeek,timeGridDay"}}},{key:"getTranslateWords",value:function(){var t=this;return new Promise((function(e){return Object(oe.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={today:"",month:"",week:"",day:"",list:""},t.next=3,this.getTranslate("tasks.calendar.today").then((function(t){return i.today=t}));case 3:return t.next=5,this.getTranslate("tasks.calendar.month").then((function(t){return i.month=t}));case 5:return t.next=7,this.getTranslate("tasks.calendar.week").then((function(t){return i.week=t}));case 7:return t.next=9,this.getTranslate("tasks.calendar.day").then((function(t){return i.day=t}));case 9:return t.next=11,this.getTranslate("tasks.calendar.list").then((function(t){return i.list=t}));case 11:e(i);case 12:case"end":return t.stop()}}),t,this)})))}))}},{key:"eventRender",value:function(t){t.event.extendedProps.imageurl&&t.el.getElementsByClassName("fc-title")[0].insertAdjacentHTML("beforeBegin",'<img class="round-corner-all float-right" src="'+t.event.extendedProps.imageurl+'" width="20px" height="20px">')}},{key:"eventClick",value:function(t){this.triggerBottomSheet.emit({component:Ge,height:"98%",width:"98%",data:{action:"detail",usersList:t.event.extendedProps.usersList,projectsList:t.event.extendedProps.projectsList,task:t.event.extendedProps,boardStatus:void 0}})}},{key:"getTranslate",value:function(t){var e=this;return new Promise((function(i){i(e.translateService.instant(t))}))}},{key:"ngAfterViewChecked",value:function(){document.getElementsByClassName("holiday-date").length||this.taskCalendarService.setHolidayHighlight(this.holidays)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||wi)(u.Qb(d.b),u.Qb(v.a),u.Qb(yi.a),u.Qb(o.e))},wi.\u0275cmp=u.Kb({type:wi,selectors:[["app-task-calendar-weekday"]],inputs:{calendarEvents:"calendarEvents",loginData:"loginData",holidays:"holidays"},outputs:{triggerBottomSheet:"triggerBottomSheet"},decls:2,vars:3,consts:[["autosize","",1,"rate-calendar",3,"dir","ngClass"],["class","full-height","defaultView","dayGridMonth",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimitText","eventLimit","events","firstDay","handleWindowResize","header","locale","plugins","selectOverlap","slotLabelFormat","views","eventClick","eventRender",4,"ngIf"],["defaultView","dayGridMonth",1,"full-height",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimitText","eventLimit","events","firstDay","handleWindowResize","header","locale","plugins","selectOverlap","slotLabelFormat","views","eventClick","eventRender"]],template:function(t,e){1&t&&(u.Wb(0,"mat-drawer-container",0),u.Hc(1,Ci,1,16,"full-calendar",1),u.Vb()),2&t&&(u.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"ca-rtl":"ca-ltr"),u.Cb(1),u.oc("ngIf",e.calendarEvents.length))},directives:[ki.b,y.b,r.q,r.t,ne.a],styles:[".fc{font-family:inherit!important}.ca-rtl .fc-button-group,.ca-rtl .fc-content,.ca-rtl .fc-toolbar{direction:rtl!important}.ca-ltr .fc-button-group,.ca-ltr .fc-content,.ca-ltr .fc-toolbar{direction:ltr!important}.fc th{text-align:center;padding:5px!important}.fc-button{background:none;color:#333;border:none;margin:0!important}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{border-radius:4px!important;background-image:linear-gradient(-20deg,#3949ab,#4fc3f7)!important}.fc-button-primary:hover{color:#3949ab;background:none;border:none}.fc-button-primary:disabled{color:#fff!important;background:#ccc}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:none!important;background:none!important;color:#3949ab!important}.fc-day-grid-event .fc-content{white-space:normal!important;display:flex;flex-direction:inherit!important}.fc-day-grid-event .fc-content .fc-title{font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;line-height:20px;padding-left:5px!important;padding-right:5px!important}.fc-day-grid-event .fc-content .fc-time{display:none}a.fc-more{margin:3px 9px;font-size:.85em;cursor:pointer;text-decoration:none;background:#eee;border-radius:100%;width:25px;line-height:25px;display:block;text-align:center;border:1px solid #e6e6e6;font-weight:700;direction:ltr;color:#656565}"],encapsulation:2}),wi),Si=["oBottomSheet"],Di=["container"],Ii=((Ai=function(){function t(e,i){_classCallCheck(this,t),this.renderer=e,this.cfr=i}return _createClass(t,[{key:"toggleBottomSheet",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.container.clear();var r=this.oBottomSheet.nativeElement.parentNode.parentNode,n=this.oBottomSheet.nativeElement;if(i){this.renderer.addClass(r,"active"),this.renderer.setStyle(n,"height",t.height),this.renderer.setStyle(n,"width",t.width),this.renderer.setStyle(r,"z-index","5");var o=this.cfr.resolveComponentFactory(t.component);this.container.createComponent(o).instance.bottomSheetData=t}else this.renderer.removeClass(r,"active"),this.renderer.setStyle(n,"height","0"),this.renderer.setStyle(n,"width","0"),setTimeout((function(){return e.renderer.setStyle(r,"z-index","-1")}),100)}},{key:"close",value:function(t){this.toggleBottomSheet(null,!1)}}]),t}()).\u0275fac=function(t){return new(t||Ai)(u.Qb(u.F),u.Qb(u.j))},Ai.\u0275cmp=u.Kb({type:Ai,selectors:[["app-task-bottom-sheet"]],viewQuery:function(t,e){var i;1&t&&(u.Pc(Si,!0),u.Pc(Di,!0,u.P)),2&t&&(u.uc(i=u.fc())&&(e.oBottomSheet=i.first),u.uc(i=u.fc())&&(e.container=i.first))},decls:6,vars:0,consts:[[1,"o-bottom-sheet-container","full-width","full-height"],[1,"o-bottom-sheet-backdrop","full-width","full-height",3,"click"],[1,"o-bottom-sheet-content","overflow-hide","pos-abs","margin-auto","bottom-0","right-0","left-0","round-corner-top-left","round-corner-top-right"],["oBottomSheet",""],[1,"o-bottom-sheet-comp"],["container",""]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.ec("click",(function(){return e.close()})),u.Vb(),u.Wb(2,"div",2,3),u.Rb(4,"div",4,5),u.Vb(),u.Vb())},styles:["[_nghost-%COMP%]{position:absolute;right:0;left:0;bottom:0;width:100%;height:100%;z-index:-1}[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{transition:background .2s!important;background:transparent}.active[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}[_nghost-%COMP%]   .o-bottom-sheet-content[_ngcontent-%COMP%]{transition:height .1s!important;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:transparent;height:0;width:0}"]}),Ai),Ti=i("SZB9"),_i=function(t,e){return(_i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Vi(t,e){function i(){this.constructor=t}_i(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ji=function(){return(ji=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Li=function(t){function e(e){var i=t.call(this)||this;return i.timeGrid=e,i}return Vi(e,t),e.prototype.renderSegs=function(e,i,r){t.prototype.renderSegs.call(this,e,i,r),this.fullTimeFormat=Object(Ti.U)({hour:"numeric",minute:"2-digit",separator:this.context.options.defaultRangeSeparator})},e.prototype.attachSegs=function(t,e){for(var i=this.timeGrid.groupSegsByCol(t),r=0;r<i.length;r++)i[r]=this.sortEventSegs(i[r]);this.segsByCol=i,this.timeGrid.attachSegsByCol(i,this.timeGrid.fgContainerEls)},e.prototype.detachSegs=function(t){t.forEach((function(t){Object(Ti.Rb)(t.el)})),this.segsByCol=null},e.prototype.computeSegSizes=function(t){var e=this.timeGrid,i=this.segsByCol,r=e.colCnt;if(e.computeSegVerticals(t),i)for(var n=0;n<r;n++)this.computeSegHorizontals(i[n])},e.prototype.assignSegSizes=function(t){var e=this.timeGrid,i=this.segsByCol,r=e.colCnt;if(e.assignSegVerticals(t),i)for(var n=0;n<r;n++)this.assignSegCss(i[n])},e.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.renderSegHtml=function(t,e){var i,r,n,o=t.eventRange,a=o.def,s=o.ui,c=a.allDay,l=Object(Ti.J)(this.context,a,s),d=t.isStart&&Object(Ti.L)(this.context,a,s),u=t.isEnd&&Object(Ti.K)(this.context,a,s),f=this.getSegClasses(t,l,d||u,e),h=Object(Ti.W)(this.getSkinCss(s));if(f.unshift("fc-time-grid-event"),Object(Ti.Bb)(o.range)){if(t.isStart||t.isEnd){var p=t.start,b=t.end;i=this._getTimeText(p,b,c),r=this._getTimeText(p,b,c,this.fullTimeFormat),n=this._getTimeText(p,b,c,null,!1)}}else i=this.getTimeText(o),r=this.getTimeText(o,this.fullTimeFormat),n=this.getTimeText(o,null,!1);return'<a class="'+f.join(" ")+'"'+(a.url?' href="'+Object(Ti.sb)(a.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+Object(Ti.sb)(n)+'" data-full="'+Object(Ti.sb)(r)+'"><span>'+Object(Ti.sb)(i)+"</span></div>":"")+(a.title?'<div class="fc-title">'+Object(Ti.sb)(a.title)+"</div>":"")+"</div>"+(u?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},e.prototype.computeSegHorizontals=function(t){var e,i,r;if(function(t){var e,i,r,n,o;for(e=0;e<t.length;e++)for(i=t[e],r=0;r<i.length;r++)for((n=i[r]).forwardSegs=[],o=e+1;o<t.length;o++)Wi(n,t[o],n.forwardSegs)}(e=function(t){var e,i,r,n=[];for(e=0;e<t.length;e++){for(i=t[e],r=0;r<n.length&&Wi(i,n[r]).length;r++);i.level=r,(n[r]||(n[r]=[])).push(i)}return n}(t)),i=e[0]){for(r=0;r<i.length;r++)Bi(i[r]);for(r=0;r<i.length;r++)this.computeSegForwardBack(i[r],0,0)}},e.prototype.computeSegForwardBack=function(t,e,i){var r,n=t.forwardSegs;if(void 0===t.forwardCoord)for(n.length?(this.sortForwardSegs(n),this.computeSegForwardBack(n[0],e+1,i),t.forwardCoord=n[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-i)/(e+1),r=0;r<n.length;r++)this.computeSegForwardBack(n[r],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){var e=t.map(Fi),i=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.eventOrderSpecs);return e.sort((function(t,e){return Object(Ti.F)(t,e,i)})),e.map((function(t){return t._seg}))},e.prototype.assignSegCss=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e];Object(Ti.B)(r.el,this.generateSegCss(r)),r.level>0&&r.el.classList.add("fc-time-grid-event-inset"),r.eventRange.def.title&&r.bottom-r.top<30&&r.el.classList.add("fc-short")}},e.prototype.generateSegCss=function(t){var e,i,r=this.context.options.slotEventOverlap,n=t.backwardCoord,o=t.forwardCoord,a=this.timeGrid.generateSegVerticalCss(t),s=this.context.isRtl;return r&&(o=Math.min(1,n+2*(o-n))),s?(e=1-o,i=n):(e=n,i=1-o),a.zIndex=t.level+1,a.left=100*e+"%",a.right=100*i+"%",r&&t.forwardPressure&&(a[s?"marginLeft":"marginRight"]=20),a},e}(Ti.k);function Bi(t){var e,i,r=t.forwardSegs,n=0;if(void 0===t.forwardPressure){for(e=0;e<r.length;e++)Bi(i=r[e]),n=Math.max(n,1+i.forwardPressure);t.forwardPressure=n}}function Wi(t,e,i){void 0===i&&(i=[]);for(var r=0;r<e.length;r++)(n=t).bottom>(o=e[r]).top&&n.top<o.bottom&&i.push(e[r]);var n,o;return i}function Fi(t){var e=Object(Ti.E)(t);return e.forwardPressure=t.forwardPressure,e.backwardCoord=t.backwardCoord,e}var Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vi(e,t),e.prototype.attachSegs=function(t,e){this.segsByCol=this.timeGrid.groupSegsByCol(t),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=e.sourceSeg},e.prototype.generateSegCss=function(e){var i=t.prototype.generateSegCss.call(this,e),r=this.sourceSeg;if(r&&r.col===e.col){var n=t.prototype.generateSegCss.call(this,r);i.left=n.left,i.right=n.right,i.marginLeft=n.marginLeft,i.marginRight=n.marginRight}return i},e}(Li),Ei=function(t){function e(e){var i=t.call(this)||this;return i.timeGrid=e,i}return Vi(e,t),e.prototype.attachSegs=function(t,e){var i,r=this.timeGrid;return"bgEvent"===t?i=r.bgContainerEls:"businessHours"===t?i=r.businessContainerEls:"highlight"===t&&(i=r.highlightContainerEls),r.attachSegsByCol(r.groupSegsByCol(e),i),e.map((function(t){return t.el}))},e.prototype.computeSegSizes=function(t){this.timeGrid.computeSegVerticals(t)},e.prototype.assignSegSizes=function(t){this.timeGrid.assignSegVerticals(t)},e}(Ti.l),Ni=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],Mi=function(t){function e(e,i){var r=t.call(this,e)||this;r.isSlatSizesDirty=!1,r.isColSizesDirty=!1,r.processOptions=Object(Ti.Fb)(r._processOptions),r.renderSkeleton=Object(Ti.Gb)(r._renderSkeleton),r.renderSlats=Object(Ti.Gb)(r._renderSlats,null,[r.renderSkeleton]),r.renderColumns=Object(Ti.Gb)(r._renderColumns,r._unrenderColumns,[r.renderSkeleton]),r.renderProps=i;var n=r.renderColumns,o=r.eventRenderer=new Li(r),a=r.fillRenderer=new Ei(r);return r.mirrorRenderer=new Oi(r),r.renderBusinessHours=Object(Ti.Gb)(a.renderSegs.bind(a,"businessHours"),a.unrender.bind(a,"businessHours"),[n]),r.renderDateSelection=Object(Ti.Gb)(r._renderDateSelection,r._unrenderDateSelection,[n]),r.renderFgEvents=Object(Ti.Gb)(o.renderSegs.bind(o),o.unrender.bind(o),[n]),r.renderBgEvents=Object(Ti.Gb)(a.renderSegs.bind(a,"bgEvent"),a.unrender.bind(a,"bgEvent"),[n]),r.renderEventSelection=Object(Ti.Gb)(o.selectByInstanceId.bind(o),o.unselectByInstanceId.bind(o),[r.renderFgEvents]),r.renderEventDrag=Object(Ti.Gb)(r._renderEventDrag,r._unrenderEventDrag,[n]),r.renderEventResize=Object(Ti.Gb)(r._renderEventResize,r._unrenderEventResize,[n]),r}return Vi(e,t),e.prototype._processOptions=function(t){var e,i,r=t.slotDuration,n=t.snapDuration;r=Object(Ti.Q)(r),n=n?Object(Ti.Q)(n):r,null===(e=Object(Ti.Yb)(r,n))&&(n=r,e=1),this.slotDuration=r,this.snapDuration=n,this.snapsPerSlot=e,i=t.slotLabelFormat,Array.isArray(i)&&(i=i[i.length-1]),this.labelFormat=Object(Ti.U)(i||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),this.labelInterval=(i=t.slotLabelInterval)?Object(Ti.Q)(i):this.computeLabelInterval(r)},e.prototype.computeLabelInterval=function(t){var e,i,r;for(e=Ni.length-1;e>=0;e--)if(i=Object(Ti.Q)(Ni[e]),null!==(r=Object(Ti.Yb)(i,t))&&r>1)return i;return t},e.prototype.render=function(t,e){this.processOptions(e.options),this.colCnt=t.cells.length,this.renderSkeleton(e.theme),this.renderSlats(t.dateProfile),this.renderColumns(t.cells,t.dateProfile),this.renderBusinessHours(e,t.businessHourSegs),this.renderDateSelection(t.dateSelectionSegs),this.renderFgEvents(e,t.fgEventSegs),this.renderBgEvents(e,t.bgEventSegs),this.renderEventSelection(t.eventSelection),this.renderEventDrag(t.eventDrag),this.renderEventResize(t.eventResize)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender(),this.renderSkeleton.unrender()},e.prototype.updateSize=function(t){var e=this.fillRenderer,i=this.eventRenderer,r=this.mirrorRenderer;(t||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(t||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),e.computeSizes(t),i.computeSizes(t),r.computeSizes(t),e.assignSizes(t),i.assignSizes(t),r.assignSizes(t)},e.prototype._renderSkeleton=function(t){var e=this.el;e.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" style="display:none" />',this.rootBgContainerEl=e.querySelector(".fc-bg"),this.slatContainerEl=e.querySelector(".fc-slats"),this.bottomRuleEl=e.querySelector(".fc-divider")},e.prototype._renderSlats=function(t){this.slatContainerEl.innerHTML='<table class="'+this.context.theme.getClass("tableGrid")+'">'+this.renderSlatRowHtml(t)+"</table>",this.slatEls=Object(Ti.ib)(this.slatContainerEl,"tr"),this.slatPositions=new Ti.n(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(t){for(var e,i,r,n=this.context,o=n.dateEnv,a=n.theme,s=n.isRtl,c="",l=Object(Ti.Tb)(t.renderRange.start),d=t.minTime,u=Object(Ti.Q)(0);Object(Ti.C)(d)<Object(Ti.C)(t.maxTime);)e=o.add(l,d),i=null!==Object(Ti.Yb)(u,this.labelInterval),r='<td class="fc-axis fc-time '+a.getClass("widgetContent")+'">'+(i?"<span>"+Object(Ti.sb)(o.format(e,this.labelFormat))+"</span>":"")+"</td>",c+='<tr data-time="'+Object(Ti.jb)(e)+'"'+(i?"":' class="fc-minor"')+">"+(s?"":r)+'<td class="'+a.getClass("widgetContent")+'"></td>'+(s?r:"")+"</tr>",d=Object(Ti.v)(d,this.slotDuration),u=Object(Ti.v)(u,this.slotDuration);return c},e.prototype._renderColumns=function(t,e){var i=this.context,r=i.calendar,n=i.view,o=i.isRtl,a=i.theme,s=i.dateEnv,c=new vi.a(this.context);this.rootBgContainerEl.innerHTML='<table class="'+a.getClass("tableGrid")+'">'+c.renderHtml({cells:t,dateProfile:e,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=Object(Ti.ib)(this.el,".fc-day, .fc-disabled-day");for(var l=0;l<this.colCnt;l++)r.publiclyTrigger("dayRender",[{date:s.toDate(t[l].date),el:this.colEls[l],view:n}]);o&&this.colEls.reverse(),this.colPositions=new Ti.n(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e=this.context.isRtl,i=[];i.push(this.renderProps.renderIntroHtml());for(var r=0;r<this.colCnt;r++)i.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');e&&i.reverse(),t=this.contentSkeletonEl=Object(Ti.tb)('<div class="fc-content-skeleton"><table><tr>'+i.join("")+"</tr></table></div>"),this.colContainerEls=Object(Ti.ib)(t,".fc-content-col"),this.mirrorContainerEls=Object(Ti.ib)(t,".fc-mirror-container"),this.fgContainerEls=Object(Ti.ib)(t,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=Object(Ti.ib)(t,".fc-bgevent-container"),this.highlightContainerEls=Object(Ti.ib)(t,".fc-highlight-container"),this.businessContainerEls=Object(Ti.ib)(t,".fc-business-container"),e&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(t)},e.prototype.unrenderContentSkeleton=function(){Object(Ti.Rb)(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(t){var e,i=[];for(e=0;e<this.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i},e.prototype.attachSegsByCol=function(t,e){var i,r,n;for(i=0;i<this.colCnt;i++)for(r=t[i],n=0;n<r.length;n++)e[i].appendChild(r[n].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t,e){if(this.colContainerEls){var i,r=this.computeDateTop(e),n=[];for(i=0;i<t.length;i++){var o=Object(Ti.R)("div",{className:"fc-now-indicator fc-now-indicator-line"});o.style.top=r+"px",this.colContainerEls[t[i].col].appendChild(o),n.push(o)}if(t.length>0){var a=Object(Ti.R)("div",{className:"fc-now-indicator fc-now-indicator-arrow"});a.style.top=r+"px",this.contentSkeletonEl.appendChild(a),n.push(a)}this.nowIndicatorEls=n}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(Ti.Rb),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(t,e){return e||(e=Object(Ti.Tb)(t)),this.computeTimeTop(Object(Ti.Q)(t.valueOf()-e.valueOf()))},e.prototype.computeTimeTop=function(t){var e,i,r=this.slatEls.length,n=this.props.dateProfile,o=(t.milliseconds-Object(Ti.C)(n.minTime))/Object(Ti.C)(this.slotDuration);return o=Math.max(0,o),o=Math.min(r,o),e=Math.floor(o),i=o-(e=Math.min(e,r-1)),this.slatPositions.tops[e]+this.slatPositions.getHeight(e)*i},e.prototype.computeSegVerticals=function(t){var e,i,r,n=this.context.options.timeGridEventMinHeight;for(e=0;e<t.length;e++)(i=t[e]).top=this.computeDateTop(i.start,r=this.props.cells[i.col].date),i.bottom=Math.max(i.top+n,this.computeDateTop(i.end,r))},e.prototype.assignSegVerticals=function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],Object(Ti.B)(i.el,this.generateSegVerticalCss(i))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(t,e){var i=this.context.dateEnv,r=this.snapsPerSlot,n=this.slatPositions,o=this.colPositions,a=o.leftToIndex(t),s=n.topToIndex(e);if(null!=a&&null!=s){var c=n.tops[s],l=n.getHeight(s),d=s*r+Math.floor((e-c)/l*r),u=this.props.cells[a].date,f=Object(Ti.v)(this.props.dateProfile.minTime,Object(Ti.Hb)(this.snapDuration,d)),h=i.add(u,f);return{col:a,dateSpan:{range:{start:h,end:i.add(h,this.snapDuration)},allDay:!1},dayEl:this.colEls[a],relativeRect:{left:o.lefts[a],right:o.rights[a],top:c,bottom:c+l}}}},e.prototype._renderEventDrag=function(t){t&&(this.eventRenderer.hideByHash(t.affectedInstances),t.isEvent?this.mirrorRenderer.renderSegs(this.context,t.segs,{isDragging:!0,sourceSeg:t.sourceSeg}):this.fillRenderer.renderSegs("highlight",this.context,t.segs))},e.prototype._unrenderEventDrag=function(t){t&&(this.eventRenderer.showByHash(t.affectedInstances),t.isEvent?this.mirrorRenderer.unrender(this.context,t.segs,{isDragging:!0,sourceSeg:t.sourceSeg}):this.fillRenderer.unrender("highlight",this.context))},e.prototype._renderEventResize=function(t){t&&(this.eventRenderer.hideByHash(t.affectedInstances),this.mirrorRenderer.renderSegs(this.context,t.segs,{isResizing:!0,sourceSeg:t.sourceSeg}))},e.prototype._unrenderEventResize=function(t){t&&(this.eventRenderer.showByHash(t.affectedInstances),this.mirrorRenderer.unrender(this.context,t.segs,{isResizing:!0,sourceSeg:t.sourceSeg}))},e.prototype._renderDateSelection=function(t){t&&(this.context.options.selectMirror?this.mirrorRenderer.renderSegs(this.context,t,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",this.context,t))},e.prototype._unrenderDateSelection=function(t){t&&(this.context.options.selectMirror?this.mirrorRenderer.unrender(this.context,t,{isSelecting:!0}):this.fillRenderer.unrender("highlight",this.context))},e}(Ti.b),Ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vi(e,t),e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(t){return t.allDay?Object(Ti.rb)(t)?["timed","allDay"]:["allDay"]:["timed"]},e}(Ti.r),zi=Object(Ti.U)({week:"short"}),Pi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitter=new Ri,e.renderSkeleton=Object(Ti.Gb)(e._renderSkeleton,e._unrenderSkeleton),e.renderHeadIntroHtml=function(){var t,i=e.context,r=i.theme,n=i.dateEnv,o=i.options,a=e.props.dateProfile.renderRange,s=Object(Ti.Y)(a.start,a.end);return o.weekNumbers?(t=n.format(a.start,zi),'<th class="fc-axis fc-week-number '+r.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+Object(Ti.D)(o,n,{date:a.start,type:"week",forceOff:s>1},Object(Ti.sb)(t))+"</th>"):'<th class="fc-axis '+r.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},e.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+e.context.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"></td>"},e.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e.renderDayGridBgIntroHtml=function(){var t=e.context,i=t.options;return'<td class="fc-axis '+t.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"><span>"+Object(Ti.kb)(i)+"</span></td>"},e.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e}return Vi(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i),this.renderSkeleton(i)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.renderSkeleton.unrender()},e.prototype._renderSkeleton=function(t){this.el.classList.add("fc-timeGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new Ti.o("hidden","auto");var e=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(e),e.classList.add("fc-time-grid-container");var i=Object(Ti.R)("div",{className:"fc-time-grid"});if(e.appendChild(i),this.timeGrid=new Mi(i,{renderBgIntroHtml:this.renderTimeGridBgIntroHtml,renderIntroHtml:this.renderTimeGridIntroHtml}),t.options.allDaySlot){this.dayGrid=new vi.b(this.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:this.renderDayGridIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var r=this.el.querySelector(".fc-divider");this.dayGrid.bottomCoordPadding=r.getBoundingClientRect().height}},e.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeGrid-view"),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.context,e=t.theme,i=t.options;return'<table class="'+e.getClass("tableGrid")+'">'+(i.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+e.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+e.getClass("widgetContent")+'">'+(i.allDaySlot?'<div class="fc-day-grid"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(e,i,r){t.prototype.updateSize.call(this,e,i,r),this.timeGrid.updateSize(e),this.dayGrid&&this.dayGrid.updateSize(e)},e.prototype.updateBaseSize=function(t,e,i){var r,n,o,a=this;if(this.axisWidth=Object(Ti.Eb)(Object(Ti.ib)(this.el,".fc-axis")),this.timeGrid.colEls){var s=Object(Ti.ib)(this.el,".fc-row").filter((function(t){return!a.scroller.el.contains(t)}));this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),s.forEach(Ti.Vb),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.context.options.eventLimit)&&"number"!=typeof r&&(r=5),r&&this.dayGrid.limitRows(r)),i||(n=this.computeScrollerHeight(e),this.scroller.setHeight(n),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s.forEach((function(t){Object(Ti.H)(t,o)})),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<n&&(this.timeGrid.bottomRuleEl.style.display=""))}else i||(n=this.computeScrollerHeight(e),this.scroller.setHeight(n))},e.prototype.computeScrollerHeight=function(t){return t-Object(Ti.Ub)(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(t){var e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(Ti.s);Pi.prototype.usesMinMaxTime=!0;var Qi=function(t){function e(e){var i=t.call(this,e.el)||this;return i.buildDayRanges=Object(Ti.Fb)(Hi),i.slicer=new Gi,i.timeGrid=e,i}return Vi(e,t),e.prototype.firstContext=function(t){t.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},e.prototype.render=function(t,e){var i=t.dateProfile,r=t.dayTable,n=this.dayRanges=this.buildDayRanges(r,i,this.context.dateEnv);this.timeGrid.receiveProps(ji({},this.slicer.sliceProps(t,i,null,e.calendar,this.timeGrid,n),{dateProfile:i,cells:r.cells[0]}),e)},e.prototype.renderNowIndicator=function(t){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(t,this.timeGrid,this.dayRanges),t)},e.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},e.prototype.queryHit=function(t,e){var i=this.timeGrid.positionToHit(t,e);if(i)return{component:this.timeGrid,dateSpan:i.dateSpan,dayEl:i.dayEl,rect:{left:i.relativeRect.left,right:i.relativeRect.right,top:i.relativeRect.top,bottom:i.relativeRect.bottom},layer:0}},e}(Ti.b);function Hi(t,e,i){for(var r=[],n=0,o=t.headerDates;n<o.length;n++){var a=o[n];r.push({start:i.add(a,e.minTime),end:i.add(a,e.maxTime)})}return r}var Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vi(e,t),e.prototype.sliceRange=function(t,e){for(var i=[],r=0;r<e.length;r++){var n=Object(Ti.xb)(t,e[r]);n&&i.push({start:n.start,end:n.end,isStart:n.start.valueOf()===t.start.valueOf(),isEnd:n.end.valueOf()===t.end.valueOf(),col:r})}return i},e}(Ti.q),Ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayTable=Object(Ti.Fb)(Ui),e}return Vi(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i);var r=this.props,n=r.dateProfile,o=r.dateProfileGenerator,a=i.nextDayThreshold,s=this.buildDayTable(n,o),c=this.splitter.splitProps(e);this.header&&this.header.receiveProps({dateProfile:n,dates:s.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},i),this.simpleTimeGrid.receiveProps(ji({},c.timed,{dateProfile:n,dayTable:s}),i),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(ji({},c.allDay,{dateProfile:n,dayTable:s,nextDayThreshold:a,isRigid:!1}),i),this.startNowIndicator(n,o)},e.prototype._renderSkeleton=function(e){t.prototype._renderSkeleton.call(this,e),e.options.columnHeader&&(this.header=new Ti.d(this.el.querySelector(".fc-head-container"))),this.simpleTimeGrid=new Qi(this.timeGrid),this.dayGrid&&(this.simpleDayGrid=new vi.c(this.dayGrid))},e.prototype._unrenderSkeleton=function(){t.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.renderNowIndicator=function(t){this.simpleTimeGrid.renderNowIndicator(t)},e}(Pi);function Ui(t,e){var i=new Ti.e(t.renderRange,e);return new Ti.f(i,!1)}var qi,Ki=Object(Ti.V)({defaultView:"timeGridWeek",views:{timeGrid:{class:Ji,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),Xi=((qi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"pad",value:function(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t}}]),t}()).\u0275fac=function(t){return new(t||qi)},qi.\u0275prov=u.Mb({token:qi,factory:qi.\u0275fac,providedIn:"root"}),qi),Yi=["calendar"],$i=["drawer"];function Zi(t,e){if(1&t&&(u.Wb(0,"div",7),u.Rb(1,"img",8),u.Wb(2,"div",9),u.Wb(3,"mat-icon",10),u.Jc(4,"person"),u.Vb(),u.Wb(5,"span",11),u.Jc(6),u.Vb(),u.Vb(),u.Wb(7,"div",9),u.Wb(8,"mat-icon",10),u.Jc(9,"mail_outline"),u.Vb(),u.Wb(10,"span",11),u.Jc(11),u.Vb(),u.Vb(),u.Wb(12,"div",9),u.Wb(13,"mat-icon",10),u.Jc(14,"av_timer"),u.Vb(),u.Wb(15,"span",11),u.Jc(16),u.jc(17,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("alt",i.userSelected.name+" "+i.userSelected.family)("src","/assets/profileImg/"+i.userSelected.email+".jpg",u.Bc),u.Cb(4),u.oc("ngClass",i.rtlDirection?"padding-r-half":"padding-l-half"),u.Cb(1),u.Mc(" ",i.userSelected.name," ",i.userSelected.family," "),u.Cb(4),u.oc("ngClass",i.rtlDirection?"padding-r-half":"padding-l-half"),u.Cb(1),u.Lc(" ",i.userSelected.email," "),u.Cb(4),u.oc("ngClass",i.rtlDirection?"padding-r-half":"padding-l-half"),u.Cb(1),u.Mc(" ",u.kc(17,10,"tasks.task_filter.tasks_filter_calendar_hours"),": ",i.sumTime," ")}}var tr,er=((tr=function(){function t(e,i,r,n,o){var a=this;_classCallCheck(this,t),this.api=e,this.utilService=i,this.translateService=r,this.taskCalendarService=n,this.viewDirectionService=o,this.containerHeight=300,this.calendarPlugins=[vi.d,Ki],this.buttonLabels={},this.header={},this.slotLabelFormat=[{hour:"2-digit",minute:"2-digit",hour12:!1}],this.views={},this.isVisible=!1,this._subscription=new c.Subscription,this._subscription.add(this.viewDirectionService.currentDirection.subscribe((function(t){a.rtlDirection=t,a.setupCalendar()})))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.setupCalendar()}},{key:"setupCalendar",value:function(){var t=document.querySelector("#rate-container");t&&(this.containerHeight=t.offsetHeight),this.views={dayGridMonthCustom:{type:"dayGridMonth",buttonText:this.getTranslate("tasks.calendar.month")}},this.buttonLabels={today:this.getTranslate("tasks.calendar.today"),month:this.getTranslate("tasks.calendar.month"),week:this.getTranslate("tasks.calendar.week"),day:this.getTranslate("tasks.calendar.day"),list:this.getTranslate("tasks.calendar.list")},this.header=this.rtlDirection?{left:"title",center:"",right:"prev,next today"}:{left:"today prev,next",center:"",right:"title"}}},{key:"ngOnChanges",value:function(t){if(this.calendarComponent){var e=this.calendarComponent.getApi();this.dateStart&&(e.gotoDate(this.dateStart),this.drawer.open(),document.querySelector("#full_calendar").classList.add("margin-r-full")),this.isVisible=!0}}},{key:"ngDoCheck",value:function(){this.containerHeight=document.getElementById("rate-container").offsetHeight}},{key:"ngAfterViewChecked",value:function(){document.getElementsByClassName("holiday-date").length||this.taskCalendarService.setHolidayHighlight(this.holidays)}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||tr)(u.Qb(f.a),u.Qb(Xi),u.Qb(o.e),u.Qb(yi.a),u.Qb(v.a))},tr.\u0275cmp=u.Kb({type:tr,selectors:[["app-task-calendar-rate"]],viewQuery:function(t,e){var i;1&t&&(u.Pc(Yi,!0),u.Pc($i,!0)),2&t&&(u.uc(i=u.fc())&&(e.calendarComponent=i.first),u.uc(i=u.fc())&&(e.drawer=i.first))},inputs:{usersList:"usersList",loginData:"loginData",calendarDifferentEvents:"calendarDifferentEvents",sumTime:"sumTime",dateStart:"dateStart",userSelected:"userSelected",holidays:"holidays"},features:[u.Ab],decls:7,vars:19,consts:[["autosize","","id","rate-container",1,"rate-calendar","display-flex","flex-space-between","padding-tiny-t-b"],["mode","side",1,"round-corner","mat-elevation-z1","padding-tiny-r-l",3,"disableClose"],["drawer",""],["class","padding-half",4,"ngIf"],[1,"padding-mini-r-l","full-height",3,"dir","ngClass"],["defaultView","dayGridMonth","id","full_calendar",1,"full-height",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimit","events","firstDay","handleWindowResize","header","height","locale","plugins","slotLabelFormat","views"],["calendar",""],[1,"padding-half"],[1,"width-70","height-70","display-block","margin-t-b","margin-auto","text-center","round-corner-all","margin-auto","pos-rel","top-six-tenth","mat-elevation-z2",3,"alt","src"],[1,"padding-t-b","display-flex","align-items-center"],[1,"width-20","height-20","line-height-20","font-full-plus-half-em"],[3,"ngClass"]],template:function(t,e){1&t&&(u.Wb(0,"mat-drawer-container",0),u.Wb(1,"mat-drawer",1,2),u.Hc(3,Zi,18,12,"div",3),u.Vb(),u.Wb(4,"div",4),u.Rb(5,"full-calendar",5,6),u.Vb(),u.Vb()),2&t&&(u.Cb(1),u.oc("disableClose",!0),u.Cb(2),u.oc("ngIf",e.userSelected&&e.userSelected.email),u.Cb(1),u.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"ca-rtl":"ca-ltr"),u.Cb(1),u.oc("allDaySlot",!1)("buttonText",e.buttonLabels)("dir",e.rtlDirection?"rtl":"ltr")("displayEventTime",!1)("editable",!1)("eventLimit",2)("events",e.calendarDifferentEvents)("firstDay",1)("handleWindowResize",!0)("header",e.header)("height",e.containerHeight)("locale",e.rtlDirection?"fa":"en")("plugins",e.calendarPlugins)("slotLabelFormat",e.slotLabelFormat)("views",e.views))},directives:[ki.b,ki.a,r.t,y.b,r.q,ne.a,T.a],pipes:[o.d],styles:[".fc{font-family:inherit!important}.ca-rtl .fc-toolbar{direction:rtl!important}.ca-rtl .fc-button-group{direction:rtl}.ca-ltr .fc-toolbar{direction:ltr!important}.ca-ltr .fc-button-group{direction:ltr}"],encapsulation:2}),tr),ir=["bottomSheet"],rr=["calendar"];function nr(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",5),u.Wb(1,"app-task-calendar-weekday",7),u.ec("triggerBottomSheet",(function(t){return u.zc(i),u.ic().openButtonSheet(t)})),u.Vb(),u.Rb(2,"app-task-bottom-sheet",null,8),u.Vb()}if(2&t){var r=u.ic();u.Cb(1),u.oc("calendarEvents",r.calendarEvents)("holidays",r.holidays)("loginData",r.loginData)}}function or(t,e){if(1&t&&(u.Wb(0,"div",5),u.Rb(1,"app-task-calendar-rate",9),u.Vb()),2&t){var i=u.ic();u.Cb(1),u.oc("calendarDifferentEvents",i.calendarParameters.calendarEvent)("dateStart",i.calendarParameters.dateStart)("holidays",i.holidays)("loginData",i.loginData)("sumTime",i.calendarParameters.sumTime)("userSelected",i.calendarParameters.userSelected)("usersList",i.usersList)}}var ar,sr,cr=function(t){return{"view-mode":t}},lr=((ar=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,r,n,o,a,s){var l;return _classCallCheck(this,i),(l=e.call(this,n,o)).dialog=t,l.api=r,l.injector=n,l.userInfoService=o,l.refreshLoginService=a,l.loadingIndicatorService=s,l.refreshData=!1,l.onTabLoaded=new u.o,l.tasks=[],l.usersList=[],l.projectsList=[],l.calendarEvents=[],l.holidays=[],l.colorArray=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#dbc00d","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#ff9800","#607d8b","#444444"],l.viewModeTypes="calendar_task",l._subscription=new c.Subscription,l}return _createClass(i,[{key:"ngOnInit",value:function(){this.options={columnHeaderHtml:function(){return"<b>Friday!</b>"}},this.getBoards()}},{key:"changeViewMode",value:function(t){this.viewModeTypes=t,this.onTabLoaded.emit(this.viewModeTypes)}},{key:"openButtonSheet",value:function(t){t.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(t)}},{key:"getBoards",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?1===e.result&&(this.usersList=e.content.users.list,this.projectsList=e.content.projects.list,this.tasks=e.content.boards.list,this.tasks.map((function(e){e.title=e.taskName,e.start=new Date(e.startAt),e.end=new Date(e.stopAt),e.color=t.colorArray[Math.floor(Math.random()*t.colorArray.length)],e.usersList=t.usersList,e.projectsList=t.projectsList,e.imageurl="img/edit.png"})),this.calendarEvents=this.tasks):this.loggedInUser&&this.loggedInUser.email&&(this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getAllHolidays().subscribe((function(e){e.content.forEach((function(e){t.holidays.push(e.date)}));var i=t.holidays;t._subscription.add(t.api.boardsCalendar(t.loggedInUser.email).subscribe((function(e){if(t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===e.result){t.usersList=e.content.users.list,t.projectsList=e.content.projects.list,t.tasks=e.content.boards.list;var r=[];t.tasks.map((function(e){var n=[];n=t.getDaysArray(new Date(e.startAt),new Date(e.stopAt));var o=t.colorArray[Math.floor(Math.random()*t.colorArray.length)];n.map((function(n){var a=Object.assign({title:e.taskName,color:o,imageurl:"assets/profileImg/"+e.assignTo.email+".jpg",start:n,end:n,usersList:t.usersList,projectsList:t.projectsList},e),s=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2);i.includes(s)||r.push(a)}))})),t.calendarEvents=r}}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.refreshLoginService.openLoginDialog(e)})))}))))}},{key:"getDaysArray",value:function(t,e){for(var i=[],r=new Date(t);r<=e;r.setDate(r.getDate()+1))i.push(new Date(r));return i}},{key:"ngOnDestroy",value:function(){this.viewModeTypes=null,this.onTabLoaded.emit(this.viewModeTypes),this._subscription&&this._subscription.unsubscribe()}}]),i}(l.a)).\u0275fac=function(t){return new(t||ar)(u.Qb(d.b),u.Qb(f.a),u.Qb(u.s),u.Qb(p.a),u.Qb(b.a),u.Qb(g.a))},ar.\u0275cmp=u.Kb({type:ar,selectors:[["app-task-calendar"]],viewQuery:function(t,e){var i;1&t&&(u.Pc(ir,!0),u.Pc(rr,!0)),2&t&&(u.uc(i=u.fc())&&(e.bottomSheet=i.first),u.uc(i=u.fc())&&(e.calendarComponent=i.first))},inputs:{calendarParameters:"calendarParameters",filterBoards:"filterBoards",refreshData:"refreshData",rtlDirection:"rtlDirection"},outputs:{onTabLoaded:"onTabLoaded"},features:[u.zb],decls:15,vars:13,consts:[[1,"content-container","padding-mini-r-l","full-width","full-height"],[1,"calendar-switcher","pos-abs","left-0","right-0","top-full","text-center","margin-auto"],["value","calendar_task",1,"mat-button-custom","line-height-20","center-block","round-corner-all",3,"ngClass","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"full-height"],["class","full-height",4,"ngIf"],[3,"calendarEvents","holidays","loginData","triggerBottomSheet"],["bottomSheet",""],[3,"calendarDifferentEvents","dateStart","holidays","loginData","sumTime","userSelected","usersList"]],template:function(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"mat-button-toggle-group",2,3),u.ec("change",(function(){u.zc(i);var t=u.vc(3);return e.changeViewMode(t.value)})),u.Wb(4,"mat-button-toggle",4),u.Wb(5,"span"),u.Jc(6),u.jc(7,"translate"),u.Vb(),u.Vb(),u.Wb(8,"mat-button-toggle",4),u.Wb(9,"span"),u.Jc(10),u.jc(11,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Ub(12,5),u.Hc(13,nr,4,3,"div",6),u.Hc(14,or,2,7,"div",6),u.Tb(),u.Vb()}if(2&t){var r=u.vc(3);u.Cb(2),u.oc("ngClass",u.rc(11,cr,r)),u.Cb(2),u.oc("value","calendar_task"),u.Cb(2),u.Kc(u.kc(7,7,"tasks.form.task_calendar")),u.Cb(2),u.oc("value","calendar_task_rate"),u.Cb(2),u.Kc(u.kc(11,9,"tasks.form.task_calendar_hours")),u.Cb(3),u.oc("ngIf","calendar_task"==e.viewModeTypes),u.Cb(1),u.oc("ngIf","calendar_task_rate"==e.viewModeTypes)}},directives:[se.b,r.q,se.a,r.t,xi,Ii,er],pipes:[o.d],styles:['@charset "UTF-8";.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-highlight{background:#bce8f1;opacity:.3}.fc-bgevent{background:#8fdf82;opacity:.3}.fc-nonbusiness{background:#d7d7d7}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:2px 4px}.fc-rtl .fc-popover .fc-header{flex-direction:row-reverse}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-bg,.fc-bgevent-skeleton,.fc-highlight-skeleton,.fc-mirror-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;box-sizing:border-box;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}a[data-goto]{cursor:pointer}a[data-goto]:hover{text-decoration:underline}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-bgevent-skeleton td,.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-mirror-skeleton{z-index:5}.fc .fc-row .fc-content-skeleton table,.fc .fc-row .fc-content-skeleton td,.fc .fc-row .fc-mirror-skeleton td{background:none;border-color:transparent}.fc-row .fc-content-skeleton td,.fc-row .fc-mirror-skeleton td{border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-mirror-skeleton tbody td{border-top:0}.fc-scroller{-webkit-overflow-scrolling:touch}.fc-scroller>.fc-day-grid,.fc-scroller>.fc-time-grid{position:relative;width:100%}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.4;border-radius:3px;border:1px solid #3788d8}.fc-event,.fc-event-dot{background-color:#3788d8}.fc-event,.fc-event:hover{color:#fff;text-decoration:none}.fc-event.fc-draggable,.fc-event[href]{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:4;display:none}.fc-event.fc-allow-mouse-resize .fc-resizer,.fc-event.fc-selected .fc-resizer{display:block}.fc-event.fc-selected .fc-resizer:before{content:"";position:absolute;z-index:9999;top:50%;left:50%;width:40px;height:40px;margin-left:-20px;margin-top:-20px}.fc-event.fc-selected{z-index:9999!important;box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event.fc-selected:after{content:"";position:absolute;z-index:1;top:-1px;right:-1px;bottom:-1px;left:-1px;background:#000;opacity:.25}.fc-event.fc-dragging.fc-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event.fc-dragging:not(.fc-selected){opacity:.75}.fc-h-event.fc-selected:before{content:"";position:absolute;z-index:3;top:-10px;bottom:-10px;left:0;right:0}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-ltr .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-end-resizer{cursor:w-resize;left:-1px}.fc-ltr .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-start-resizer{cursor:e-resize;right:-1px}.fc-h-event.fc-allow-mouse-resize .fc-resizer{width:7px;top:-1px;bottom:-1px}.fc-h-event.fc-selected .fc-resizer{border-radius:4px;width:6px;height:6px;border:1px solid;border-color:inherit;background:#fff;top:50%;margin-top:-4px}.fc-ltr .fc-h-event.fc-selected .fc-start-resizer,.fc-rtl .fc-h-event.fc-selected .fc-end-resizer{margin-left:-4px}.fc-ltr .fc-h-event.fc-selected .fc-end-resizer,.fc-rtl .fc-h-event.fc-selected .fc-start-resizer{margin-right:-4px}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}tr:first-child>td>.fc-day-grid-event{margin-top:2px}.fc-mirror-skeleton tr:first-child>td>.fc-day-grid-event{margin-top:0}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer{margin-left:-2px}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer{margin-right:-2px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-now-indicator{position:absolute;border:0 solid red}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc-unthemed .fc-content,.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-list-view,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff}.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed td.fc-today{background:#fcf8e3}.fc-unthemed .fc-disabled-day{background:#d7d7d7;opacity:.3}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\ue900"}.fc-icon-chevron-right:before{content:"\ue901"}.fc-icon-chevrons-left:before{content:"\ue902"}.fc-icon-chevrons-right:before{content:"\ue903"}.fc-icon-minus-square:before{content:"\ue904"}.fc-icon-plus-square:before{content:"\ue905"}.fc-icon-x:before{content:"\ue906"}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center}.fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc-button{-webkit-appearance:button}.fc-button:not(:disabled){cursor:pointer}.fc-button::-moz-focus-inner{padding:0;border-style:none}.fc-button{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc-button:hover{color:#212529;text-decoration:none}.fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc-button:disabled{opacity:.65}.fc-button-primary{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.fc-button-primary:hover{color:#fff;background-color:#1e2b37;border-color:#1a252f}.fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button-primary:disabled{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{color:#fff;background-color:#1a252f;border-color:#151e27}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc-button-group>.fc-button.fc-button-active,.fc-button-group>.fc-button:active,.fc-button-group>.fc-button:focus,.fc-button-group>.fc-button:hover{z-index:1}.fc-button-group>.fc-button:not(:first-child){margin-left:-1px}.fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-button-group>.fc-button:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc-unthemed .fc-popover{border-width:1px;border-style:solid}.fc-unthemed .fc-list-item:hover td{background-color:#f5f5f5}.fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-toolbar h2{font-size:1.75em;margin:0}.fc-view-container{position:relative}.fc-view-container *,.fc-view-container :after,.fc-view-container :before{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}@media print{.fc{max-width:100%!important}.fc-event{background:#fff!important;color:#000!important;page-break-inside:avoid}.fc-event .fc-resizer{display:none}.fc-row,.fc hr,.fc tbody,.fc td,.fc th,.fc thead{border-color:#ccc!important;background:#fff!important}.fc-bg,.fc-bgevent-container,.fc-bgevent-skeleton,.fc-business-container,.fc-highlight-container,.fc-highlight-skeleton,.fc-mirror-container,.fc-mirror-skeleton{display:none}.fc tbody .fc-row{height:auto!important;min-height:0!important}.fc tbody .fc-row .fc-content-skeleton{position:static;padding-bottom:0!important}.fc tbody .fc-row .fc-content-skeleton tbody tr:last-child td{padding-bottom:1em}.fc tbody .fc-row .fc-content-skeleton table{height:1em}.fc-more,.fc-more-cell{display:none!important}.fc tr.fc-limited{display:table-row!important}.fc td.fc-limited{display:table-cell!important}.fc-popover{display:none}.fc-time-grid{min-height:0!important}.fc-timeGrid-view .fc-axis{display:none}.fc-slats,.fc-time-grid hr{display:none!important}.fc-time-grid .fc-content-skeleton{position:static}.fc-time-grid .fc-content-skeleton table{height:4em}.fc-time-grid .fc-event-container{margin:0!important}.fc-time-grid .fc-event{position:static!important;margin:3px 2px!important}.fc-time-grid .fc-event.fc-not-end{border-bottom-width:1px!important}.fc-time-grid .fc-event.fc-not-end:after{content:"..."}.fc-time-grid .fc-event.fc-not-start{border-top-width:1px!important}.fc-time-grid .fc-event.fc-not-start:before{content:"..."}.fc-time-grid .fc-event .fc-time{white-space:normal!important}.fc-time-grid .fc-event .fc-time span{display:none}.fc-time-grid .fc-event .fc-time:after{content:attr(data-full)}.fc-day-grid-container,.fc-scroller,.fc-time-grid-container{overflow:visible!important;height:auto!important}.fc-row{border:0!important;margin:0!important}.fc-button-group,.fc button{display:none}}.fc-dayGridDay-view .fc-content-skeleton,.fc-dayGridWeek-view .fc-content-skeleton{padding-bottom:1em}.fc-dayGrid-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-day-top.fc-other-month{opacity:.3}.fc-dayGrid-view .fc-day-number,.fc-dayGrid-view .fc-week-number{padding:2px}.fc-dayGrid-view th.fc-day-number,.fc-dayGrid-view th.fc-week-number{padding:0 2px}.fc-ltr .fc-dayGrid-view .fc-day-top .fc-day-number{float:right}.fc-rtl .fc-dayGrid-view .fc-day-top .fc-day-number{float:left}.fc-ltr .fc-dayGrid-view .fc-day-top .fc-week-number{float:left;border-radius:0 0 3px}.fc-rtl .fc-dayGrid-view .fc-day-top .fc-week-number{float:right;border-radius:0 0 0 3px}.fc-dayGrid-view .fc-day-top .fc-week-number{min-width:1.5em;text-align:center;background-color:#f2f2f2;color:grey}.fc-dayGrid-view td.fc-week-number{text-align:center}.fc-dayGrid-view td.fc-week-number>*{display:inline-block;min-width:1.25em}.fc-timeGrid-view .fc-day-grid{position:relative;z-index:2}.fc-timeGrid-view .fc-day-grid .fc-row{min-height:3em}.fc-timeGrid-view .fc-day-grid .fc-row .fc-content-skeleton{padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.fc-time-grid,.fc-time-grid-container{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-content-col{position:relative}.fc-time-grid .fc-content-skeleton{position:absolute;z-index:3;top:0;left:0;right:0}.fc-time-grid .fc-business-container{position:relative;z-index:1}.fc-time-grid .fc-bgevent-container{position:relative;z-index:2}.fc-time-grid .fc-highlight-container{z-index:3;position:relative}.fc-time-grid .fc-event-container{position:relative;z-index:4}.fc-time-grid .fc-now-indicator-line{z-index:5}.fc-time-grid .fc-mirror-container{position:relative;z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-bgevent,.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-time-grid-event{margin-bottom:1px}.fc-time-grid-event-inset{box-shadow:0 0 0 1px #fff}.fc-time-grid-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-time-grid-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event .fc-content{overflow:hidden;max-height:100%}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:"\xa0-\xa0"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer:after{content:"="}.fc-time-grid-event.fc-selected .fc-resizer{border-radius:5px;width:8px;height:8px;border:1px solid;border-color:inherit;background:#fff;left:50%;margin-left:-5px;bottom:-5px}.fc-time-grid .fc-now-indicator-line{border-top-width:1px;left:0;right:0}.fc-time-grid .fc-now-indicator-arrow{margin-top:-5px}.fc-ltr .fc-time-grid .fc-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-rtl .fc-time-grid .fc-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}.calendar-switcher{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.fc-day-number{padding:5px!important}.fc-view .fc-event,.fc-view .fc-event-dot{border:none!important;margin:3px 10px!important;border-radius:5px!important;color:#fff!important;padding:3px 9px!important;font-size:13px!important;cursor:pointer;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}'],encapsulation:2}),ar),dr=i("VSJZ"),ur=i("1yaQ"),fr=i("K1Y9"),hr=i("n90K"),pr=i("vxfF"),br=i("/1cH"),gr=i("TU8p"),mr=i("2ChS"),vr=i("bSwM"),yr=i("A5z7"),kr=i("7EHt"),Cr=i("ihCf"),wr=i("f0Cb"),Ar=i("STbY"),xr=i("bv9b"),Sr=i("dNgK"),Dr=i("wZkO"),Ir=i("/t3+"),Tr=i("QibW"),_r=i("UXJo"),Vr=i("+rOU"),jr=i("Z4Gg"),Lr=i("/Hbh"),Br=Object(hr.a)("defaultLang"),Wr=null!==Br&&"fa"===Br?"fa":"en-GB",Fr=((sr=function(){function t(e){_classCallCheck(this,t),this.componentFactoryResolver=e}return _createClass(t,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(fi)}}]),t}()).\u0275mod=u.Ob({type:sr}),sr.\u0275inj=u.Nb({factory:function(t){return new(t||sr)(u.ac(u.j))},providers:[{provide:D.c,useClass:"fa"===Wr?dr.a:ur.a,deps:[D.f]},{provide:D.f,useValue:"fa"===Wr?Wr:"en-GB"},{provide:D.e,useFactory:function(t){return t===("fa"===Wr)?fr.a:fr.b},deps:[D.f]},{provide:dr.b,useValue:{useUtc:!0}}],imports:[[r.c,n.a,a.P,ne.b,o.c.forChild()]]}),sr);u.Cc(Ot,[r.q,r.r,r.s,r.t,r.A,r.w,r.x,r.y,r.z,r.u,r.v,s.I,s.x,s.H,s.c,s.y,s.B,s.a,s.E,s.F,s.A,s.s,s.t,s.D,s.o,s.n,s.z,s.b,s.d,s.v,s.w,s.u,pr.a,br.a,D.o,D.n,br.d,br.c,y.b,gr.a,ae.e,ae.f,ae.a,ae.b,ae.d,ae.c,mr.a,I.b,I.a,se.b,se.a,Ke.a,Ke.f,Ke.n,Ke.d,Ke.m,Ke.l,Ke.b,Ke.e,Ke.k,Ke.i,Ke.h,Ke.g,Ke.o,Ke.c,vr.a,vr.c,yr.d,yr.a,yr.c,yr.e,yr.b,yr.f,x.a,x.b,x.d,x.e,x.f,x.h,x.i,x.j,x.l,x.k,x.c,d.e,d.d,d.i,d.f,d.c,kr.a,kr.c,kr.d,kr.g,kr.h,kr.f,kr.e,qe.b,qe.d,qe.g,D.k,qe.f,qe.e,qe.a,T.a,Cr.b,Cr.c,k.b,k.c,k.f,k.g,k.h,k.i,k.j,C.b,C.d,Kt.a,Kt.h,Kt.d,Kt.b,Kt.c,Kt.g,D.r,Kt.i,Kt.f,wr.a,Ar.e,Ar.b,Ar.d,Ar.a,xr.a,Xe.a,Xe.c,w.a,w.c,ki.a,ki.b,ki.c,ki.d,ki.e,ki.f,A.a,S.c,S.a,Sr.c,Dr.c,Dr.d,Dr.a,Dr.f,Dr.e,Dr.b,Ir.a,Ir.c,ce.a,ce.c,de.n,de.i,de.k,de.c,de.b,de.m,de.e,de.g,de.h,de.a,de.d,de.j,de.l,de.f,de.q,le.a,Tr.b,Tr.a,_r.a,Vr.b,Vr.c,Vr.k,Vr.g,o.a,jr.a,s.h,s.k,s.i,s.l,s.e,Lr.a,a.h,a.mb,a.nb,a.ob,a.pb,a.gb,a.hb,a.f,a.s,a.A,a.fb,a.x,a.J,a.K,a.Z,a.y,a.z,a.E,a.F,a.cb,a.db,a.eb,a.a,a.lb,a.c,a.d,a.e,a.g,a.i,a.k,a.j,a.l,a.m,a.p,a.o,a.q,a.r,a.n,a.ab,a.bb,a.t,a.u,a.H,a.G,a.I,a.M,a.L,a.N,a.X,a.Y,a.v,a.w,a.Q,a.b,a.V,a.R,a.S,a.T,a.U,a.W,a.ib,a.jb,a.kb,a.O,a.D,a.B,a.C,ne.a,Z,Pt,Ot,X,re,oi,Ge,ht,Ve,fi,mi,lr,Fe,Ii,er,wt,xi,ue],[r.b,r.G,r.p,r.k,r.E,r.g,r.C,r.F,r.d,r.f,r.i,r.j,r.l,Xt.a,o.d])},g5Dd:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),r=0;r<t.length;r++)i[t.charCodeAt(r)]=r;e.encode=function(e){var i,r=new Uint8Array(e),n=r.length,o="";for(i=0;i<n;i+=3)o+=t[r[i]>>2],o+=t[(3&r[i])<<4|r[i+1]>>4],o+=t[(15&r[i+1])<<2|r[i+2]>>6],o+=t[63&r[i+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,n,o,a,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var d=new ArrayBuffer(s),u=new Uint8Array(d);for(e=0;e<c;e+=4)r=i[t.charCodeAt(e)],n=i[t.charCodeAt(e+1)],o=i[t.charCodeAt(e+2)],a=i[t.charCodeAt(e+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|o>>2,u[l++]=(3&o)<<6|63&a;return d}}()},gFX4:function(t,e,i){var r=i("zJ60"),n=i("Vo14"),o=i("eOtv"),a=i("x7D4")("socket.io-client");t.exports=e=c;var s=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n=r(t),c=n.source,l=n.id;return e.forceNew||e["force new connection"]||!1===e.multiplex||s[l]&&n.path in s[l].nsps?(a("ignoring socket cache for %s",c),i=o(c,e)):(s[l]||(a("new io instance for %s",c),s[l]=o(c,e)),i=s[l]),n.query&&!e.query&&(e.query=n.query),i.socket(n.path,e)}e.protocol=n.protocol,e.connect=c,e.Manager=i("eOtv"),e.Socket=i("KFGy")},kSER:function(t,e){t.exports=function(t,e){for(var i=[],r=(e=e||0)||0;r<t.length;r++)i[r-e]=t[r];return i}},lKxJ:function(t,e,i){t.exports=i("2pII"),t.exports.parser=i("Wm4p")},lhf0:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,a[c]),a.splice(c,1),c--),i})),e.formatArgs.call(t,a);var l=r.log||e.log||console.log.bind(console);l.apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("WiHW"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},mrmJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i("7RJT"),n=i("fXoL"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this._loadingStatus={status:!1,serviceName:""},this.loadingStatus=new r.BehaviorSubject(this._loadingStatus),this.currentLoadingStatus=this.loadingStatus.asObservable()}return _createClass(t,[{key:"changeLoadingStatus",value:function(t){this.loadingStatus.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"oIG/":function(t,e){var i,r,n,o=String.fromCharCode;function a(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function s(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return o(t);var i="";return 0==(4294965248&t)?i=o(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),i=o(t>>12&15|224),i+=c(t,6)):0==(4292870144&t)&&(i=o(t>>18&7|240),i+=c(t,12),i+=c(t,6)),i+o(63&t|128)}function d(){if(n>=r)throw Error("Invalid byte index");var t=255&i[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function u(t){var e,o;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&i[n],n++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|d())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|d()<<6|d())>=2048)return s(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|d()<<12|d()<<6|d())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var i=!1!==(e=e||{}).strict,r=a(t),n=r.length,o=-1,s="";++o<n;)s+=l(r[o],i);return s},decode:function(t,e){var s=!1!==(e=e||{}).strict;i=a(t),r=i.length,n=0;for(var c,l=[];!1!==(c=u(s));)l.push(c);return function(t){for(var e,i=t.length,r=-1,n="";++r<i;)(e=t[r])>65535&&(n+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=o(e);return n}(l)}}},ojuT:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},uDUn:function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function a(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var s,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(s=t,o,"day")||a(s,n,"hour")||a(s,r,"minute")||a(s,i,"second")||s+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},x7D4:function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("Q80o")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},ypnn:function(t,e){t.exports=function(t,e,i){var r=t.byteLength;if(e=e||0,i=i||r,t.slice)return t.slice(e,i);if(e<0&&(e+=r),i<0&&(i+=r),i>r&&(i=r),e>=r||e>=i||0===r)return new ArrayBuffer(0);for(var n=new Uint8Array(t),o=new Uint8Array(i-e),a=e,s=0;a<i;a++,s++)o[s]=n[a];return o.buffer}},zJ60:function(t,e,i){var r=i("Uxeu"),n=i("x7D4")("socket.io-client:url");t.exports=function(t,e){var i=t;e=e||global.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),n("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port,i.href=i.protocol+"://"+o+(e&&e.port===i.port?"":":"+i.port),i}},zMFY:function(t,e){function i(){}t.exports=function(t,e,r){var n=!1;return r=r||i,o.count=t,0===t?e():o;function o(t,i){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(n=!0,e(t),e=r):0!==o.count||n||e(null,i)}}}}]);