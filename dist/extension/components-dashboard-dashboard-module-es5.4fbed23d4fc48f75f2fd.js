function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1yaQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("fXoL"),a=n("FKr1"),r=n("wd/R"),o=n.n(r).a||r,s=new i.r("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function c(t,e){for(var n=Array(t),i=0;i<t;i++)n[i]=e(i);return n}var l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this))._options=i,a.setLocale(t||o.locale()),a}return _createClass(n,[{key:"setLocale",value:function(t){var e=this;_get(_getPrototypeOf(n.prototype),"setLocale",this).call(this,t);var i=o.localeData(t);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:c(31,(function(t){return e.createDate(2017,0,t+1).format("D")})),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}},{key:"getYear",value:function(t){return this.clone(t).year()}},{key:"getMonth",value:function(t){return this.clone(t).month()}},{key:"getDate",value:function(t){return this.clone(t).date()}},{key:"getDayOfWeek",value:function(t){return this.clone(t).day()}},{key:"getMonthNames",value:function(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(t){return this.clone(t).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(t){return this.clone(t).daysInMonth()}},{key:"clone",value:function(t){return t.clone().locale(this.locale)}},{key:"createDate",value:function(t,e,n){var i=this._createMoment({year:t,month:e,date:n}).locale(this.locale);return i.isValid(),i}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}},{key:"format",value:function(t,e){return t=this.clone(t),this.isValid(t),t.format(e)}},{key:"addCalendarYears",value:function(t,e){return this.clone(t).add({years:e})}},{key:"addCalendarMonths",value:function(t,e){return this.clone(t).add({months:e})}},{key:"addCalendarDays",value:function(t,e){return this.clone(t).add({days:e})}},{key:"toIso8601",value:function(t){return this.clone(t).format()}},{key:"deserialize",value:function(t){var e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,o.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):_get(_getPrototypeOf(n.prototype),"deserialize",this).call(this,t)}},{key:"isDateInstance",value:function(t){return o.isMoment(t)}},{key:"isValid",value:function(t){return this.clone(t).isValid()}},{key:"invalid",value:function(){return o.invalid()}},{key:"_createMoment",value:function(t,e,n){var i=this._options||{},a=i.strict;return i.useUtc?o.utc(t,e,n,a):o(t,e,n,a)}}]),n}(a.c);return t.\u0275fac=function(e){return new(e||t)(i.ac(a.f,8),i.ac(s,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t}()},"5+sL":function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return kn}));var i,a,r,o,s=n("PCNd"),c=n("tyNb"),l=n("ofXK"),u=n("rDax"),h=n("+rOU"),g=n("fXoL"),p=((i=function t(){_classCallCheck(this,t)}).\u0275mod=g.Ob({type:i}),i.\u0275inj=g.Nb({factory:function(t){return new(t||i)},imports:[[l.c,u.f,h.i]]}),i),d=n("sYmb"),m=n("AytR"),f=n("zB/H"),b=n("ue6I"),v=n("0IaG"),C=n("EEPM"),k=n("unh5"),w=n("XiUW"),y=n("DDyt"),_=n("tk/3"),x=((a=function(){function t(e){_classCallCheck(this,t),this.http=e,this.accessToken="",this.API_URL=m.a.CONTAINER_URL+"/attendance",this.headers={headers:new _.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return _createClass(t,[{key:"getStatuses",value:function(){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/statusList",this.headers)}},{key:"userChangeStatus",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/userChangeStatus",t,this.headers)}}]),t}()).\u0275fac=function(t){return new(t||a)(g.ac(_.a))},a.\u0275prov=g.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),M=n("Y2ut"),S=n("7RJT"),O=((r=function(){function t(e){_classCallCheck(this,t),this.userInfoService=e,this.preWallpaper=null!==this.userInfoService.getUserInfo.background_image?"url("+this.userInfoService.getUserInfo.background_image+")":"url(./assets/images/wallpapers/18.jpg)",this._wallpaper=new S.BehaviorSubject(this.preWallpaper),this.currentWallpaper=this._wallpaper.asObservable()}return _createClass(t,[{key:"changeWallpaper",value:function(t){this._wallpaper.next(t)}}]),t}()).\u0275fac=function(t){return new(t||r)(g.ac(y.a))},r.\u0275prov=g.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),P=n("0d0Z"),I=n("OC8m"),W=n("cH1L"),V=n("MutI"),D=n("FKr1"),z=n("bTqV"),A=n("NFeN"),R=((o=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.translateService=e,this.softPhoneService=n,this.notificationService=i,this.currentPhoneNumber="",this.incomingStatus=!1,this.incomingData=null,this.softPhoneUsers=[],this.onCallUser=null,this._subscription=new f.Subscription,this._subscription.add(this.softPhoneService.currentSoftPhoneUsers.subscribe((function(t){return a.softPhoneUsers=t}))),this._subscription.add(this.softPhoneService.currentIncomingCallStatus.subscribe((function(t){if(t&&(a.incomingStatus=t.status,t.data)&&(a.incomingData=t.data,a.currentPhoneNumber=a.incomingData.o_event.o_session.o_uri_from.s_user_name,a.currentPhoneNumber=a.currentPhoneNumber.replace("-wrtc",""),a.getTranslate("soft_phone.incoming_call.want_to_call_with_you"),a.softPhoneUsers)){var e=a.softPhoneUsers.filter((function(t){return t.extension_no===a.currentPhoneNumber})).pop();e?(a.onCallUser=e,a.onCallUser.extension_no=a.currentPhoneNumber,e.extension_name):a.getTranslate("soft_phone.incoming_call.unknown_caller")}}))),this._subscription.add(this.notificationService.currentNotification.subscribe((function(t){t&&(t.onclick=function(){},t.onclose=function(){a.decline_call()})})))}return _createClass(t,[{key:"decline_call",value:function(){this.softPhoneService.sipHangUp(),this.softPhoneService.changeIncomingCallStatus({status:!1})}},{key:"accept_call",value:function(){this.softPhoneService.sipCall("call-audio"),this.softPhoneService.changeOnCallUser(this.onCallUser),this.softPhoneService.changeIncomingCallStatus({status:!1})}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||o)(g.Qb(d.e),g.Qb(M.a),g.Qb(I.a))},o.\u0275cmp=g.Kb({type:o,selectors:[["app-soft-phone-incoming-call"]],inputs:{rtlDirection:"rtlDirection"},decls:19,vars:11,consts:[[1,"width-350","height-100","mat-elevation-z5","transition","bg-white","pos-fix","left-0","right-0","margin-auto","padding-mini-t-b","padding-r-l","z-index-9999","round-corner-bottom-left","round-corner-bottom-right",3,"dir","ngClass"],[1,"soft-phone-user","full-width","height-50"],[1,"padding-mini-r-l","full-height"],["matListAvatar","","onerror","this.src='assets/profileImg/0.jpg'",1,"mat-elevation-z2",3,"src"],["matLine","",1,"font-8-rem","text-weight-bold"],[1,"height-30","display-flex","justify-content-end",3,"dir"],["mat-raised-button","",1,"red-gradient","padding-mini-r-l","margin-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"mat-list",1),g.Wb(2,"mat-list-item",2),g.Rb(3,"img",3),g.Wb(4,"h3",4),g.Jc(5),g.Vb(),g.Vb(),g.Vb(),g.Wb(6,"div",5),g.Wb(7,"button",6),g.ec("click",(function(){return e.decline_call()})),g.Wb(8,"mat-icon",7),g.Jc(9,"phone_disabled"),g.Vb(),g.Wb(10,"span",8),g.Jc(11),g.jc(12,"translate"),g.Vb(),g.Vb(),g.Wb(13,"button",9),g.ec("click",(function(){return e.accept_call()})),g.Wb(14,"mat-icon",7),g.Jc(15,"phone_callback"),g.Vb(),g.Wb(16,"span",8),g.Jc(17),g.jc(18,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.incomingStatus?"top-0":"top-full-reverse-percent"),g.Cb(3),g.oc("src","assets/profileImg/"+(e.onCallUser?e.onCallUser.username:"0")+".jpg",g.Bc),g.Cb(2),g.Lc(" ",e.onCallUser?e.onCallUser.username:e.currentPhoneNumber," "),g.Cb(1),g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(5),g.Kc(g.kc(12,7,"soft_phone.incoming_call.decline")),g.Cb(6),g.Kc(g.kc(18,9,"soft_phone.incoming_call.accept")))},directives:[W.b,l.q,V.a,V.d,V.b,D.k,z.b,A.a],pipes:[d.d],encapsulation:2}),o),L=n("qFJI"),T=n("C6zf"),j=n("eXWX"),U=n("+Ibf"),Q=n("pjkF"),E=n("iadO"),H=["myCalendar"],F=["picker"],J=["insideElement"];function B(t,e){if(1&t&&(g.Wb(0,"mat-list-item"),g.Wb(1,"mat-icon",10),g.Jc(2,"access_alarm"),g.Vb(),g.Wb(3,"div",11),g.Jc(4),g.Vb(),g.Wb(5,"div",12),g.Jc(6),g.Vb(),g.Vb()),2&t){var n=e.$implicit;g.Cb(4),g.Kc(n.description),g.Cb(2),g.Kc(n.startReminder)}}function Y(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div"),g.Wb(1,"mat-list",4),g.Wb(2,"div",5),g.Jc(3),g.jc(4,"translate"),g.Wb(5,"b",6),g.Jc(6),g.jc(7,"translate"),g.Vb(),g.Vb(),g.Wb(8,"div"),g.Hc(9,B,7,2,"mat-list-item",7),g.Vb(),g.Vb(),g.Wb(10,"button",8),g.ec("click",(function(t){return g.zc(n),g.ic().showEventHandlerWindow(null,t)})),g.Wb(11,"span",9),g.Jc(12),g.jc(13,"translate"),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=g.ic();g.Cb(3),g.Lc("",g.kc(4,5,"dashboard.dashboard_toolbar.reminder")," "),g.Cb(3),g.Mc("",g.kc(7,7,"events_handler.main.reminder_count")," : ",i.events_reminders.reminders.length,""),g.Cb(3),g.oc("ngForOf",i.events_reminders.reminders.slice(0,3)),g.Cb(3),g.Kc(g.kc(13,9,"events_handler.main.see_more"))}}var N,K,X=((N=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.dialog=e,this.elemRef=n,this.eventApi=i,this.popoverService=a,this.eventHandlerService=r,this.eventHandlerSocketService=o,this.windowManagerService=s,this.serviceList=[],this.eventTemp=[],this.events_reminders={events:[],reminders:[]},this._subscription=new f.Subscription}return _createClass(t,[{key:"ngOnInit",value:function(){this.eventHandlerSocketService.initializeWebSocketConnection().then((function(t){console.log("socket status: ",t)})),this.getEvents()}},{key:"ngAfterViewInit",value:function(){var t=this;this._subscription.add(this.eventHandlerService.currentEventsReminderList.subscribe((function(e){e&&(t.events_reminders.events=e.events,t.events_reminders.reminders=e.reminders),setTimeout((function(){t.calendar.updateTodaysDate()}),1e3)})))}},{key:"showEventHandlerWindow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&e.stopPropagation();var n=null;t&&(n=void 0!==t.startDate?new Date(t.startDate):t._d);var i=t&&void 0!==t.startDate?t:null,a=this.serviceList.filter((function(t){return"events_calendar"==t.serviceTitle}));this.eventHandlerService.moveEventItems(i),this.eventHandlerService.moveDay(n),this.windowManagerService.openWindowState(a[0])}},{key:"getPosition",value:function(t){this.popoverTarget=t.target}},{key:"onSelect",value:function(t){var e=this;setTimeout((function(){e.eventTemp=e.events_reminders.events.filter((function(e){return new Date(e.startDate).toLocaleDateString()==t._d.toLocaleDateString()})),e.eventTemp.length?(e.popoverService.open(L.a,e.popoverTarget,{data:{eventTemp:e.eventTemp,events:e.events_reminders.events,serviceList:e.serviceList,windowManagerService:e.windowManagerService,rtlDirection:e.rtlDirection}}).afterClosed(),e.windowManagerService.dialogOnTop("popover")):e.showEventHandlerWindow(t)}),0)}},{key:"dateClass",value:function(){var t=this;return function(e){var n=t.events_reminders?t.events_reminders.events:[];return n&&n.some((function(t){return new Date(t.startDate).toLocaleDateString()==e._d.toLocaleDateString()}))?"special-date":""}}},{key:"getEvents",value:function(){var t=this;this.eventHandlerSocketService.getEventsByEmail(this.loggedInUser).then((function(e){t._subscription.add(t.events_reminders=e)}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||N)(g.Qb(v.b),g.Qb(g.l),g.Qb(T.a),g.Qb(j.b),g.Qb(U.a),g.Qb(Q.a),g.Qb(P.a))},N.\u0275cmp=g.Kb({type:N,selectors:[["app-dashboard-datepicker"]],viewQuery:function(t,e){var n;1&t&&(g.Pc(H,!0),g.Pc(F,!0),g.Pc(J,!0)),2&t&&(g.uc(n=g.fc())&&(e.calendar=n.first),g.uc(n=g.fc())&&(e.picker=n.first),g.uc(n=g.fc())&&(e.insideElement=n.first))},inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection",serviceList:"serviceList"},decls:4,vars:4,consts:[[1,"box-dark","datepicker-popover","datepicker-container","mat-elevation-z1","padding-full","round-corner",3,"dir","ngClass"],[3,"dateClass","click","selectedChange"],["myCalendar",""],[4,"ngIf"],[1,"event-list"],["mat-subheader",""],[1,"font-7-rem","padding-full"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"custom-flat-button","full-width","padding-mini-r-l","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-list-icon","",1,"font-full-plus-three-tenth-em"],["mat-line","",1,"font-8-em"],["mat-line","",1,"font-8-rem"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"mat-calendar",1,2),g.ec("click",(function(t){return e.getPosition(t)}))("selectedChange",(function(t){return e.onSelect(t)})),g.Vb(),g.Hc(3,Y,14,11,"div",3),g.Vb()),2&t&&(g.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"float-right calendar-rtl":"float-left"),g.Cb(1),g.oc("dateClass",e.dateClass()),g.Cb(2),g.oc("ngIf",e.events_reminders&&e.events_reminders.reminders.length))},directives:[W.b,l.q,E.a,l.t,V.a,V.g,l.s,z.b,V.d,A.a,V.c,D.k],pipes:[d.d],styles:['.datepicker-container{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,100%,.5)}.event-list.mat-list-base .mat-list-item.mat-2-line{height:54px!important}.special-date div.mat-calendar-body-cell-content:before{width:4px;height:4px;background:#ff9800;content:"";border-radius:100%;position:absolute;bottom:0}.dark-mode .datepicker-container.box-dark{background:rgba(30,30,30,.8)!important;color:#fff}.dark-mode .datepicker-container.box-dark b,.dark-mode .datepicker-container.box-dark button,.dark-mode .datepicker-container.box-dark div,.dark-mode .datepicker-container.box-dark mat-icon,.dark-mode .datepicker-container.box-dark span,.dark-mode .datepicker-container.box-dark td,.dark-mode .datepicker-container.box-dark th{color:#fff!important}.dark-mode .datepicker-container.box-dark .mat-calendar-arrow{border-top-color:#fff!important}.dark-mode .datepicker-container.box-dark .mat-calendar-body-today:not(.mat-calendar-body-selected){border:1px solid #fff!important}'],encapsulation:2}),N),q=n("PqYM"),G=n("wd/R"),$=n("LvDl"),Z=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e,this.accessToken="",this.API_URL=m.a.CONTAINER_URL+"/attendance",this.headers={headers:new _.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return _createClass(t,[{key:"userScreenshot",value:function(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/userScreenshot",t,this.headers)}},{key:"getTickTock",value:function(){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/userScreenshot/serverTickTock",this.headers)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.ac(_.a))},t.\u0275prov=g.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),tt=n("b6YF"),et=n("LyM2"),nt=((K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,i,o)).api=t,s.injector=i,s.changeStatusService=a,s.currentTaskService=r,s.userInfoService=o,s.timerDueTime=3e4,s.timerPeriod=3e4,s.userCurrentStatus="",s.currentTasks=null,s.availableHours=[{time:"00",status:!1},{time:"01",status:!1},{time:"02",status:!1},{time:"03",status:!1},{time:"04",status:!1},{time:"05",status:!1},{time:"06",status:!1},{time:"07",status:!1},{time:"08",status:!1},{time:"09",status:!1},{time:"10",status:!1},{time:"11",status:!1},{time:"12",status:!1},{time:"13",status:!1},{time:"14",status:!1},{time:"15",status:!1},{time:"16",status:!1},{time:"17",status:!1},{time:"18",status:!1},{time:"19",status:!1},{time:"20",status:!1},{time:"21",status:!1},{time:"22",status:!1},{time:"23",status:!1}],s.randomHours=[],s.globalTimer=null,s._subscription=new f.Subscription,s._subscription.add(s.changeStatusService.currentUserStatus.subscribe((function(t){if(s.userCurrentStatus=t,s.userCurrentStatus&&1===s.userCurrentStatus.id)null===s.globalTimer&&s.runTimerForScreenshot();else if(null!==s.globalTimer)try{s.globalTimerSubscription.unsubscribe(),s.globalTimer=null}catch(e){console.log(e)}}))),s._subscription.add(s.currentTaskService.currentTask.subscribe((function(t){return s.currentTasks=t}))),s}return _createClass(n,[{key:"runTimerForScreenshot",value:function(){var t=this;m.a.production&&(this.globalTimer=Object(q.a)(this.timerDueTime,this.timerPeriod),this.randomHours=$.sampleSize(this.availableHours,5),this.globalTimerSubscription=this.globalTimer.subscribe((function(){t.loginData&&t.loginData.token_type&&(t.api.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t.api.getTickTock().subscribe((function(e){if(e.success){var n=e.data.time,i=new Date,a=G(n).format("YYYY-MM-DD HH-mm"),r=G(i).format("YYYY-MM-DD HH-mm"),o=G(n).format("HH"),s=$.find(t.randomHours,(function(t){return t.time===o}));s&&!1===s.status&&(s.status=!0,t.takeAScreenShot()),a!==r&&console.warn("Different server and local time")}else console.warn("Server Tick Tack ")})))})))}},{key:"takeAScreenShot",value:function(){}},{key:"determineScreenShot",value:function(){}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||K)(g.Qb(Z),g.Qb(g.s),g.Qb(tt.a),g.Qb(et.a),g.Qb(y.a))},K.\u0275cmp=g.Kb({type:K,selectors:[["app-screenshot"]],features:[g.zb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),K),it=n("STbY");function at(t,e){if(1&t){var n=g.Xb();g.Wb(0,"button",6),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic().openService(t)})),g.Wb(1,"mat-icon",1),g.Jc(2),g.Vb(),g.Wb(3,"span",7),g.Jc(4),g.jc(5,"translate"),g.Vb(),g.Vb()}if(2&t){var i=e.$implicit,a=g.ic();g.Cb(2),g.Kc(i.icon),g.Cb(2),g.Lc(" ",g.kc(5,2,a.rtlDirection?i.name_fa:i.name)," ")}}var rt,ot=((rt=function(){function t(e){_classCallCheck(this,t),this.windowManagerService=e}return _createClass(t,[{key:"openService",value:function(t){this.windowManagerService.openWindowState(t)}}]),t}()).\u0275fac=function(t){return new(t||rt)(g.Qb(P.a))},rt.\u0275cmp=g.Kb({type:rt,selectors:[["app-main-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:9,vars:7,consts:[[1,"box","pos-rel","mat-elevation-z1","width-40","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","no-margin","text-weight-normal","font-full-rem","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color display-flex align-items-center",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color","display-flex","align-items-center",3,"click"],[1,"font-full-plus-two-tenth-em","wrap-text"]],template:function(t,e){if(1&t&&(g.Wb(0,"div",0),g.Wb(1,"mat-icon",1),g.Jc(2,"menu"),g.Vb(),g.Vb(),g.Wb(3,"mat-menu",2,3),g.Wb(5,"h6",4),g.Jc(6),g.jc(7,"translate"),g.Vb(),g.Hc(8,at,6,4,"button",5),g.Vb()),2&t){var n=g.vc(4);g.oc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",n)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),g.Cb(6),g.Lc(" ",g.kc(7,5,"dashboard.dashboard_toolbar.service_list")," "),g.Cb(2),g.oc("ngForOf",e.serviceList)}},directives:[W.b,it.d,l.q,A.a,it.e,V.g,l.s,it.b],pipes:[d.d],styles:['.service-status[_ngcontent-%COMP%]:before{border-radius:100px!important;content:"";position:absolute;width:12px;height:12px;left:0;right:0;bottom:0;top:0;margin:auto}.service-status.online[_ngcontent-%COMP%]:before{background-color:#4ec060}.service-status.offline[_ngcontent-%COMP%]:before{background-color:#c30}.service-title[_ngcontent-%COMP%]{padding:0 .75em!important}.wrap-text[_ngcontent-%COMP%]{max-width:200px;white-space:normal;line-height:normal}']}),rt),st=n("Qu3c"),ct=function(t){return{"app-minimized":t}};function lt(t,e){if(1&t){var n=g.Xb();g.Wb(0,"button",3),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic(2).controlWindow(t)})),g.Wb(1,"mat-icon",4),g.Jc(2),g.Vb(),g.Vb()}if(2&t){var i=e.$implicit,a=g.ic(2);g.oc("matTooltip",a.rtlDirection?i.windowService.serviceNameFa:i.windowService.serviceNameEn)("ngClass",g.rc(3,ct,i.isMinimized)),g.Cb(2),g.Kc(i.windowService.icon)}}function ut(t,e){if(1&t&&(g.Wb(0,"div",1),g.Hc(1,lt,3,5,"button",2),g.Vb()),2&t){var n=g.ic();g.oc("ngClass",n.rtlDirection?"margin-l-auto":"margin-r-auto"),g.Cb(1),g.oc("ngForOf",n.windowManager)}}var ht,gt,pt=((gt=function(){function t(e){_classCallCheck(this,t),this.windowManagerService=e}return _createClass(t,[{key:"controlWindow",value:function(t){t.isMinimized?this.windowManagerService.restoreWindow(t.windowService):t.isMinimized||this.windowManagerService.minimizeWindow(t.windowService)}}]),t}()).\u0275fac=function(t){return new(t||gt)(g.Qb(P.a))},gt.\u0275cmp=g.Kb({type:gt,selectors:[["app-window-app-container"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager"},decls:1,vars:1,consts:[["class","box mat-elevation-z1 pos-rel text-center round-corner height-40 overflow-hide",3,"ngClass",4,"ngIf"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","height-40","overflow-hide",3,"ngClass"],["class","app-open pos-rel no-bg no-border no-padding width-40 full-height cursor-pointer","matTooltipPosition","above",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],["matTooltipPosition","above",1,"app-open","pos-rel","no-bg","no-border","no-padding","width-40","full-height","cursor-pointer",3,"matTooltip","ngClass","click"],[1,"text-dark-mode-color"]],template:function(t,e){1&t&&g.Hc(0,ut,2,2,"div",0),2&t&&g.oc("ngIf",e.windowManager.length)},directives:[l.t,l.q,l.s,st.a,A.a],encapsulation:2}),gt),dt=((ht=function(){function t(){_classCallCheck(this,t),this._companyList=null,this.companyList=new S.BehaviorSubject(this._companyList),this.currentCompanyList=this.companyList.asObservable()}return _createClass(t,[{key:"changeCompanyList",value:function(t){this.companyList.next(t)}}]),t}()).\u0275fac=function(t){return new(t||ht)},ht.\u0275prov=g.Mb({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht);function mt(t,e){if(1&t&&(g.Wb(0,"div",5),g.Wb(1,"span",6),g.Jc(2),g.jc(3,"translate"),g.Vb(),g.Wb(4,"span",7),g.Jc(5),g.Vb(),g.Vb()),2&t){var n=g.ic(),i=g.vc(2);g.oc("dir",n.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",i),g.Cb(2),g.Lc(" ",g.kc(3,4,"select_company.title")," "),g.Cb(3),g.Lc(" ",n.companyList[0].name," ")}}function ft(t,e){if(1&t){var n=g.Xb();g.Wb(0,"button",8),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic().selectCompany(t)})),g.Wb(1,"span",9),g.Jc(2),g.Vb(),g.Vb()}if(2&t){var i=e.$implicit;g.Cb(2),g.Kc(i.name)}}var bt,vt=((bt=function(){function t(e){var n=this;_classCallCheck(this,t),this.companySelectorService=e,this.companyList=null,this._subscription=new f.Subscription,this._subscription.add(this.companySelectorService.currentCompanyList.subscribe((function(t){return n.companyList=t})))}return _createClass(t,[{key:"selectCompany",value:function(t){console.log(t)}}]),t}()).\u0275fac=function(t){return new(t||bt)(g.Qb(dt))},bt.\u0275cmp=g.Kb({type:bt,selectors:[["app-company-selector"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},decls:7,vars:5,consts:[["class","box pos-rel padding-r-l display-flex flex-direction-column mat-elevation-z1 round-corner height-40 overflow-hide cursor-pointer",3,"dir","matMenuTriggerFor",4,"ngIf"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","padding-mini-r-l","no-margin","text-weight-normal","font-full-rem","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color",3,"click",4,"ngFor","ngForOf"],[1,"box","pos-rel","padding-r-l","display-flex","flex-direction-column","mat-elevation-z1","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor"],[1,"text-dark-mode-color","font-8-em","display-flex","line-height-18","full-width"],[1,"text-dark-mode-color","display-flex","line-height-18","full-width"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color",3,"click"],[1,"font-full-plus-two-tenth-em"]],template:function(t,e){1&t&&(g.Hc(0,mt,6,6,"div",0),g.Wb(1,"mat-menu",1,2),g.Wb(3,"h6",3),g.Jc(4),g.jc(5,"translate"),g.Vb(),g.Hc(6,ft,3,1,"button",4),g.Vb()),2&t&&(g.oc("ngIf",e.companyList),g.Cb(4),g.Lc(" ",g.kc(5,3,"select_company.title")," "),g.Cb(2),g.oc("ngForOf",e.companyList))},directives:[l.t,it.e,V.g,l.s,W.b,it.d,it.b],pipes:[d.d],styles:[""]}),bt),Ct=n("ds6q"),kt=n("l5mm"),wt=n("8Tul"),yt=n("mrSG"),_t=n("3Pt+"),xt=n("ISpo"),Mt=n("mrmJ"),St=n("zkoq"),Ot=n("Wp6s"),Pt=n("kmnG"),It=n("qFsG");function Wt(t,e){1&t&&(g.Wb(0,"mat-icon",21),g.Jc(1," check "),g.Vb())}var Vt=function(t,e){return[t,e]};function Dt(t,e){if(1&t){var n=g.Xb();g.Wb(0,"mat-grid-tile",15),g.Wb(1,"mat-card",16),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic(3).activeStatus(t)})),g.Hc(2,Wt,2,0,"mat-icon",17),g.Wb(3,"mat-card-content",18),g.Wb(4,"mat-icon",19),g.Jc(5),g.Vb(),g.Vb(),g.Wb(6,"mat-card-footer",20),g.Jc(7),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=e.$implicit,a=g.ic(3);g.oc("colspan",1)("rowspan",1),g.Cb(1),g.Eb("status-"+i.label.replace(" ","_").toLocaleLowerCase()+" status-item pos-rel full-width full-height round-corner mat-elevation-z1 card-bg cursor-pointer padding-half"),g.oc("ngClass",g.sc(8,Vt,i.id===a.form.get("status").value.id?"active-status":"","smoking"===i.label.toLowerCase()?"cursor-ignore":"")),g.Cb(1),g.oc("ngIf",i.id===a.form.get("status").value.id),g.Cb(3),g.Lc(" ",i.icon," "),g.Cb(2),g.Lc(" ",a.rtlDirection?i.label_fa:i.label," ")}}function zt(t,e){if(1&t&&(g.Wb(0,"mat-grid-list",13),g.Hc(1,Dt,8,11,"mat-grid-tile",14),g.Vb()),2&t){var n=g.ic(2);g.Cb(1),g.oc("ngForOf",n.statusList)}}function At(t,e){1&t&&(g.Wb(0,"mat-error"),g.Jc(1),g.jc(2,"translate"),g.Vb()),2&t&&(g.Cb(1),g.Lc(" ",g.kc(2,1,"status.status_description_error")," "))}function Rt(t,e){if(1&t&&(g.Wb(0,"div",22),g.Wb(1,"mat-form-field",23),g.Wb(2,"mat-label"),g.Jc(3),g.jc(4,"translate"),g.Vb(),g.Rb(5,"textarea",24),g.jc(6,"translate"),g.Hc(7,At,3,3,"mat-error",25),g.Vb(),g.Vb()),2&t){var n=g.ic(2);g.Cb(3),g.Kc(g.kc(4,3,"status.status_description")),g.Cb(2),g.pc("placeholder",g.kc(6,5,"status.status_description_error")),g.Cb(2),g.oc("ngIf",!n.form.get("description").valid&&n.form.get("description").touched)}}function Lt(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",2),g.Wb(1,"form",3),g.ec("submit",(function(){return g.zc(n),g.ic().submit()})),g.Wb(2,"div",4),g.Wb(3,"h1",5),g.Jc(4),g.jc(5,"translate"),g.Vb(),g.Wb(6,"a",6),g.ec("click",(function(){return g.zc(n),g.ic().closeDialog()})),g.Wb(7,"mat-icon",7),g.Jc(8,"close"),g.Vb(),g.Vb(),g.Wb(9,"div",8),g.Hc(10,zt,2,1,"mat-grid-list",9),g.Hc(11,Rt,8,7,"div",10),g.Vb(),g.Vb(),g.Wb(12,"div",11),g.Wb(13,"button",12),g.Jc(14),g.jc(15,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=g.ic();g.oc("dir",i.rtlDirection?"rtl":"ltr"),g.Cb(1),g.oc("formGroup",i.form),g.Cb(3),g.Lc(" ",g.kc(5,8,"status.apply_status")," "),g.Cb(2),g.oc("ngClass",i.rtlDirection?"left-full":"right-full"),g.Cb(4),g.oc("ngIf",i.statusList.length),g.Cb(1),g.oc("ngIf",i.form.get("status").value.is_description),g.Cb(2),g.oc("disabled",!i.form.valid),g.Cb(1),g.Lc(" ",g.kc(15,10,"status.apply_status")," ")}}function Tt(t,e){1&t&&(g.Wb(0,"div",26),g.Wb(1,"div",27),g.hc(),g.Wb(2,"svg",28),g.Wb(3,"rect",29),g.Rb(4,"animate",30),g.Rb(5,"animate",31),g.Vb(),g.Wb(6,"rect",32),g.Rb(7,"animate",33),g.Rb(8,"animate",34),g.Vb(),g.Wb(9,"rect",35),g.Rb(10,"animate",36),g.Rb(11,"animate",37),g.Vb(),g.Vb(),g.gc(),g.Wb(12,"span",38),g.Jc(13),g.jc(14,"translate"),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(13),g.Kc(g.kc(14,1,"global.loading")))}var jt,Ut=((jt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u,h,g,p,d){var m;return _classCallCheck(this,n),(m=e.call(this,r,h)).data=t,m.dialogRef=i,m.fb=a,m.injector=r,m.translate=o,m.viewDirection=s,m.userApiService=c,m.messageService=l,m.statusApiService=u,m.userInfoService=h,m.userStatusService=g,m.refreshLoginService=p,m.loadingIndicatorService=d,m.statusList=[],m.loadingIndicator={status:!1,serviceName:"userStatus"},m._subscription=new f.Subscription,m._subscription.add(m.viewDirection.currentDirection.subscribe((function(t){return m.rtlDirection=t}))),m._subscription.add(m.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return m.loadingIndicator=t}))),m}return _createClass(n,[{key:"ngOnInit",value:function(){return Object(yt.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getStatuses();case 2:return t.next=4,this.createForm().then((function(){e.form.markAllAsTouched(),setTimeout((function(){return e.checkFormValidation()}),1e3),e._subscription.add(e.userStatusService.currentUserStatus.subscribe((function(t){e.currentUserStatus=t,e.form.patchValue({status:e.currentUserStatus.status_detail})})))}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getStatuses",value:function(){var t=this;return this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),new Promise((function(e,n){t.statusApiService.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.statusApiService.getStatuses().subscribe((function(i){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),i.success?(t.statusList=i.data,e(!0)):n(!0)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.refreshLoginService.openLoginDialog(e)})))}))}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({user_id:new _t.g(t.loggedInUser.id,_t.G.required),status:new _t.g({},_t.G.required),is_description:new _t.g(0),description:new _t.g("")}),e()}))}},{key:"checkFormValidation",value:function(){var t=this;this._subscription.add(this.form.valueChanges.subscribe((function(e){var n=t.form.get("description");e.status.is_description?t.form.get("description").value.length<1&&(n.setErrors({incorrect:!0}),n.setValidators(_t.G.required),n.markAsTouched()):(n.setErrors(null),n.setValidators(null))})))}},{key:"activeStatus",value:function(t){t.is_description?(this.dialogRef.updateSize("500px","490px"),this.form.get("is_description").setValue(t.is_description)):this.dialogRef.updateSize("500px","385px"),this.form.get("status").setValue(t)}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"submit",value:function(){var t=this;if(this.form.valid){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),this.form.disable(),this.dialogRef.disableClose=!0;var e=Object.assign({},this.form.value);e.status=e.status.id,this.statusApiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.statusApiService.userChangeStatus(e).subscribe((function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.dialogRef.disableClose=!1,e.success?(t.userStatusService.changeUserStatus(e.data),t.getTranslate("status.status_success").then((function(e){t.messageService.showMessage(e)})),t.dialogRef.close(e)):(t.getTranslate("status.status_description_error").then((function(e){t.messageService.showMessage(e)})),t.form.enable())}),(function(e){t.dialogRef.disableClose=!1,t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.refreshLoginService.openLoginDialog(e)})))}else this.getTranslate("status.status_description_error").then((function(e){t.messageService.showMessage(e)}))}},{key:"getTranslate",value:function(t){var e=this;return new Promise((function(n){return n(e.translate.instant(t))}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||jt)(g.Qb(v.a),g.Qb(v.h),g.Qb(_t.f),g.Qb(g.s),g.Qb(d.e),g.Qb(k.a),g.Qb(C.a),g.Qb(w.a),g.Qb(x),g.Qb(y.a),g.Qb(tt.a),g.Qb(xt.a),g.Qb(Mt.a))},jt.\u0275cmp=g.Kb({type:jt,selectors:[["app-change-status"]],features:[g.zb],decls:2,vars:2,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",3,"dir",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"full-width","height-full-minus-35"],[1,"font-full-em","height-35","line-height-35","text-weight-500","no-margin"],[1,"pos-abs","top-full","cursor-pointer","text-gray-600",3,"ngClass","click"],[1,"text-grey-500"],[1,"height-full-minus-35","padding-b-full"],["cols","3","gutterSize","15","rowHeight","80px",4,"ngIf"],["class","padding-t-full margin-b-half",4,"ngIf"],[1,"height-30","full-width"],["mat-raised-button","","type","submit",1,"green-gradient","text-white","full-width","font-9-em",3,"disabled"],["cols","3","gutterSize","15","rowHeight","80px"],["class","board-container",3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"board-container",3,"colspan","rowspan"],[3,"ngClass","click"],["class","pos-abs font-9-em text-center line-height-15 text-white bg-green bottom-half-reverse right-0 left-0 margin-auto width-15 height-15 round-corner-all",4,"ngIf"],[1,"pos-rel","z-index-99","no-margin"],[1,"full-width","height-50","font-full-em-3","text-center","line-height-40"],[1,"mat-card-footer","text-center","font-8-em","text-weight-bold"],[1,"pos-abs","font-9-em","text-center","line-height-15","text-white","bg-green","bottom-half-reverse","right-0","left-0","margin-auto","width-15","height-15","round-corner-all"],[1,"padding-t-full","margin-b-half"],[1,"full-width","height-100","font-9-em"],["formControlName","description","matInput","",3,"placeholder"],[4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(g.Hc(0,Lt,16,12,"div",0),g.Hc(1,Tt,15,3,"div",1)),2&t&&(g.oc("ngIf",e.form),g.Cb(1),g.oc("ngIf",e.loadingIndicator.status&&"userStatus"===e.loadingIndicator.serviceName))},directives:[l.t,W.b,_t.I,_t.t,_t.k,l.q,A.a,z.b,St.b,l.s,St.d,Ot.a,Ot.d,Ot.e,Pt.c,Pt.g,_t.c,It.b,_t.s,_t.i,Pt.b],pipes:[d.d],styles:[".bg-green[_ngcontent-%COMP%]{background-color:#388e3c}.status-item[_ngcontent-%COMP%]{color:#304352}.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-start_working.active-status[_ngcontent-%COMP%], .status-start_working[_ngcontent-%COMP%]:hover{color:#92ca68;box-shadow:0 2px 4px -1px #77ca5d,0 10px 25px -7px #dbffac,0 1px 10px 0 rgba(0,0,0,.12)}.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-finish_working.active-status[_ngcontent-%COMP%], .status-finish_working[_ngcontent-%COMP%]:hover{color:#b85f39;box-shadow:0 2px 4px -1px #ca703a,0 10px 25px -7px #caba89,0 1px 10px 0 rgba(0,0,0,.12)}.status-lunch_break[_ngcontent-%COMP%]{transition:all .4s!important}.status-lunch_break.active-status[_ngcontent-%COMP%], .status-lunch_break[_ngcontent-%COMP%]:hover{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-meeting.active-status[_ngcontent-%COMP%], .status-meeting[_ngcontent-%COMP%]:hover{color:#818cbc;box-shadow:0 2px 4px -1px #818cbc,0 10px 25px -7px #80d0c7,0 1px 10px 0 rgba(0,0,0,.12)}.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-smoking.active-status[_ngcontent-%COMP%], .status-smoking[_ngcontent-%COMP%]:hover{color:#304352;box-shadow:0 2px 4px -1px #304352,0 10px 25px -7px #d7d2cc,0 1px 10px 0 rgba(0,0,0,.12)}.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-mission.active-status[_ngcontent-%COMP%], .status-mission[_ngcontent-%COMP%]:hover{color:#30cfd0;box-shadow:0 2px 4px -1px #30cfd0,0 10px 25px -7px #8fd3f4,0 1px 10px 0 rgba(0,0,0,.12)}.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-leave.active-status[_ngcontent-%COMP%], .status-leave[_ngcontent-%COMP%]:hover{color:#feb051;box-shadow:0 2px 4px -1px #fa709a,0 10px 25px -7px #fee140,0 1px 10px 0 rgba(0,0,0,.12)}.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-game.active-status[_ngcontent-%COMP%], .status-game[_ngcontent-%COMP%]:hover{color:#c471f5;box-shadow:0 2px 4px -1px #fa71cd,0 10px 25px -7px #c471f5,0 1px 10px 0 rgba(0,0,0,.12)}.status-other_stuff[_ngcontent-%COMP%]{transition:all .4s!important}.status-other_stuff.active-status[_ngcontent-%COMP%], .status-other_stuff[_ngcontent-%COMP%]:hover{color:#98997e;box-shadow:0 2px 4px -1px #98997e,0 10px 25px -7px #fbfcdb,0 1px 10px 0 rgba(0,0,0,.12)}.cursor-ignore[_ngcontent-%COMP%]{cursor:not-allowed}"]}),jt);function Qt(t,e){if(1&t&&(g.Wb(0,"span",8),g.Wb(1,"b",9),g.Jc(2),g.Vb(),g.Jc(3," : "),g.Wb(4,"b",9),g.Jc(5),g.Vb(),g.Jc(6," : "),g.Wb(7,"b",9),g.Jc(8),g.Vb(),g.Vb()),2&t){var n=g.ic(2);g.oc("ngClass",n.rtlDirection?"justify-content-end":"justify-content-start"),g.Cb(2),g.Lc(" ",n.currentTimer.hours<10?"0"+n.currentTimer.hours:n.currentTimer.hours," "),g.Cb(3),g.Lc(" ",n.currentTimer.minutes<10?"0"+n.currentTimer.minutes:n.currentTimer.minutes," "),g.Cb(3),g.Lc(" ",n.currentTimer.seconds<10?"0"+n.currentTimer.seconds:n.currentTimer.seconds," ")}}function Et(t,e){if(1&t){var n=g.Xb();g.Wb(0,"button",4),g.ec("click",(function(){return g.zc(n),g.ic().changeStatus()})),g.Wb(1,"mat-icon",5),g.Jc(2),g.Vb(),g.Wb(3,"span",6),g.Jc(4),g.Hc(5,Qt,9,4,"span",7),g.Vb(),g.Vb()}if(2&t){var i=g.ic();g.Eb("status-"+i.userCurrentStatus.status_detail.label.replace(" ","_").toLocaleLowerCase()+" blink-effect status-item full-width change-status-btn text-weight-500 line-height-40 full-height font-9-em overflow-hide no-bg mat-elevation-z0 text-dark-mode-color text-gray-800"),g.Cb(2),g.Kc(i.userCurrentStatus.status_detail.icon),g.Cb(2),g.Lc(" ",i.rtlDirection?i.userCurrentStatus.status_detail.label_fa:i.userCurrentStatus.status_detail.label," "),g.Cb(1),g.oc("ngIf",i.currentTimer)}}function Ht(t,e){if(1&t){var n=g.Xb();g.Wb(0,"button",10),g.ec("click",(function(){return g.zc(n),g.ic().changeStatus()})),g.Wb(1,"mat-icon",11),g.Jc(2," sync_problem "),g.Vb(),g.Wb(3,"span",12),g.Jc(4),g.jc(5,"translate"),g.Vb(),g.Vb()}2&t&&(g.Cb(4),g.Kc(g.kc(5,1,"status.apply_status")))}function Ft(t,e){1&t&&(g.Wb(0,"div",13),g.Wb(1,"div",14),g.hc(),g.Wb(2,"svg",15),g.Wb(3,"rect",16),g.Rb(4,"animate",17),g.Rb(5,"animate",18),g.Vb(),g.Wb(6,"rect",19),g.Rb(7,"animate",20),g.Rb(8,"animate",21),g.Vb(),g.Wb(9,"rect",22),g.Rb(10,"animate",23),g.Rb(11,"animate",24),g.Vb(),g.Vb(),g.Vb(),g.Vb())}var Jt,Bt=((Jt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u,h,g){var p;return _classCallCheck(this,n),(p=e.call(this,i,r)).dialog=t,p.injector=i,p.apiService=a,p.userInfoService=r,p.changeStatusService=o,p.refreshLoginService=s,p.loadingIndicatorService=c,p.translateService=l,p.changeDetector=u,p.windowManagerService=h,p.messageService=g,p.userCurrentStatus=null,p.loadingIndicator={status:!1,serviceName:"userStatusDashboard"},p.currentTimer=null,p.destroyed$=new Ct.Subject,p._subscription=new f.Subscription,p}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;if(this._subscription.add(this.changeStatusService.currentUserStatus.subscribe((function(e){return t.userCurrentStatus=e}))),null===this.userCurrentStatus||this.userCurrentStatus&&null!==this.userCurrentStatus.end_time){var e=this.dialog.open(wt.a,{data:{title:this.getTranslate("status.start_working"),message:this.getTranslate("status.start_working_time"),action:"success"},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(e.id),this.apiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(e.afterClosed().subscribe((function(e){e&&t._subscription.add(t.apiService.userChangeStatus({user_id:t.loggedInUser.id,status:1,description:""}).subscribe((function(e){e.success?(t.changeStatusService.changeUserStatus(e.data),t.messageService.showMessage(t.getTranslate("status.status_success"))):t.messageService.showMessage(t.getTranslate("status.status_description_error"))}))),t.openSoftPhone()})))}else this.openSoftPhone();Object(kt.a)(1e3).subscribe((function(){t.changeDetector.destroyed||t.changeDetector.detectChanges();var e=t.userCurrentStatus&&null===t.userCurrentStatus.end_time?t.userCurrentStatus.start_time:G(new Date).format("YYYY-MM-DD HH:mm:ss");t.getElapsedTime(e)})),this.changeDetector.detectChanges()}},{key:"changeStatus",value:function(){var t=this.dialog.open(Ut,{autoFocus:!1,width:"500px",height:"385px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)}},{key:"getElapsedTime",value:function(t){var e,n=new Date(new Date(t).getTime()),i=Math.floor(((new Date).getTime()-n.getTime())/1e3),a=0,r=0;i>=3600&&(i-=3600*(a=Math.floor(i/3600))),i>=60&&(i-=60*(r=Math.floor(i/60))),e=i,this.currentTimer={hours:a,minutes:r,seconds:e}}},{key:"openSoftPhone",value:function(){var t=this;setTimeout((function(){t.loggedInUser.services.map((function(e){var n=e.name.replace(" ","_").toLowerCase();if("softphones_service"===n){var i=t.serviceList.filter((function(t){return t.serviceTitle===n})).pop();i&&t.openService(i)}}))}),2e3)}},{key:"openService",value:function(t){this.windowManagerService.openWindowState(t)}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe(),this.destroyed$.next(),this.destroyed$.complete()}}]),n}(b.a)).\u0275fac=function(t){return new(t||Jt)(g.Qb(v.b),g.Qb(g.s),g.Qb(x),g.Qb(y.a),g.Qb(tt.a),g.Qb(xt.a),g.Qb(Mt.a),g.Qb(d.e),g.Qb(g.h),g.Qb(P.a),g.Qb(w.a))},Jt.\u0275cmp=g.Kb({type:Jt,selectors:[["app-user-status"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection",serviceList:"serviceList"},features:[g.zb],decls:5,vars:5,consts:[[1,"box","pos-rel","width-150","mat-elevation-z1","text-center","round-corner","height-40","cursor-pointer","overflow-hide",3,"dir","ngClass"],["mat-raised-button","",3,"class","click",4,"ngIf","ngIfElse"],["changeViewStatus",""],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height round-corner flex-center z-index-9999",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-gray-800","text-dark-mode-color"],[1,"padding-mini-r-l","height-40","display-inline-block","line-height-20","pos-rel"],["class","line-height-20 display-flex font-9-em","dir","ltr",3,"ngClass",4,"ngIf"],["dir","ltr",1,"line-height-20","display-flex","font-9-em",3,"ngClass"],[1,"text-weight-normal","width-15"],["mat-raised-button","",1,"change-status-btn","text-gray-800","text-weight-500","full-width","line-height-30","font-9-em","full-height","overflow-hide","no-bg","mat-elevation-z0","text-dark-mode-color",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-dark-mode-color","text-gray-800"],[1,"padding-mini-r-l"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","round-corner","flex-center","z-index-9999"],[1,"text-center","transform-scale-7"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"]],template:function(t,e){if(1&t&&(g.Wb(0,"div",0),g.Hc(1,Et,6,5,"button",1),g.Hc(2,Ht,6,3,"ng-template",null,2,g.Ic),g.Vb(),g.Hc(4,Ft,12,0,"div",3)),2&t){var n=g.vc(3);g.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),g.Cb(1),g.oc("ngIf",e.userCurrentStatus&&!e.userCurrentStatus.end_time)("ngIfElse",n),g.Cb(3),g.oc("ngIf",e.loadingIndicator.status&&"userStatusDashboard"===e.loadingIndicator.serviceName)}},directives:[W.b,l.q,l.t,z.b,A.a],pipes:[d.d],styles:[".mat-icon[_ngcontent-%COMP%]{box-shadow:none!important}.blink-effect[_ngcontent-%COMP%]{-webkit-animation:blink 1.6s linear infinite;animation:blink 1.6s linear infinite}.status-item.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-start_working[_ngcontent-%COMP%], .status-item.status-start_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-start_working 1s linear infinite;animation:blink-status-start_working 1s linear infinite}.status-item.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-finish_working[_ngcontent-%COMP%], .status-item.status-finish_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-finish_working 1s linear infinite;animation:blink-status-finish_working 1s linear infinite}.status-item.status-lunch_break[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-lunch_break[_ngcontent-%COMP%], .status-item.status-lunch_break[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-lunch_break 1s linear infinite;animation:blink-status-lunch_break 1s linear infinite}.status-item.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-meeting[_ngcontent-%COMP%], .status-item.status-meeting[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-meeting 1s linear infinite;animation:blink-status-meeting 1s linear infinite}.status-item.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-smoking[_ngcontent-%COMP%], .status-item.status-smoking[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-smoking 1s linear infinite;animation:blink-status-smoking 1s linear infinite}.status-item.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-mission[_ngcontent-%COMP%], .status-item.status-mission[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-mission 1s linear infinite;animation:blink-status-mission 1s linear infinite}.status-item.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-leave[_ngcontent-%COMP%], .status-item.status-leave[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-leave 1s linear infinite;animation:blink-status-leave 1s linear infinite}.status-item.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-game[_ngcontent-%COMP%], .status-item.status-game[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-game 1s linear infinite;animation:blink-status-game 1s linear infinite}.status-item.status-other[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-other[_ngcontent-%COMP%], .status-item.status-other[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-other 1s linear infinite;animation:blink-status-other 1s linear infinite}.transform-scale-7[_ngcontent-%COMP%]{transform:scale(.7)}@-webkit-keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-lunch_break{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@keyframes blink-status-lunch_break{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}@keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}"],changeDetection:0}),Jt),Yt=n("JX91"),Nt=n("lJxs"),Kt=n("OVb6"),Xt=n("/Hbh"),qt=["clock"],Gt=["hours"],$t=["seconds"],Zt=["minutes"];function te(t,e){if(1&t){var n=g.Xb();g.Wb(0,"mat-icon",10),g.ec("click",(function(t){return g.zc(n),g.ic().removeClock(t)})),g.Jc(1," close "),g.Vb()}if(2&t){var i=g.ic();g.oc("ngClass",i.rtlDirection?"left-full-reverse":"right-full-reverse")}}var ee,ne=((ee=function(){function t(){var e=this;_classCallCheck(this,t),this.degrees=360,this.seconds_angle=0,this.minutes_angle=0,this.hours_angle=0,this.removeClock=function(t){t.stopPropagation(),0!=e.item_index&&e.cityClocksList.splice(e.item_index,1)},this.init=function(){e.createIndicators(),e.setHands(),setInterval(e.runClock,1e3)},this.setHands=function(){var t=(new Date).toLocaleTimeString("en-US",{timeZone:e.item.timezone,hour12:!1}).split(":"),n=parseInt(t[0])-12,i=parseInt(t[1]),a=parseInt(t[2]);e.hours_angle=30*n+(i-i%15)/15*6,e.minutes_angle=6*i,e.seconds_angle=6*a,e.hours.nativeElement.style.transform="rotate("+e.hours_angle+"deg)",e.minutes.nativeElement.style.transform="rotate("+e.minutes_angle+"deg)",e.seconds.nativeElement.style.transform="rotate("+e.seconds_angle+"deg)"},this.runClock=function(){e.seconds.nativeElement.style.transform="rotate("+e.seconds_angle+"deg)",e.seconds_angle==e.degrees?(e.seconds_angle=0,e.seconds.nativeElement.addEventListener("transitionend",e.controlBouncing),e.minutes_angle+=e.degrees/60,e.minutes.nativeElement.style.transform="rotate("+e.minutes_angle+"deg)",e.minutes_angle%15==0&&(e.hours_angle+=6,e.hours.nativeElement.style.transform="rotate("+e.hours_angle+"deg)")):e.seconds_angle+=e.degrees/60},this.controlBouncing=function(){e.seconds.nativeElement.classList.add("no-transition"),e.seconds.nativeElement.style.transform="rotate("+e.seconds_angle+"deg)",setTimeout((function(){return e.seconds.nativeElement.classList.remove("no-transition")}),200),e.seconds.nativeElement.removeEventListener("transitionend",e.controlBouncing),e.seconds_angle+=e.degrees/60},this.createIndicators=function(){for(var t=0;t<60;t++){var n=document.createElement("div");n.classList.add("seconds-indicator"),n.style.transform="rotate("+6*t+"deg)",t%5==0&&n.classList.add("seconds-indicator--fifth"),e.clock.nativeElement.appendChild(n)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.item.city=this.item.city.replace("_"," ")}},{key:"ngAfterViewInit",value:function(){this.init()}}]),t}()).\u0275fac=function(t){return new(t||ee)},ee.\u0275cmp=g.Kb({type:ee,selectors:[["app-time-area-clock"]],viewQuery:function(t,e){var n;1&t&&(g.Pc(qt,!0),g.Pc(Gt,!0),g.Pc($t,!0),g.Pc(Zt,!0)),2&t&&(g.uc(n=g.fc())&&(e.clock=n.first),g.uc(n=g.fc())&&(e.hours=n.first),g.uc(n=g.fc())&&(e.seconds=n.first),g.uc(n=g.fc())&&(e.minutes=n.first))},inputs:{rtlDirection:"rtlDirection",checkMoreClock:"checkMoreClock",cityClocksList:"cityClocksList",item_index:"item_index",item:"item"},decls:11,vars:2,consts:[[1,"clock"],["clock",""],["class","close-button pos-abs top-full-reverse round-corner-all text-white width-18 height-18 line-height-18 text-center cursor-pointer font-9-em text-weight-bold",3,"ngClass","click",4,"ngIf"],[1,"hands","hours"],["hours",""],[1,"hands","minutes"],["minutes",""],[1,"hands","seconds"],["seconds",""],[1,"text-center","padding-t-half","no-margin","text-dark-mode-color","font-full-em"],[1,"close-button","pos-abs","top-full-reverse","round-corner-all","text-white","width-18","height-18","line-height-18","text-center","cursor-pointer","font-9-em","text-weight-bold",3,"ngClass","click"]],template:function(t,e){1&t&&(g.Wb(0,"div",0,1),g.Hc(2,te,2,1,"mat-icon",2),g.Rb(3,"div",3,4),g.Rb(5,"div",5,6),g.Rb(7,"div",7,8),g.Vb(),g.Wb(9,"h6",9),g.Jc(10),g.Vb()),2&t&&(g.Cb(2),g.oc("ngIf",e.checkMoreClock&&0!=e.item_index),g.Cb(8),g.Kc(e.item.city))},directives:[l.t,A.a,l.q],styles:[".close-button[_ngcontent-%COMP%]{background:red}"]}),ee),ie=n("/1cH");function ae(t,e){1&t&&(g.Wb(0,"span"),g.Jc(1),g.jc(2,"translate"),g.Vb()),2&t&&(g.Cb(1),g.Kc(g.kc(2,1,"global.done")))}function re(t,e){1&t&&(g.Wb(0,"mat-icon",18),g.Jc(1,"error_outline"),g.Vb())}function oe(t,e){if(1&t){var n=g.Xb();g.Wb(0,"a",15),g.ec("click",(function(){g.zc(n);var t=g.ic();return t.checkMoreClock=!t.checkMoreClock})),g.Hc(1,ae,3,3,"span",16),g.Hc(2,re,2,0,"ng-template",null,17,g.Ic),g.Vb()}if(2&t){var i=g.vc(3),a=g.ic();g.Cb(1),g.oc("ngIf",a.checkMoreClock)("ngIfElse",i)}}function se(t,e){if(1&t){var n=g.Xb();g.Wb(0,"a",15),g.ec("click",(function(){g.zc(n);var t=g.ic();return t.checkMoreClockContent=!t.checkMoreClockContent})),g.Wb(1,"span"),g.Jc(2),g.jc(3,"translate"),g.Vb(),g.Vb()}2&t&&(g.Cb(2),g.Kc(g.kc(3,1,"global.done")))}function ce(t,e){if(1&t){var n=g.Xb();g.Wb(0,"a",22),g.ec("click",(function(t){g.zc(n);var e=g.ic(2);return e.checkMoreClockContent=!e.checkMoreClockContent,t.stopPropagation()})),g.Wb(1,"mat-icon",23),g.Jc(2,"add"),g.Vb(),g.Vb()}if(2&t){var i=g.ic(2);g.oc("ngClass",i.checkMoreClock?"right-to-left pos-rel":"left-to-right pos-abs")}}function le(t,e){if(1&t&&(g.Ub(0),g.Rb(1,"app-time-area-clock",24),g.Tb()),2&t){var n=e.$implicit,i=e.index,a=g.ic(2);g.Cb(1),g.oc("cityClocksList",a.cityClocksList)("item",n)("item_index",i)("checkMoreClock",a.checkMoreClock)("rtlDirection",a.rtlDirection)}}function ue(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",19),g.ec("click",(function(t){return g.zc(n),t.stopPropagation()})),g.Hc(1,ce,3,1,"a",20),g.Hc(2,le,2,5,"ng-container",21),g.Vb()}if(2&t){var i=g.ic();g.Cb(1),g.oc("ngIf",i.cityClocksList&&i.cityClocksList.length<3),g.Cb(1),g.oc("ngForOf",i.cityClocksList)}}function he(t,e){if(1&t){var n=g.Xb();g.Wb(0,"mat-option",31),g.ec("onSelectionChange",(function(){g.zc(n);var t=e.$implicit;return g.ic(2).setClockCity(t)}))("click",(function(){g.zc(n);var t=e.$implicit;return g.ic(2).setClockCity(t)})),g.Jc(1),g.Vb()}if(2&t){var i=e.$implicit;g.oc("value",i),g.Cb(1),g.Mc(" ",i.city," - ",i.timezone," ")}}function ge(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",25),g.ec("click",(function(t){return g.zc(n),t.stopPropagation()})),g.Wb(1,"form"),g.Wb(2,"mat-form-field",26),g.Wb(3,"mat-label"),g.Jc(4),g.jc(5,"translate"),g.Vb(),g.Rb(6,"input",27),g.Wb(7,"mat-autocomplete",28,29),g.Hc(9,he,2,3,"mat-option",30),g.jc(10,"async"),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=g.vc(8),a=g.ic();g.Cb(4),g.Kc(g.kc(5,5,"soft_phone.call_to_action.timezone")),g.Cb(2),g.oc("formControl",a.myControl)("matAutocomplete",i),g.Cb(1),g.oc("displayWith",a.displayFn),g.Cb(2),g.oc("ngForOf",g.kc(10,7,a.filteredOptions))}}var pe,de,me=((de=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.render=e,this.dateTimeService=n,this.userInfoService=i,this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.myControl=new _t.g,this._subscription=new f.Subscription,this.checkMoreClock=!1,this.options=n.timezones,this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){a.loggedInUser=t,a.loggedInUser.timezone||(a.loggedInUser.timezone="Asia/Tehran"),a.currentTimezone=a.loggedInUser.timezone.split("/")[1].replace("_"," "),a.cityClocksList=[{city:a.loggedInUser.timezone.split("/")[1],timezone:a.loggedInUser.timezone}],a.init()})))}return _createClass(t,[{key:"displayFn",value:function(t){return t&&t.city?t.city:""}},{key:"onEnter",value:function(t){console.log(t)}},{key:"setClockCity",value:function(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.some((function(e){return e.timezone!==t.timezone}))&&this.cityClocksList.push(t)}},{key:"ngOnChanges",value:function(t){this.getDateTime()}},{key:"getDateTime",value:function(){this.datetime=this.dateTimeService.changeDatetimeLabel(this.rtlDirection)}},{key:"ngOnInit",value:function(){var t=this;this.filteredOptions=this.myControl.valueChanges.pipe(Object(Yt.a)(""),Object(Nt.a)((function(t){return"string"==typeof t?t:t.name})),Object(Nt.a)((function(e){return e?t.filter(e):t.options.slice()})))}},{key:"init",value:function(){var t=this;setInterval((function(){t.datetime.time=(new Date).toLocaleTimeString("en-US",{timeZone:t.cityClocksList[0].timezone,hour12:!1})}),1e3)}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return 0===t.city.toLowerCase().indexOf(e)}))}}]),t}()).\u0275fac=function(t){return new(t||de)(g.Qb(g.F),g.Qb(Kt.a),g.Qb(y.a))},de.\u0275cmp=g.Kb({type:de,selectors:[["app-time-area"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},features:[g.Ab],decls:27,vars:16,consts:[[1,"box","pos-rel","mat-elevation-z1","padding-r-l","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color","text-gray-800"],[1,"display-flex"],[3,"ngClass"],["mat-line","",1,"font-8-rem"],[1,"text-dark-mode-color","font-8-rem","text-gray-800"],["matLine","",3,"timezone"],["dir","ltr","mat-line","",1,"font-8-rem"],["xPosition","before","yPosition","above",1,"toolbar-menu","time-area-menu"],["timeAreaMenu","matMenu"],["mat-subheader","",1,"padding-mini-t-b","padding-r-l","text-weight-normal","font-9-rem","text-dark-mode-color","display-flex","flex-space-between",3,"click"],["class","cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["showDoneClockSelector",""],["class","display-flex flex-space-around padding-half",3,"click",4,"ngIf","ngIfElse"],["showClockSelector",""],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["showDone",""],[1,"width-20","height-20","font-full-plus-half-em","rotate-180"],[1,"display-flex","flex-space-around","padding-half",3,"click"],["class","animate opacity-0 clock-plus cursor-pointer",3,"ngClass","click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"animate","opacity-0","clock-plus","cursor-pointer",3,"ngClass","click"],[1,"text-white"],[1,"transition",3,"cityClocksList","item","item_index","checkMoreClock","rtlDirection"],[1,"padding-r-l",3,"click"],[1,"full-width","text-dark-mode-color"],["type","text","matInput","",1,"full-width",3,"formControl","matAutocomplete"],[1,"text-dark-mode-color",3,"displayWith"],["auto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],[3,"value","onSelectionChange","click"]],template:function(t,e){if(1&t&&(g.Wb(0,"div",0),g.Wb(1,"mat-icon",1),g.Jc(2,"access_time"),g.Vb(),g.Wb(3,"div",2),g.Wb(4,"mat-list",3),g.Wb(5,"mat-list-item",1),g.Wb(6,"div",4),g.Jc(7),g.Vb(),g.Wb(8,"div",4),g.Jc(9),g.Vb(),g.Vb(),g.Vb(),g.Wb(10,"mat-list",3),g.Wb(11,"mat-list-item",5),g.Rb(12,"app-time-area-digital-clock",6),g.Wb(13,"div",7),g.Wb(14,"span"),g.Jc(15),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(16,"mat-menu",8,9),g.Wb(18,"h6",10),g.ec("click",(function(t){return t.stopPropagation()})),g.Jc(19),g.jc(20,"translate"),g.Hc(21,oe,4,2,"a",11),g.Hc(22,se,4,3,"ng-template",null,12,g.Ic),g.Vb(),g.Hc(24,ue,3,2,"div",13),g.Hc(25,ge,11,9,"ng-template",null,14,g.Ic),g.Vb()),2&t){var n=g.vc(17),i=g.vc(23),a=g.vc(26);g.oc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",n)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),g.Cb(4),g.oc("ngClass",e.rtlDirection?"text-right":"text-left"),g.Cb(3),g.Kc(e.datetime?e.datetime.date:""),g.Cb(2),g.Kc(e.datetime?e.datetime.weekday:""),g.Cb(1),g.oc("ngClass",e.rtlDirection?"text-left":"text-right"),g.Cb(2),g.oc("timezone",e.loggedInUser?e.loggedInUser.timezone:null),g.Cb(3),g.Kc(e.loggedInUser?e.currentTimezone:""),g.Cb(4),g.Lc(" ",g.kc(20,14,"dashboard.dashboard_toolbar.active_clocks")," "),g.Cb(2),g.oc("ngIf",!e.checkMoreClockContent)("ngIfElse",i),g.Cb(3),g.oc("ngIf",!1===e.checkMoreClockContent)("ngIfElse",a)}},directives:[W.b,it.d,l.q,A.a,V.a,V.d,D.k,Xt.a,it.e,V.g,l.t,l.s,ne,_t.I,_t.t,_t.u,Pt.c,Pt.g,It.b,_t.c,ie.d,_t.s,_t.h,ie.a,D.o],pipes:[d.d,l.b],styles:[".left-to-right[_ngcontent-%COMP%]{left:-100%}.right-to-left[_ngcontent-%COMP%]{right:0}"]}),de),fe=((pe=function(){function t(e){_classCallCheck(this,t),this.http=e,this.accessToken="",this.API_URL=m.a.CONTAINER_URL+"/hr",this.headers={headers:new _.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return _createClass(t,[{key:"updateUser",value:function(t,e){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch("".concat(this.API_URL,"/users/").concat(e),t,this.headers)}}]),t}()).\u0275fac=function(t){return new(t||pe)(g.ac(_.a))},pe.\u0275prov=g.Mb({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe),be=n("jhN1"),ve=["wrapper"],Ce=["sourceImage"];function ke(t,e){if(1&t){var n=g.Xb();g.Wb(0,"img",4,5),g.ec("load",(function(){return g.zc(n),g.ic().imageLoadedInView()})),g.Vb()}if(2&t){var i=g.ic();g.Gc("visibility",i.imageVisible?"visible":"hidden")("transform",i.safeTransformStyle),g.oc("src",i.safeImgDataUrl,g.Bc)}}function we(t,e){if(1&t){var n=g.Xb();g.Ub(0),g.Wb(1,"span",9),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"topleft")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"topleft")})),g.Rb(2,"span",10),g.Vb(),g.Wb(3,"span",11),g.Rb(4,"span",10),g.Vb(),g.Wb(5,"span",12),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"topright")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"topright")})),g.Rb(6,"span",10),g.Vb(),g.Wb(7,"span",13),g.Rb(8,"span",10),g.Vb(),g.Wb(9,"span",14),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")})),g.Rb(10,"span",10),g.Vb(),g.Wb(11,"span",15),g.Rb(12,"span",10),g.Vb(),g.Wb(13,"span",16),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")})),g.Rb(14,"span",10),g.Vb(),g.Wb(15,"span",17),g.Rb(16,"span",10),g.Vb(),g.Wb(17,"span",18),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"top")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"top")})),g.Vb(),g.Wb(18,"span",19),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"right")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"right")})),g.Vb(),g.Wb(19,"span",20),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottom")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"bottom")})),g.Vb(),g.Wb(20,"span",21),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"left")}))("touchstart",(function(t){g.zc(n);var e=g.ic(2);return e.startMove(t,e.moveTypes.Resize,"left")})),g.Vb(),g.Tb()}}function ye(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",6),g.ec("keydown",(function(t){return g.zc(n),g.ic().keyboardAccess(t)})),g.Wb(1,"div",7),g.ec("mousedown",(function(t){g.zc(n);var e=g.ic();return e.startMove(t,e.moveTypes.Move)}))("touchstart",(function(t){g.zc(n);var e=g.ic();return e.startMove(t,e.moveTypes.Move)})),g.Vb(),g.Hc(2,we,21,0,"ng-container",8),g.Vb()}if(2&t){var i=g.ic();g.Gc("top",i.cropper.y1,"px")("left",i.cropper.x1,"px")("width",i.cropper.x2-i.cropper.x1,"px")("height",i.cropper.y2-i.cropper.y1,"px")("margin-left","center"===i.alignImage?i.marginLeft:null)("visibility",i.imageVisible?"visible":"hidden"),g.Gb("rounded",i.roundCropper),g.Cb(2),g.oc("ngIf",!i.hideResizeSquares)}}var _e,xe,Me={Move:"move",Resize:"resize",Pinch:"pinch"},Se=((xe=function(){function t(e,n){_classCallCheck(this,t),this.sanitizer=e,this.cd=n,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.autoRotateSupported=new Promise((function(t){var e=new Image;e.onload=function(){t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})),this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.moveTypes=Me,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new g.o,this.startCropImage=new g.o,this.imageLoaded=new g.o,this.cropperReady=new g.o,this.loadImageFailed=new g.o,this.initCropper()}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.cropperStaticHeight&&this.cropperStaticWidth&&(this.hideResizeSquares=!0,this.cropperMinWidth=this.cropperStaticWidth,this.cropperMinHeight=this.cropperStaticHeight,this.maintainAspectRatio=!1),this.onChangesInputImage(t),this.originalImage&&this.originalImage.complete&&this.exifTransform&&(t.containWithinAspectRatio||t.canvasRotation)&&this.transformOriginalImage(),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesInputImage",value:function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.initCropper(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"initCropper",value:function(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImage",value:function(t,e){this.isValidImageType(e)?this.loadBase64Image(t):this.loadImageFailed.emit()}},{key:"loadImageFile",value:function(t){var e=this,n=new FileReader;n.onload=function(n){return e.loadImage(n.target.result,t.type)},n.readAsDataURL(t)}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}},{key:"loadBase64Image",value:function(t){var e=this;this.autoRotateSupported.then((function(n){return e.checkExifAndLoadBase64Image(t,n)})).then((function(){return e.transformOriginalImage()})).catch((function(t){e.loadImageFailed.emit(),e.originalImage=null,e.originalBase64=null,console.error(t)}))}},{key:"checkExifAndLoadBase64Image",value:function(t,e){var n=this;return new Promise((function(i,a){n.originalImage=new Image,n.originalImage.onload=function(){n.originalBase64=t,n.exifTransform=function(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);return i.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,i=2;i<n;){if(e.getUint16(i+2,!1)<=8)return-1;var a=e.getUint16(i,!1);if(i+=2,65505==a){if(1165519206!=e.getUint32(i+=2,!1))return-1;var r=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,r);var o=e.getUint16(i,r);i+=2;for(var s=0;s<o;s++)if(274==e.getUint16(i+12*s,r))return e.getUint16(i+12*s+8,r)}else{if(65280!=(65280&a))break;i+=e.getUint16(i,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(e?-1:t),n.originalSize.width=n.originalImage.naturalWidth,n.originalSize.height=n.originalImage.naturalHeight,i()},n.originalImage.onerror=a,n.originalImage.src=t}))}},{key:"loadImageFromURL",value:function(t){var e=this,n=new Image;n.onerror=function(){return e.loadImageFailed.emit()},n.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=n.width,t.height=n.height,i.drawImage(n,0,0),e.loadBase64Image(t.toDataURL())},n.crossOrigin="anonymous",n.src=t}},{key:"transformOriginalImage",value:function(){if(!this.originalImage||!this.originalImage.complete||!this.exifTransform)return Promise.reject(new Error("No image loaded"));var t=this.transformImageBase64();return this.setTransformedImage(t)}},{key:"transformImageBase64",value:function(){var t=this.canvasRotation+this.exifTransform.rotate;if(0===t&&!this.exifTransform.flip&&!this.containWithinAspectRatio)return this.originalBase64;var e=this.getTransformedSize(),n=document.createElement("canvas");n.width=e.width,n.height=e.height;var i=n.getContext("2d");return i.setTransform(this.exifTransform.flip?-1:1,0,0,1,n.width/2,n.height/2),i.rotate(Math.PI*(t/2)),i.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),n.toDataURL()}},{key:"getTransformedSize",value:function(){var t=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(t%2){var e=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,this.originalSize.width*this.aspectRatio),height:Math.max(this.originalSize.width,e)}}var n=this.originalSize.width/this.aspectRatio;return{width:Math.max(this.originalSize.width,this.originalSize.height*this.aspectRatio),height:Math.max(this.originalSize.height,n)}}return t%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}}},{key:"setTransformedImage",value:function(t){var e=this;return new Promise((function(n){e.transformedBase64=t,e.safeImgDataUrl=e.sanitizer.bypassSecurityTrustResourceUrl(t),e.transformedImage=new Image,e.transformedImage.onload=function(){e.transformedSize.width=e.transformedImage.naturalWidth,e.transformedSize.height=e.transformedImage.naturalHeight,e.cd.markForCheck(),n()},e.transformedImage.src=e.transformedBase64}))}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout((function(){return t.checkImageMaxSizeRecursively()})))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return t.checkImageMaxSizeRecursively()}),50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(g.W)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){var t=this.sourceImage.nativeElement;if(this.cropperStaticHeight&&this.cropperStaticWidth)this.cropper.x1=0,this.cropper.x2=t.offsetWidth>this.cropperStaticWidth?this.cropperStaticWidth:t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight>this.cropperStaticHeight?this.cropperStaticHeight:t.offsetHeight;else if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;var e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;var n=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-n)/2,this.cropper.x2=this.cropper.x1+n}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){t.key>="1"&&t.key<="9"&&(this.stepSize=+t.key)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?Me.Resize:Me.Move,n=t.altKey?this.getInvertedPositionForKey(t.key):this.getPositionForKey(t.key),i=this.getEventForKey(t.key,this.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,n),this.moveImg(i),this.moveStop()}}},{key:"getPositionForKey",value:function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}},{key:"getInvertedPositionForKey",value:function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}},{key:"getEventForKey",value:function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}},{key:"startMove",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===Me.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:n,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper))}},{key:"startPinch",value:function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:Me.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Me.Move?(this.move(t),this.checkCropperPosition(!0)):this.moveStart.type===Me.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Me.Pinch&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"move",value:function(t){var e=this.getClientX(t)-this.moveStart.clientX,n=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+n,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+n}},{key:"resize",value:function(t){var e=this.getClientX(t)-this.moveStart.clientX,n=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"center":var i=t.scale,a=Math.abs(this.moveStart.x2-this.moveStart.x1)*i,r=Math.abs(this.moveStart.y2-this.moveStart.y1)*i,o=this.cropper.x1,s=this.cropper.y1;this.cropper.x1=Math.min(this.moveStart.clientX-a/2,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.clientY-r/2,this.cropper.y2-this.cropperScaledMinHeight),this.cropper.x2=Math.max(this.moveStart.clientX+a/2,o+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.clientY+r/2,s+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()}},{key:"checkAspectRatio",value:function(){var t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"center":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio;var n=Math.max(0-this.cropper.x1,0),i=Math.max(this.cropper.x2-this.maxSize.width,0),a=Math.max(this.cropper.y2-this.maxSize.height,0),r=Math.max(0-this.cropper.y1,0);(n>0||i>0||a>0||r>0)&&(this.cropper.x1+=a*this.aspectRatio>n?a*this.aspectRatio:n,this.cropper.x2-=r*this.aspectRatio>i?r*this.aspectRatio:i,this.cropper.y1+=r*this.aspectRatio>i?r:i/this.aspectRatio,this.cropper.y2-=a*this.aspectRatio>n?a:n/this.aspectRatio)}}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();var t=this.getImagePosition(),e=t.x2-t.x1,n=t.y2-t.y1,i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");if(a){null!=this.backgroundColor&&(a.fillStyle=this.backgroundColor,a.fillRect(0,0,e,n));var r=(this.transform.scale||1)*(this.transform.flipH?-1:1),o=(this.transform.scale||1)*(this.transform.flipV?-1:1);a.setTransform(r,0,0,o,this.transformedSize.width/2,this.transformedSize.height/2),a.translate(-t.x1/r,-t.y1/o),a.rotate((this.transform.rotate||0)*Math.PI/180),a.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);var s={width:e,height:n,imagePosition:t,cropperPosition:Object.assign({},this.cropper)};this.containWithinAspectRatio&&(s.offsetImagePosition=this.getOffsetImagePosition());var c=this.getResizeRatio(e,n);return 1!==c&&(s.width=Math.round(e*c),s.height=this.maintainAspectRatio?Math.round(s.width/this.aspectRatio):Math.round(n*c),function(t,e,n){var i=t.width,a=t.height,r=i/(e=Math.round(e)),o=a/(n=Math.round(n)),s=Math.ceil(r/2),c=Math.ceil(o/2),l=t.getContext("2d");if(l){for(var u=l.getImageData(0,0,i,a),h=l.createImageData(e,n),g=u.data,p=h.data,d=0;d<n;d++)for(var m=0;m<e;m++){var f=4*(m+d*e),b=d*o,v=0,C=0,k=0,w=0,y=0,_=0,x=0,M=Math.floor(m*r),S=Math.floor(d*o),O=Math.ceil((m+1)*r),P=Math.ceil((d+1)*o);O=Math.min(O,i),P=Math.min(P,a);for(var I=S;I<P;I++)for(var W=Math.abs(b-I)/c,V=m*r,D=W*W,z=M;z<O;z++){var A=Math.abs(V-z)/s,R=Math.sqrt(D+A*A);if(!(R>=1)){var L=4*(z+I*i);x+=(v=2*R*R*R-3*R*R+1)*g[L+3],k+=v,g[L+3]<255&&(v=v*g[L+3]/250),w+=v*g[L],y+=v*g[L+1],_+=v*g[L+2],C+=v}}p[f]=w/C,p[f+1]=y/C,p[f+2]=_/C,p[f+3]=x/k}t.width=e,t.height=n,l.putImageData(h,0,0)}}(i,s.width,s.height)),s.base64=this.cropToBase64(i),this.imageCropped.emit(s),s}}return null}},{key:"getImagePosition",value:function(){var t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,e={x1:Math.round(this.cropper.x1*t),y1:Math.round(this.cropper.y1*t),x2:Math.round(this.cropper.x2*t),y2:Math.round(this.cropper.y2*t)};return this.containWithinAspectRatio||(e.x1=Math.max(e.x1,0),e.y1=Math.max(e.y1,0),e.x2=Math.min(e.x2,this.transformedSize.width),e.y2=Math.min(e.y2,this.transformedSize.height)),e}},{key:"getOffsetImagePosition",value:function(){var t,e,n=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;(this.canvasRotation+this.exifTransform.rotate)%2?(t=(this.transformedSize.width-this.originalSize.height)/2,e=(this.transformedSize.height-this.originalSize.width)/2):(t=(this.transformedSize.width-this.originalSize.width)/2,e=(this.transformedSize.height-this.originalSize.height)/2);var i={x1:Math.round(this.cropper.x1*n)-t,y1:Math.round(this.cropper.y1*n)-e,x2:Math.round(this.cropper.x2*n)-t,y2:Math.round(this.cropper.y2*n)-e};return this.containWithinAspectRatio||(i.x1=Math.max(i.x1,0),i.y1=Math.max(i.y1,0),i.x2=Math.min(i.x2,this.transformedSize.width),i.y2=Math.min(i.y2,this.transformedSize.height)),i}},{key:"cropToBase64",value:function(t){return t.toDataURL("image/"+this.format,this.getQuality())}},{key:"getQuality",value:function(){return Math.min(1,Math.max(0,this.imageQuality/100))}},{key:"getResizeRatio",value:function(t,e){var n=this.resizeToWidth/t,i=this.resizeToHeight/e,a=new Array;this.resizeToWidth>0&&a.push(n),this.resizeToHeight>0&&a.push(i);var r=0===a.length?1:Math.min.apply(Math,a);return r>1&&!this.onlyScaleDown?r:Math.min(r,1)}},{key:"getClientX",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}},{key:"getClientY",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}]),t}()).\u0275fac=function(t){return new(t||xe)(g.Qb(be.b),g.Qb(g.h))},xe.\u0275cmp=g.Kb({type:xe,selectors:[["image-cropper"]],viewQuery:function(t,e){var n;1&t&&(g.Fc(ve,!0),g.Pc(Ce,!0)),2&t&&(g.uc(n=g.fc())&&(e.wrapper=n.first),g.uc(n=g.fc())&&(e.sourceImage=n.first))},hostVars:4,hostBindings:function(t,e){1&t&&g.ec("resize",(function(){return e.onResize()}),!1,g.yc)("mousemove",(function(t){return e.moveImg(t)}),!1,g.xc)("touchmove",(function(t){return e.moveImg(t)}),!1,g.xc)("mouseup",(function(){return e.moveStop()}),!1,g.xc)("touchend",(function(){return e.moveStop()}),!1,g.xc),2&t&&(g.Gc("text-align",e.alignImage),g.Gb("disabled",e.disabled))},inputs:{format:"format",maintainAspectRatio:"maintainAspectRatio",transform:"transform",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",backgroundColor:"backgroundColor"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[g.Ab],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(g.Wb(0,"div",null,0),g.Hc(2,ke,2,5,"img",1),g.Rb(3,"div",2),g.Hc(4,ye,3,15,"div",3),g.Vb()),2&t&&(g.Gc("background",e.imageVisible&&e.backgroundColor,g.Jb),g.Cb(2),g.oc("ngIf",e.safeImgDataUrl),g.Cb(1),g.Gc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),g.Cb(1),g.oc("ngIf",e.imageVisible))},directives:[l.t],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),xe),Oe=((_e=function t(){_classCallCheck(this,t)}).\u0275mod=g.Ob({type:_e}),_e.\u0275inj=g.Nb({factory:function(t){return new(t||_e)},imports:[[l.c]]}),_e);function Pe(t,e){1&t&&(g.Wb(0,"div",23),g.Wb(1,"div",24),g.hc(),g.Wb(2,"svg",25),g.Wb(3,"rect",26),g.Rb(4,"animate",27),g.Rb(5,"animate",28),g.Vb(),g.Wb(6,"rect",29),g.Rb(7,"animate",30),g.Rb(8,"animate",31),g.Vb(),g.Wb(9,"rect",32),g.Rb(10,"animate",33),g.Rb(11,"animate",34),g.Vb(),g.Vb(),g.gc(),g.Wb(12,"span",35),g.Jc(13),g.jc(14,"translate"),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(13),g.Kc(g.kc(14,1,"global.loading")))}var Ie,We,Ve,De=((Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u){var h;return _classCallCheck(this,n),(h=e.call(this,a,s)).data=t,h.dialogRef=i,h.injector=a,h.translate=r,h.messageService=o,h.userInfoService=s,h.viewDirection=c,h.profileSettingService=l,h.loadingIndicatorService=u,h.imageChangedEvent="",h.croppedImage="",h.canvasRotation=0,h.rotation=0,h.scale=1,h.showCropper=!1,h.containWithinAspectRatio=!1,h.transform={},h.loadingIndicator={status:!1,serviceName:"imageCropper"},h._subscription=new f.Subscription,h._subscription.add(h.viewDirection.currentDirection.subscribe((function(t){return h.rtlDirection=t}))),h._subscription.add(h.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return h.loadingIndicator=t}))),h}return _createClass(n,[{key:"ngOnInit",value:function(){this.dialogData=this.data,this.fileChangeEvent(this.dialogData.data)}},{key:"closeModal",value:function(){this.dialogRef.close(!1)}},{key:"onSubmit",value:function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"imageCropper"}),this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;var e={};e.profile_image=this.croppedImage,this._subscription.add(this.profileSettingService.updateUser(e,this.loggedInUser.id).subscribe((function(e){if(e.success){var n=t.getTranslate("profileSettings.profile_update");t.messageService.showMessage(n,"success"),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"});var i=t.loggedInUser;i=Object.assign(Object.assign({},i),{profile_image:"assets/profileImg/0.jpg"}),t.userInfoService.changeUserInfo(i),i=Object.assign(Object.assign({},i),{profile_image:e.data.profile_image}),t.userInfoService.changeUserInfo(i),t.dialogRef.close(!0)}}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"})})))}},{key:"fileChangeEvent",value:function(t){this.imageChangedEvent=t}},{key:"imageCropped",value:function(t){this.croppedImage=t.base64}},{key:"imageLoaded",value:function(){this.showCropper=!0}},{key:"loadImageFailed",value:function(){var t=this.getTranslate("profileSettings.error_upload");this.messageService.showMessage(t,"error")}},{key:"rotateLeft",value:function(){this.canvasRotation--,this.flipAfterRotate()}},{key:"rotateRight",value:function(){this.canvasRotation++,this.flipAfterRotate()}},{key:"flipHorizontal",value:function(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}},{key:"flipVertical",value:function(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}},{key:"resetImage",value:function(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}}},{key:"zoomOut",value:function(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}},{key:"zoomIn",value:function(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}},{key:"toggleContainWithinAspectRatio",value:function(){this.containWithinAspectRatio=!this.containWithinAspectRatio}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}},{key:"flipAfterRotate",value:function(){var t=this.transform.flipH,e=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:e,flipV:t})}}]),n}(b.a)).\u0275fac=function(t){return new(t||Ie)(g.Qb(v.a),g.Qb(v.h),g.Qb(g.s),g.Qb(d.e),g.Qb(w.a),g.Qb(y.a),g.Qb(k.a),g.Qb(fe),g.Qb(Mt.a))},Ie.\u0275cmp=g.Kb({type:Ie,selectors:[["app-show-image-cropper"]],features:[g.zb],decls:55,vars:29,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width","bg-white",3,"dir"],[1,"full-width","height-45","padding-half","display-flex"],[1,"full-width","font-full-plus-one-tenth-em","display-flex","no-margin"],[1,"pos-rel","top-one-tenth",3,"ngClass"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","bg-grey"],[1,"full-width","full-height","pos-abs","left-0","right-0","top-0"],[1,"container-show-cropper","padding-full","display-inline-block","full-width"],[2,"width","50% !important",3,"ngClass"],["format","jpeg",2,"padding","15px !important",3,"alignImage","aspectRatio","canvasRotation","containWithinAspectRatio","cropperMinWidth","imageChangedEvent","imageQuality","maintainAspectRatio","onlyScaleDown","resizeToWidth","roundCropper","transform","imageCropped","imageLoaded","loadImageFailed"],[1,"padding-l-half","padding-r-half","half-width",3,"ngClass"],[1,"round-corner","full-width",3,"src"],[1,"container-tools","display-inline-block","full-width","height-50","margin-t-full"],[1,"display-block","cursor-pointer","text-center","no-padding","no-border","no-bg","margin-r-l",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-purple-800"],[1,"height-35","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-raised-button","","type","button",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"h3",2),g.Wb(3,"mat-icon",3),g.Jc(4,"photo_size_select_actual "),g.Vb(),g.Jc(5),g.jc(6,"translate"),g.Vb(),g.Wb(7,"div",4),g.Wb(8,"button",5),g.ec("click",(function(){return e.closeModal()})),g.Wb(9,"mat-icon",6),g.Jc(10,"close "),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(11,"div",7),g.Wb(12,"div",8),g.Wb(13,"div",9),g.Wb(14,"div",10),g.Wb(15,"image-cropper",11),g.ec("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("loadImageFailed",(function(){return e.loadImageFailed()})),g.Vb(),g.Vb(),g.Wb(16,"div",12),g.Rb(17,"img",13),g.Vb(),g.Wb(18,"div",14),g.Wb(19,"button",15),g.ec("click",(function(){return e.rotateLeft()})),g.Wb(20,"mat-icon",16),g.Jc(21," rotate_left "),g.Vb(),g.Vb(),g.Wb(22,"button",15),g.ec("click",(function(){return e.rotateRight()})),g.Wb(23,"mat-icon",16),g.Jc(24," rotate_right "),g.Vb(),g.Vb(),g.Wb(25,"button",15),g.ec("click",(function(){return e.flipHorizontal()})),g.Wb(26,"mat-icon",16),g.Jc(27,"360 "),g.Vb(),g.Vb(),g.Wb(28,"button",15),g.ec("click",(function(){return e.flipVertical()})),g.Wb(29,"mat-icon",16),g.Jc(30," swap_vert "),g.Vb(),g.Vb(),g.Wb(31,"button",15),g.ec("click",(function(){return e.zoomIn()})),g.Wb(32,"mat-icon",16),g.Jc(33,"zoom_in "),g.Vb(),g.Vb(),g.Wb(34,"button",15),g.ec("click",(function(){return e.zoomOut()})),g.Wb(35,"mat-icon",16),g.Jc(36," zoom_out "),g.Vb(),g.Vb(),g.Wb(37,"button",15),g.ec("click",(function(){return e.toggleContainWithinAspectRatio()})),g.Wb(38,"mat-icon",16),g.Jc(39," zoom_out_map "),g.Vb(),g.Vb(),g.Wb(40,"button",15),g.ec("click",(function(){return e.resetImage()})),g.Wb(41,"mat-icon",16),g.Jc(42," restore_page "),g.Vb(),g.Vb(),g.Vb(),g.Wb(43,"div",17),g.Wb(44,"button",18),g.ec("click",(function(){return e.closeModal()})),g.Wb(45,"span",19),g.Jc(46),g.jc(47,"translate"),g.Vb(),g.Vb(),g.Wb(48,"button",20),g.ec("click",(function(){return e.onSubmit()})),g.Wb(49,"mat-icon",21),g.Jc(50,"check"),g.Vb(),g.Wb(51,"span",19),g.Jc(52),g.jc(53,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Hc(54,Pe,15,3,"div",22)),2&t&&(g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(3),g.oc("ngClass",e.rtlDirection?"margin-l-half":"margin-r-half"),g.Cb(2),g.Lc(" ",g.kc(6,23,"profileSettings.edit_user_photo")," "),g.Cb(2),g.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),g.Cb(7),g.oc("ngClass",e.rtlDirection?"float-right":"float-left"),g.Cb(1),g.Gc("display",e.showCropper?null:"none"),g.oc("alignImage","center")("aspectRatio",1)("canvasRotation",e.canvasRotation)("containWithinAspectRatio",e.containWithinAspectRatio)("cropperMinWidth",200)("imageChangedEvent",e.imageChangedEvent)("imageQuality",50)("maintainAspectRatio",!0)("onlyScaleDown",!0)("roundCropper",!1)("transform",e.transform),g.Cb(1),g.oc("ngClass",e.rtlDirection?"float-right":"float-left"),g.Cb(1),g.oc("src",e.croppedImage,g.Bc),g.Cb(29),g.Kc(g.kc(47,25,"global.dismiss")),g.Cb(6),g.Kc(g.kc(53,27,"global.submit")),g.Cb(2),g.oc("ngIf",e.loadingIndicator.status&&"imageCropper"===e.loadingIndicator.serviceName))},directives:[W.b,A.a,l.q,Se,z.b,l.t],pipes:[d.d],styles:[".container-tools[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center;justify-content:center}"]}),Ie),ze=n("jaxi"),Ae=n("d3UM"),Re=n("eIep"),Le=n("Q1FS"),Te=((Ve=function t(){_classCallCheck(this,t),this.progress=0}).\u0275fac=function(t){return new(t||Ve)},Ve.\u0275cmp=g.Kb({type:Ve,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Rb(1,"div",1),g.Vb()),2&t&&(g.Cb(1),g.Gc("width",e.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:all .5s}"]}),Ve),je=((We=function(){function t(){_classCallCheck(this,t),this.fileDropped=new g.o}return _createClass(t,[{key:"onDragOver",value:function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}},{key:"onDragLeave",value:function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}},{key:"ondrop",value:function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;var e=t.dataTransfer.files;e.length>0&&this.fileDropped.emit(e)}}]),t}()).\u0275fac=function(t){return new(t||We)},We.\u0275dir=g.Lb({type:We,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(t,e){1&t&&g.ec("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&g.Gb("fileover",e.fileOver)},outputs:{fileDropped:"fileDropped"}}),We);function Ue(t,e){if(1&t&&(g.Wb(0,"div",14),g.Wb(1,"div",15),g.Wb(2,"h4",16),g.Jc(3),g.Vb(),g.Wb(4,"p",17),g.Jc(5),g.Vb(),g.Rb(6,"app-progress",18),g.Vb(),g.Vb()),2&t){var n=e.$implicit,i=g.ic(3);g.Cb(3),g.Lc(" ",null==n?null:n.name," "),g.Cb(2),g.Lc(" ",i.formatBytes(null==n?null:n.size)," "),g.Cb(1),g.oc("progress",null==n?null:n.progress)}}function Qe(t,e){if(1&t&&(g.Wb(0,"div",12),g.Hc(1,Ue,7,3,"div",13),g.Vb()),2&t){var n=g.ic(2);g.Cb(1),g.oc("ngForOf",n.files)}}function Ee(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",19),g.ec("click",(function(){return g.zc(n),g.ic(2).deleteFile(0)})),g.Wb(1,"mat-icon",20),g.Jc(2," replay "),g.Vb(),g.Vb()}}var He=function(t){return{width:t}};function Fe(t,e){if(1&t&&(g.Wb(0,"div",7),g.Wb(1,"div",8),g.Rb(2,"img",9),g.Hc(3,Qe,2,1,"div",10),g.Vb(),g.Hc(4,Ee,3,0,"div",11),g.Vb()),2&t){var n=g.ic();g.Cb(1),g.oc("ngStyle",g.rc(4,He,"calc(160px *"+n.environment.width/n.environment.height+")")),g.Cb(1),g.oc("src",n.wallpaperUrl,g.Bc),g.Cb(1),g.oc("ngIf",n.showProgress),g.Cb(1),g.oc("ngIf",n.showDelete)}}function Je(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",21),g.ec("fileDropped",(function(t){return g.zc(n),g.ic().onFileDropped(t)})),g.Wb(1,"input",22),g.ec("change",(function(t){return g.zc(n),g.ic().fileBrowseHandler(t)})),g.Vb(),g.hc(),g.Wb(2,"svg",23),g.Rb(3,"path",24),g.Rb(4,"path",25),g.Rb(5,"polyline",26),g.Rb(6,"line",27),g.Vb(),g.gc(),g.Wb(7,"h6",28),g.Jc(8),g.jc(9,"translate"),g.Vb(),g.Wb(10,"label",29),g.Wb(11,"mat-icon",30),g.Jc(12,"add"),g.Vb(),g.Wb(13,"span",31),g.Jc(14),g.jc(15,"translate"),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=g.ic();g.Cb(7),g.oc("ngClass",i.rtlDirection?"font-9-em":"font-full-plus-one-tenth-em"),g.Cb(1),g.Lc(" ",g.kc(9,3,"profileSettings.drag_drop_text1")," "),g.Cb(6),g.Kc(g.kc(15,5,"profileSettings.drag_drop_text3"))}}function Be(t,e){if(1&t){var n=g.Xb();g.Wb(0,"mat-card",32),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic().changeWallpaperPhysical(t.img)})),g.Vb()}2&t&&g.Gc("background",e.$implicit.value,g.Jb)}function Ye(t,e){1&t&&(g.Wb(0,"div",33),g.Wb(1,"div",34),g.hc(),g.Wb(2,"svg",35),g.Wb(3,"rect",36),g.Rb(4,"animate",37),g.Rb(5,"animate",38),g.Vb(),g.Wb(6,"rect",39),g.Rb(7,"animate",40),g.Rb(8,"animate",41),g.Vb(),g.Wb(9,"rect",42),g.Rb(10,"animate",43),g.Rb(11,"animate",44),g.Vb(),g.Vb(),g.gc(),g.Wb(12,"span",45),g.Jc(13),g.jc(14,"translate"),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(13),g.Kc(g.kc(14,1,"global.loading")))}var Ne,Ke=((Ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u,h,g,p,d){var m;return _classCallCheck(this,n),(m=e.call(this,o,u)).window=t,m.data=i,m.dialogRef=a,m.http=r,m.injector=o,m.translate=s,m.viewDirection=c,m.messageService=l,m.userInfoService=u,m.refreshLoginService=h,m.wallPaperSelector=g,m.profileSettingService=p,m.loadingIndicatorService=d,m.showProgress=!1,m.showDelete=!1,m.rtlDirection=!1,m.loadingIndicator={status:!1,serviceName:"wallpaper"},m.wallpapersPictures=[{id:1,value:"url(./assets/images/wallpapers/1.jpg)",img:"./assets/images/wallpapers/1.jpg"},{id:2,value:"url(./assets/images/wallpapers/2.jpg)",img:"./assets/images/wallpapers/2.jpg"},{id:3,value:"url(./assets/images/wallpapers/3.jpg)",img:"./assets/images/wallpapers/3.jpg"},{id:4,value:"url(./assets/images/wallpapers/4.jpg)",img:"./assets/images/wallpapers/4.jpg"},{id:5,value:"url(./assets/images/wallpapers/5.jpg)",img:"./assets/images/wallpapers/5.jpg"},{id:6,value:"url(./assets/images/wallpapers/6.jpg)",img:"./assets/images/wallpapers/6.jpg"},{id:7,value:"url(./assets/images/wallpapers/7.jpg)",img:"./assets/images/wallpapers/7.jpg"},{id:8,value:"url(./assets/images/wallpapers/8.jpg)",img:"./assets/images/wallpapers/8.jpg"},{id:9,value:"url(./assets/images/wallpapers/9.jpg)",img:"./assets/images/wallpapers/9.jpg"},{id:10,value:"url(./assets/images/wallpapers/10.jpg)",img:"./assets/images/wallpapers/10.jpg"},{id:11,value:"url(./assets/images/wallpapers/11.jpg)",img:"./assets/images/wallpapers/11.jpg"},{id:12,value:"url(./assets/images/wallpapers/12.jpg)",img:"./assets/images/wallpapers/12.jpg"},{id:13,value:"url(./assets/images/wallpapers/13.jpg)",img:"./assets/images/wallpapers/13.jpg"},{id:14,value:"url(./assets/images/wallpapers/14.jpg)",img:"./assets/images/wallpapers/14.jpg"},{id:15,value:"url(./assets/images/wallpapers/15.jpg)",img:"./assets/images/wallpapers/15.jpg"},{id:16,value:"url(./assets/images/wallpapers/16.jpg)",img:"./assets/images/wallpapers/16.jpg"},{id:17,value:"url(./assets/images/wallpapers/17.jpg)",img:"./assets/images/wallpapers/17.jpg"},{id:18,value:"url(./assets/images/wallpapers/18.jpg)",img:"./assets/images/wallpapers/18.jpg"},{id:19,value:"url(./assets/images/wallpapers/19.jpg)",img:"./assets/images/wallpapers/19.jpg"},{id:20,value:"url(./assets/images/wallpapers/20.jpg)",img:"./assets/images/wallpapers/20.jpg"},{id:21,value:"url(./assets/images/wallpapers/21.jpg)",img:"./assets/images/wallpapers/21.jpg"},{id:22,value:"url(./assets/images/wallpapers/22.jpg)",img:"./assets/images/wallpapers/22.jpg"},{id:23,value:"url(./assets/images/wallpapers/23.jpg)",img:"./assets/images/wallpapers/23.jpg"},{id:24,value:"url(./assets/images/wallpapers/24.jpg)",img:"./assets/images/wallpapers/24.jpg"},{id:25,value:"url(./assets/images/wallpapers/25.jpg)",img:"./assets/images/wallpapers/25.jpg"},{id:26,value:"url(./assets/images/wallpapers/26.jpg)",img:"./assets/images/wallpapers/26.jpg"},{id:27,value:"url(./assets/images/wallpapers/27.jpg)",img:"./assets/images/wallpapers/27.jpg"}],m.files=[],m.wallpaperUrl="",m._subscription=new f.Subscription,m._subscription.add(m.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return m.loadingIndicator=t}))),m._subscription.add(m.viewDirection.currentDirection.subscribe((function(t){return m.rtlDirection=t}))),m}return _createClass(n,[{key:"ngOnInit",value:function(){this.environment=window.outerWidth}},{key:"onFileDropped",value:function(t){this.prepareFilesList(t);var e=t[0];this.sellersPermitFile=e,this.handleInputChange(e)}},{key:"fileBrowseHandler",value:function(t){this.prepareFilesList(t.target.files);var e=t.target.files;if(e.length>0){var n=e[0];this.sellersPermitFile=n,this.handleInputChange(n)}else alert("No file selected")}},{key:"deleteFile",value:function(t){this.files.splice(t,1),this.wallpaperUrl="",this.showProgress=!1,this.showDelete=!1}},{key:"uploadFilesSimulator",value:function(t){var e=this;setTimeout((function(){if(t!==e.files.length)var n=setInterval((function(){100===e.files[t].progress?(clearInterval(n),e.uploadFilesSimulator(t+1),e.onSubmit(e.wallpaperUrl)):e.files[t].progress+=5}),200)}),1e3)}},{key:"prepareFilesList",value:function(t){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.progress=0,this.files.push(i)}}catch(a){n.e(a)}finally{n.f()}this.uploadFilesSimulator(0)}},{key:"formatBytes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return"0 Bytes";var n=e<=0?0:e||2,i=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}},{key:"handleInputChange",value:function(t){var e=t,n=new FileReader;e.type.match(/image-*/)?(n.onloadend=this._handleReaderLoaded.bind(this),n.readAsDataURL(e)):alert("invalid format")}},{key:"_handleReaderLoaded",value:function(t){var e=t.target.result;this.imageSrc=e,this.wallpaperUrl=e,this.showProgress=!0,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"})}},{key:"onSubmit",value:function(t){var e=this;this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;var n={};n.background_image=t,this._subscription.add(this.profileSettingService.updateUser(n,this.loggedInUser.id).subscribe((function(t){if(t.success){var n=e.getTranslate("profileSettings.profile_update");e.messageService.showMessage(n,"success"),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),e.showProgress=!1,e.showDelete=!0;var i=e.loggedInUser;i=Object.assign(Object.assign({},i),{background_image:t.data.background_image}),e.userInfoService.changeUserInfo(i),e.changeWallpaper("url("+t.data.background_image+")")}}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),e.showProgress=!1,e.showDelete=!0,e.refreshLoginService.openLoginDialog(t)})))}},{key:"changeWallpaperPhysical",value:function(t){var e=this;this.http.get(t,{responseType:"blob"}).pipe(Object(Re.a)((function(t){return e.convertBlobToBase64(t)}))).subscribe((function(t){e.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"}),e.onSubmit(t)}))}},{key:"convertBlobToBase64",value:function(t){return Le.Observable.create((function(e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e.next(t.target.result),e.complete()},n.onerror=function(t){e.next(t.target.error.code),e.complete()}}))}},{key:"changeWallpaper",value:function(t){this.wallPaperSelector.changeWallpaper(t)}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||Ne)(g.Qb("windowObject"),g.Qb(v.a),g.Qb(v.h),g.Qb(_.a),g.Qb(g.s),g.Qb(d.e),g.Qb(k.a),g.Qb(w.a),g.Qb(y.a),g.Qb(xt.a),g.Qb(O),g.Qb(fe),g.Qb(Mt.a))},Ne.\u0275cmp=g.Kb({type:Ne,selectors:[["app-wallpaper"]],features:[g.zb],decls:11,vars:12,consts:[[1,"full-height",3,"dir"],["class","pos-rel",4,"ngIf","ngIfElse"],["emptyWallpaperUrl",""],[1,"height-35","line-height-35","no-margin","font-full-em"],[1,"display-block","height-full-minus-175","custom-mat-dialog-content","no-padding","overflow-y-auto","display-flex","flex-direction-row","flex-wrap","flex-space-between"],["class","mat-elevation-z1 full-width height-100 wallpaper thirty-width cursor-pointer margin-b-full",3,"background","click",4,"ngFor","ngForOf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"pos-rel"],[1,"height-135","pos-rel","margin-auto","round-corner","monitor-image","display-flex","justify-content-center","overflow-hide",2,"background-color","blueviolet","height","100vh","max-height","160px",3,"ngStyle"],["alt","",1,"display-block","margin-auto","full-height",3,"src"],["class","files-list pos-abs bottom-0 full-width z-index-9999","dir","ltr",4,"ngIf"],["class","delete pos-abs right-0 cursor-pointer",3,"click",4,"ngIf"],["dir","ltr",1,"files-list","pos-abs","bottom-0","full-width","z-index-9999"],["class","single-file display-flex round-corner align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"single-file","display-flex","round-corner","align-items-center","justify-content-center"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],[1,"delete","pos-abs","right-0","cursor-pointer",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-green-800"],["appDnd","",1,"wallpaper-container","full-width","height-135","padding-half","round-corner","bg-white","cursor-pointer","margin-auto","pos-rel","text-center",3,"fileDropped"],["id","fileDropRef","multiple","","type","file",1,"pos-abs","full-width","full-height","top-0","left-0","right-0",3,"change"],["fill","none","height","44","stroke","#009688","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","viewBox","0 0 24 24","width","44","xmlns","http://www.w3.org/2000/svg",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["d","M0 0h24v24H0z","stroke","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9h0a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","x2","12","y1","12","y2","21"],[1,"no-margin",3,"ngClass"],["for","fileDropRef",1,"margin-t-full","display-inline-block","cursor-pointer","mat-raised-button","green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","text-weight-normal"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],[1,"mat-elevation-z1","full-width","height-100","wallpaper","thirty-width","cursor-pointer","margin-b-full",3,"click"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t&&(g.Wb(0,"div",0),g.Hc(1,Fe,5,6,"div",1),g.Hc(2,Je,16,7,"ng-template",null,2,g.Ic),g.Wb(4,"h6",3),g.Jc(5),g.jc(6,"translate"),g.jc(7,"translate"),g.Vb(),g.Wb(8,"div",4),g.Hc(9,Be,1,2,"mat-card",5),g.Vb(),g.Vb(),g.Hc(10,Ye,15,3,"div",6)),2&t){var n=g.vc(3);g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(1),g.oc("ngIf",""!==e.wallpaperUrl)("ngIfElse",n),g.Cb(4),g.Nc(" ",g.kc(6,8,"profileSettings.choose_wallpaper")," (",e.wallpapersPictures.length," ",g.kc(7,10,"global.items"),") "),g.Cb(4),g.oc("ngForOf",e.wallpapersPictures),g.Cb(1),g.oc("ngIf",e.loadingIndicator.status&&"wallpaper"===e.loadingIndicator.serviceName)}},directives:[W.b,l.t,l.s,l.w,Te,A.a,je,l.q,Ot.a],pipes:[d.d],styles:[".monitor-image[_ngcontent-%COMP%]{background-image:url(hachure.14d9ec90316d56949c06.jpg);background-size:cover}.wallpaper-container[_ngcontent-%COMP%]{border:1px dashed #979797}.wallpaper-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;z-index:2}.wallpaper-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.wallpaper-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{-webkit-animation:shake 1s;animation:shake 1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.delete[_ngcontent-%COMP%]{top:-.3rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0 0 .25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),Ne);function Xe(t,e){1&t&&(g.Wb(0,"mat-error"),g.Jc(1),g.jc(2,"translate"),g.Vb()),2&t&&(g.Cb(1),g.Kc(g.kc(2,1,"global.extension_error")))}function qe(t,e){if(1&t){var n=g.Xb();g.Wb(0,"mat-option",57),g.ec("click",(function(){g.zc(n);var t=e.$implicit;return g.ic(3).setClockCity(t)})),g.Jc(1),g.Vb()}if(2&t){var i=e.$implicit;g.oc("value",i),g.Cb(1),g.Mc(" ",i.city," - ",i.timezone," ")}}function Ge(t,e){if(1&t&&(g.Wb(0,"mat-option",58),g.Jc(1),g.Vb()),2&t){var n=e.$implicit;g.oc("value",n.id),g.Cb(1),g.Lc(" ",n.name," ")}}function $e(t,e){if(1&t){var n=g.Xb();g.Wb(0,"form",23),g.Wb(1,"div",24),g.Wb(2,"div",25),g.Wb(3,"mat-form-field",26),g.Wb(4,"mat-label"),g.Jc(5),g.jc(6,"translate"),g.Vb(),g.Rb(7,"input",27),g.jc(8,"translate"),g.Wb(9,"mat-error"),g.Jc(10),g.jc(11,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(12,"div",24),g.Wb(13,"div",28),g.Wb(14,"mat-form-field",26),g.Wb(15,"mat-label"),g.Jc(16),g.jc(17,"translate"),g.Vb(),g.Rb(18,"input",29),g.jc(19,"translate"),g.Wb(20,"mat-error"),g.Jc(21),g.jc(22,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Wb(23,"div",28),g.Wb(24,"mat-form-field",26),g.Wb(25,"mat-label"),g.Jc(26),g.jc(27,"translate"),g.Vb(),g.Rb(28,"input",30),g.jc(29,"translate"),g.Wb(30,"mat-error"),g.Jc(31),g.jc(32,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(33,"div",24),g.Wb(34,"div",28),g.Wb(35,"mat-form-field",26),g.Wb(36,"mat-label"),g.Jc(37),g.jc(38,"translate"),g.Vb(),g.Rb(39,"input",31),g.jc(40,"translate"),g.Hc(41,Xe,3,3,"mat-error",32),g.Vb(),g.Vb(),g.Wb(42,"div",28),g.Wb(43,"mat-form-field",26),g.Wb(44,"mat-label"),g.Jc(45),g.jc(46,"translate"),g.Vb(),g.Wb(47,"input",33),g.ec("click",(function(t){return g.zc(n),t.stopPropagation()})),g.Vb(),g.Wb(48,"mat-autocomplete",34,35),g.Hc(50,qe,2,3,"mat-option",36),g.jc(51,"async"),g.Vb(),g.Wb(52,"mat-error"),g.Jc(53),g.jc(54,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(55,"div",37),g.Wb(56,"div",28),g.Wb(57,"mat-form-field",26),g.Wb(58,"mat-label",38),g.Wb(59,"mat-icon"),g.Jc(60,"translate"),g.Vb(),g.Vb(),g.Wb(61,"mat-select",39),g.ec("selectionChange",(function(t){return g.zc(n),g.ic(2).changeLang(t)}))("valueChange",(function(t){return g.zc(n),g.ic(2).defaultLang=t})),g.Hc(62,Ge,2,2,"mat-option",40),g.Vb(),g.Vb(),g.Vb(),g.Wb(63,"div",28),g.Wb(64,"div",41),g.Wb(65,"div",42),g.Wb(66,"label",43),g.Wb(67,"input",44),g.ec("change",(function(t){return g.zc(n),g.ic(2).changeDarkMode(t)})),g.Vb(),g.Rb(68,"span",45),g.Wb(69,"span",46),g.hc(),g.Wb(70,"svg",47),g.Rb(71,"circle",48),g.Vb(),g.Wb(72,"svg",47),g.Rb(73,"circle",48),g.Vb(),g.Wb(74,"svg",47),g.Rb(75,"circle",48),g.Vb(),g.Wb(76,"svg",47),g.Rb(77,"circle",48),g.Vb(),g.Wb(78,"svg",47),g.Rb(79,"circle",48),g.Vb(),g.Wb(80,"svg",47),g.Rb(81,"circle",48),g.Vb(),g.Wb(82,"svg",47),g.Rb(83,"circle",48),g.Vb(),g.Wb(84,"svg",47),g.Rb(85,"circle",48),g.Vb(),g.Vb(),g.gc(),g.Wb(86,"span",49),g.Jc(87),g.jc(88,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(89,"div",37),g.Wb(90,"div",50),g.Wb(91,"mat-icon",51),g.Jc(92," warning "),g.Vb(),g.Wb(93,"b",52),g.Jc(94),g.jc(95,"translate"),g.Vb(),g.Wb(96,"span",53),g.Jc(97),g.jc(98,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Wb(99,"div",54),g.Wb(100,"div",25),g.Wb(101,"button",55),g.ec("click",(function(){return g.zc(n),g.ic(2).onSubmit()})),g.Wb(102,"span",56),g.Jc(103),g.jc(104,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&t){var i=g.vc(49),a=g.ic(2);g.oc("formGroup",a.form),g.Cb(5),g.Kc(g.kc(6,28,"profileSettings.name_family")),g.Cb(2),g.pc("placeholder",g.kc(8,30,"profileSettings.name_family")),g.Cb(3),g.Kc(g.kc(11,32,"global.name_error")),g.Cb(6),g.Kc(g.kc(17,34,"global.email")),g.Cb(2),g.pc("placeholder",g.kc(19,36,"global.email")),g.Cb(3),g.Lc(" ",g.kc(22,38,"global.email_error")," "),g.Cb(5),g.Kc(g.kc(27,40,"login_info.password")),g.Cb(2),g.pc("placeholder",g.kc(29,42,"login_info.password")),g.Cb(3),g.Kc(g.kc(32,44,"login_info.password_error")),g.Cb(6),g.Kc(g.kc(38,46,"global.extension_placeholder")),g.Cb(2),g.pc("placeholder",g.kc(40,48,"global.extension_placeholder")),g.Cb(2),g.oc("ngIf",!a.form.get("extension_no").valid),g.Cb(4),g.Kc(g.kc(46,50,"profileSettings.timezone")),g.Cb(2),g.oc("matAutocomplete",i),g.Cb(1),g.oc("displayWith",a.displayFn),g.Cb(2),g.oc("ngForOf",g.kc(51,52,a.filteredOptions)),g.Cb(3),g.Kc(g.kc(54,54,"profileSettings.timezone_error")),g.Cb(8),g.oc("value",a.defaultLang),g.Cb(1),g.oc("ngForOf",a.langs),g.Cb(4),g.oc("ngClass",a.rtlDirection?"margin-r-reverse":"margin-l-reverse"),g.Cb(1),g.oc("checked",a.selectDarkMode),g.Cb(19),g.oc("ngClass",a.rtlDirection?"l-reverse":"r-reverse"),g.Cb(1),g.Lc("",g.kc(88,56,a.loggedInUser&&a.loggedInUser.dark_mode?"profileSettings.dark_mode":"profileSettings.light_mode")," "),g.Cb(7),g.Kc(g.kc(95,58,"profileSettings.change_lang_warning_note")),g.Cb(3),g.Kc(g.kc(98,60,"profileSettings.change_lang_warning_text")),g.Cb(4),g.oc("disabled",!a.form.valid||!a.changeValueForm),g.Cb(2),g.Kc(g.kc(104,62,"global.submit"))}}function Ze(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",13),g.Wb(1,"div",14),g.Wb(2,"div",15),g.Wb(3,"div",16),g.Rb(4,"img",17),g.Wb(5,"label",18),g.Wb(6,"mat-icon",19),g.Jc(7," camera_alt "),g.Vb(),g.Vb(),g.Wb(8,"input",20),g.ec("change",(function(t){return g.zc(n),g.ic().fileChangeEvent(t)}))("ngModelChange",(function(t){return g.zc(n),g.ic().resetInput=t})),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(9,"div",21),g.Hc(10,$e,105,64,"form",22),g.Vb(),g.Vb()}if(2&t){var i=g.ic();g.Cb(4),g.oc("alt",i.loggedInUser?i.loggedInUser.name:"")("src",i.loggedInUser&&i.loggedInUser.profile_image?i.loggedInUser.profile_image:i.loggedInUser.email,g.Bc),g.Cb(4),g.oc("ngModel",i.resetInput),g.Cb(2),g.oc("ngIf",i.form)}}function tn(t,e){1&t&&(g.Wb(0,"div",13),g.Rb(1,"app-wallpaper"),g.Vb())}function en(t,e){1&t&&(g.Wb(0,"div",59),g.Wb(1,"div",60),g.hc(),g.Wb(2,"svg",61),g.Wb(3,"rect",62),g.Rb(4,"animate",63),g.Rb(5,"animate",64),g.Vb(),g.Wb(6,"rect",65),g.Rb(7,"animate",66),g.Rb(8,"animate",67),g.Vb(),g.Wb(9,"rect",68),g.Rb(10,"animate",69),g.Rb(11,"animate",70),g.Vb(),g.Vb(),g.gc(),g.Wb(12,"span",71),g.Jc(13),g.jc(14,"translate"),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(13),g.Kc(g.kc(14,1,"global.loading")))}var nn,an=function(t){return{"view-mode":t}},rn=((nn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u,h,g,p,d,m){var b;return _classCallCheck(this,n),(b=e.call(this,o,l)).data=t,b.dialog=i,b.dialogRef=a,b.fb=r,b.injector=o,b.translate=s,b.messageService=c,b.userInfoService=l,b.dateTimeService=u,b.viewDirection=h,b.refreshLoginService=g,b.windowManagerService=p,b.profileSettingService=d,b.loadingIndicatorService=m,b.changeValueForm=!1,b.viewModeTypes="information",b.loadingIndicator={status:!1,serviceName:"changeLang"},b.langs=[{id:"en",name:"English"},{id:"fa",name:"\u067e\u0627\u0631\u0633\u06cc"}],b._subscription=new f.Subscription,b._subscription.add(b.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return b.loadingIndicator=t}))),b._subscription.add(b.userInfoService.currentUserInfo.subscribe((function(t){return b.loggedInUser=t}))),b._subscription.add(b.viewDirection.currentDirection.subscribe((function(t){return b.rtlDirection=t}))),b.checkMoreClock=!1,b.options=u.timezones,b.cityClocksList=[{city:"Tehran",timezone:"Asia/Tehran"}],b}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.createForm().then((function(){return t.formPatchValue()})),this.filteredOptions=this.form.get("timezone").valueChanges.pipe(Object(Yt.a)(""),Object(Nt.a)((function(t){return"string"==typeof t?t:t.name})),Object(Nt.a)((function(e){return e?t.filter(e):t.options.slice()}))),this._subscription.add(this.form.valueChanges.subscribe((function(e){t.changeValueForm=!0})))}},{key:"changeViewMode",value:function(t){this.viewModeTypes=t}},{key:"createForm",value:function(){var t=this;return new Promise((function(e){t.form=t.fb.group({name:new _t.g("",_t.G.required),email:new _t.g("",[_t.G.required,_t.G.email]),c_password:new _t.g(null),extension_no:new _t.g(""),timezone:new _t.g("",_t.G.required),dark_mode:new _t.g(0),lang:new _t.g(t.rtlDirection?"fa":"en")}),e(!0)}))}},{key:"formPatchValue",value:function(){null!==this.loggedInUser.lang&&(this.defaultLang=this.loggedInUser.lang),null!==this.loggedInUser.dark_mode&&(this.selectDarkMode=this.loggedInUser.dark_mode);var t={},e=this.loggedInUser.timezone;t.city=""!==this.loggedInUser.timezone&&null!==this.loggedInUser.timezone?this.loggedInUser.timezone.split("/")[1]:"",t.timezone=e,this.form.patchValue({name:this.loggedInUser.name,email:this.loggedInUser.email,extension_no:this.loggedInUser.extension_no,timezone:t,dark_mode:this.loggedInUser.dark_mode,lang:this.loggedInUser.lang}),this.changeValueForm=!1}},{key:"close",value:function(){this.dialogRef.close()}},{key:"displayFn",value:function(t){return t&&t.city?t.city:""}},{key:"changeDarkMode",value:function(t){this.form.get("dark_mode").setValue(t.target.checked?1:0)}},{key:"changeLang",value:function(t){this.form.get("lang").setValue(t.value)}},{key:"onSubmit",value:function(){var t=this;this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"changeLang"});var e={};e.email=this.form.get("email").value,e.name=this.form.get("name").value,e.timezone=this.form.get("timezone").value.timezone,null!==this.form.get("c_password").value&&(e.c_password=this.form.get("c_password").value),null!==this.form.get("extension_no").value&&(e.extension_no=this.form.get("extension_no").value),e.lang=this.form.get("lang").value,e.dark_mode=this.form.get("dark_mode").value;var n=this.viewDirection.getCurrentLang(),i=e.lang!==n;if(i){var a=this.dialog.open(wt.a,{data:{title:this.getTranslate("profileSettings.change_lang_warning_note"),message:this.getTranslate("profileSettings.change_lang_warning_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(a.id),this._subscription.add(a.afterClosed().subscribe((function(a){a?t.updateUser(e,i):(t.defaultLang=n,t.form.get("lang").setValue(n),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}))})))}else this.updateUser(e,!1)}},{key:"updateUser",value:function(t,e){var n=this;this._subscription.add(this.profileSettingService.updateUser(t,this.loggedInUser.id).subscribe((function(t){if(t.success){n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),null!==t.data.lang&&(n.defaultLang=t.data.lang,n.viewDirection.changeDirection("fa"===t.data.lang)),null!==t.data.dark_mode&&(n.selectDarkMode=t.data.dark_mode),t.data.dark_mode!==n.loggedInUser.dark_mode&&n.userInfoService.changeDarkMode();var e=n.loggedInUser,i=t.data;e=Object.assign(Object.assign({},e),{profile_image:i.profile_image,background_image:i.background_image,email:i.email,name:i.name,timezone:i.timezone,lang:i.lang,dark_mode:i.dark_mode,extension_no:i.extension_no,status:i.status}),n.userInfoService.changeUserInfo(e),n.dialogRef.close(),setTimeout((function(){var t=n.getTranslate("profileSettings.profile_update");n.messageService.showMessage(t,"success")}),200)}else n.form.enable(),n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"});n.changeValueForm=!1}),(function(t){n.form.enable(),n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),n.refreshLoginService.openLoginDialog(t)})))}},{key:"setClockCity",value:function(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.push(t)}},{key:"fileChangeEvent",value:function(t){this.showCropperImage(t)}},{key:"showCropperImage",value:function(t){var e=this,n=this.dialog.open(De,{data:{data:t},autoFocus:!1,width:"900px",height:"615px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(n.id),this._subscription.add(n.afterClosed().subscribe((function(t){e.resetInput="",t&&e.dialogRef.close()})))}},{key:"getTranslate",value:function(t){return this.translate.instant(t)}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return 0===t.city.toLowerCase().indexOf(e)}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||nn)(g.Qb(v.a),g.Qb(v.b),g.Qb(v.h),g.Qb(_t.f),g.Qb(g.s),g.Qb(d.e),g.Qb(w.a),g.Qb(y.a),g.Qb(Kt.a),g.Qb(k.a),g.Qb(xt.a),g.Qb(P.a),g.Qb(fe),g.Qb(Mt.a))},nn.\u0275cmp=g.Kb({type:nn,selectors:[["app-profile-setting"]],features:[g.zb],decls:24,vars:20,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0",3,"dir"],[1,"full-width","height-45","padding-half","display-flex","bg-white","border-bottom"],[1,"text-gray-800","font-full-em","text-weight-500","padding-mini-r-l","no-margin"],[1,"pos-abs","top-fourth-tenth","content-switcher"],[1,"full-width","mat-button-custom","line-height-20","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","height-full-minus-45","padding-full"],["class","full-height",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"full-height"],[1,"container-image-profile","display-flex","justify-content-center"],[1,"image-profile","margin-t-full-2","margin-b-full"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-150","height-150","overflow-hide"],["onerror","this.src='assets/profileImg/0.jpg'",1,"full-width","full-height","cursor-pointer",3,"alt","src"],["for","fileChange",1,"overlay-image","cursor-pointer","pos-abs","full-width","full-height","purple-gradient"],[1,"no-padding","full-width","full-height","line-height-150","font-full-rem-2","text-white"],["hidden","","id","fileChange","type","file",3,"ngModel","change","ngModelChange"],[1,"full-width","display-inline-block","margin-t-full"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"display-flex","margin-r-l-reverse","margin-b-half"],[1,"full-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","name","matInput","","required","",1,"full-width",3,"placeholder"],[1,"half-width","padding-r-l"],["formControlName","email","matInput","","required","","type","email",1,"full-width","text-left",3,"placeholder"],["formControlName","c_password","matInput","","type","password",1,"full-width",3,"placeholder"],["formControlName","extension_no","matInput","","type","tel",1,"full-width",3,"placeholder"],[4,"ngIf"],["formControlName","timezone","matInput","","required","","type","text",1,"full-width",3,"matAutocomplete","click"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"display-flex","margin-r-l-reverse"],[1,"text-weight-bold"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"display-flex","dark-mode","height-50","align-items-center"],[1,"container-dark-mode"],["for","darkMode",3,"ngClass"],["id","darkMode","type","checkbox",3,"checked","change"],[1,"planet","display-block"],[1,"elements","display-block"],["version","1.1","viewBox","0 0 500 500","xmlns","http://www.w3.org/2000/svg"],["cx","250","cy","250","r","200"],[1,"pos-abs","top-full-plus-half",3,"ngClass"],[1,"padding-r-l","display-flex"],[1,"width-18","height-18","line-height-20","font-full-plus-two-tenth-em","text-orange-700"],[1,"text-orange-700"],[1,"font-9-em","padding-tiny-r-l"],[1,"display-flex","margin-r-l-reverse","margin-t-half"],["mat-raised-button","","tabindex","13","type","submit",1,"full-width","green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],[1,"padding-mini-r-l"],[3,"value","click"],[3,"value"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t){var n=g.Xb();g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"h1",2),g.Jc(3),g.jc(4,"translate"),g.Vb(),g.Wb(5,"div",3),g.Wb(6,"mat-button-toggle-group",4,5),g.ec("change",(function(){g.zc(n);var t=g.vc(7);return e.changeViewMode(t.value)})),g.Wb(8,"mat-button-toggle",6),g.Wb(9,"span"),g.Jc(10),g.jc(11,"translate"),g.Vb(),g.Vb(),g.Wb(12,"mat-button-toggle",6),g.Wb(13,"span"),g.Jc(14),g.jc(15,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(16,"div",7),g.Wb(17,"button",8),g.ec("click",(function(){return e.close()})),g.Wb(18,"mat-icon",9),g.Jc(19,"close "),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(20,"div",10),g.Hc(21,Ze,11,4,"div",11),g.Hc(22,tn,2,0,"div",11),g.Vb(),g.Vb(),g.Hc(23,en,15,3,"div",12)}if(2&t){var i=g.vc(7);g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(3),g.Lc(" ",g.kc(4,12,"profileSettings.profile_settings")," "),g.Cb(3),g.oc("ngClass",g.rc(18,an,i))("value",e.viewModeTypes),g.Cb(2),g.oc("value","information"),g.Cb(2),g.Kc(g.kc(11,14,"profileSettings.profile_information")),g.Cb(2),g.oc("value","wallpaper"),g.Cb(2),g.Kc(g.kc(15,16,"profileSettings.profile_wallpaper")),g.Cb(2),g.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),g.Cb(5),g.oc("ngIf","information"===e.viewModeTypes),g.Cb(1),g.oc("ngIf","wallpaper"===e.viewModeTypes),g.Cb(1),g.oc("ngIf",e.loadingIndicator.status&&"changeLang"===e.loadingIndicator.serviceName)}},directives:[W.b,ze.b,l.q,ze.a,A.a,l.t,_t.c,_t.s,_t.v,_t.I,_t.t,_t.k,Pt.c,Pt.g,It.b,_t.i,_t.D,Pt.b,ie.d,ie.a,l.s,Ae.a,z.b,D.o,Ke],pipes:[d.d,l.b],styles:['.container-image-profile[_ngcontent-%COMP%]   .overlay-image[_ngcontent-%COMP%]{background-image:linear-gradient(-20deg,rgba(74,20,140,.6509803921568628),rgba(206,147,216,.6705882352941176));display:block;opacity:0;transition:opacity .4s ease-in-out}.image-profile[_ngcontent-%COMP%]:hover   .overlay-image[_ngcontent-%COMP%]{opacity:1}.content-switcher[_ngcontent-%COMP%]{transform:translate(-50%);left:50%}.dark-mode[_ngcontent-%COMP%]{--bg-planet-bright:#f2c94c!important;--bg-planet-shadow:#828894!important;--bg-planet-lightshadow:rgba(215,215,216,0.12549019607843137)!important;--dot-size:0.25rem!important;box-sizing:border-box!important;-webkit-font-smoothing:antialiased!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{min-height:50px!important;display:flex!important;justify-content:center!important;align-items:center!important;transition:background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer!important;padding:1rem!important;position:relative!important;-webkit-tap-highlight-color:rgba(255,255,255,0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:0!important;width:0!important;visibility:hidden!important;position:absolute!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]{width:1.8rem!important;height:1.8rem!important;border-radius:50%!important;overflow:hidden!important;background:radial-gradient(3.75em,99%,transparent 100%)!important;background-color:var(--bg-planet-bright)!important;background-repeat:no-repeat!important;position:relative!important;will-change:background!important;transition:all .4s ease!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;transform:translateZ(0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]:after{content:""!important;background-color:var(--bg-planet-shadow)!important;width:2rem!important;height:2rem!important;position:absolute!important;border-radius:50%!important;will-change:opacity,transform,background-color!important;opacity:0!important;transform:translate(2em,-2em)!important;transition:opacity .4s ease,transform .4s ease,background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{width:100%!important;height:100%!important;position:absolute!important;top:0!important;left:0!important;transition:transform .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{left:2px;top:2px;position:absolute!important;width:7px!important;height:7px!important;opacity:1!important;transition:transform .4s ease,opacity .2s ease,width .2s ease,height .2s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-bright)!important;transition:fill .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(1.8em,.35em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(2.8em,.7em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3){transform:translate(3.2em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(2.8em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.8em,3.2em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(.7em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(.35em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){transform:translate(.7em,.7em)!important}.dark-mode.bg-dark[_ngcontent-%COMP%]{--bg-color:#2c3144!important}.dark-mode.bg-dark[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{background-color:var(--bg-color)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(.8)}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]{--bg-planet-bright:#d7d7d8!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]:after{opacity:1!important;transform:translate(.6em,-.5em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]{transform:rotate(180deg)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(2em,1em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(3em,1.5em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3), .dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(3em,2em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.9em,2.6em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(1.4em,2.5em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(1.1em,1.6em)!important;width:.7em!important;height:.7em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){width:.45em!important;height:.45em!important;transform:translate(1.7em,2.1em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.margin-l-reverse[_ngcontent-%COMP%]{margin-left:-1em!important}.margin-r-reverse[_ngcontent-%COMP%]{margin-right:-1em!important}.l-reverse[_ngcontent-%COMP%]{left:-110%!important}.r-reverse[_ngcontent-%COMP%]{right:-110%!important}.english-lang[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]{transition:all .3s!important}.english-lang.active[_ngcontent-%COMP%], .english-lang[_ngcontent-%COMP%]:hover, .parsi-lang.active[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]:hover{border-bottom:1px solid red}.line-height-150[_ngcontent-%COMP%]{line-height:150px!important}.border-bottom[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}']}),nn);function on(t,e){if(1&t){var n=g.Xb();g.Ub(0),g.Wb(1,"h4",5),g.Wb(2,"mat-icon",6),g.Jc(3," person_outline "),g.Vb(),g.Wb(4,"span",7),g.Wb(5,"span",8),g.Jc(6),g.Vb(),g.Wb(7,"span",9),g.Jc(8),g.Vb(),g.Vb(),g.Vb(),g.Wb(9,"button",10),g.ec("click",(function(){return g.zc(n),g.ic().showProfileSetting()})),g.Wb(10,"mat-icon",11),g.Jc(11,"settings"),g.Vb(),g.Wb(12,"span",11),g.Jc(13),g.jc(14,"translate"),g.Vb(),g.Vb(),g.Wb(15,"button",10),g.ec("click",(function(){return g.zc(n),g.ic().logout()})),g.Wb(16,"mat-icon",11),g.Jc(17,"power_settings_new"),g.Vb(),g.Wb(18,"span",11),g.Jc(19),g.jc(20,"translate"),g.Vb(),g.Vb(),g.Tb()}if(2&t){var i=g.ic();g.Cb(2),g.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),g.Cb(4),g.Kc(i.loggedInUser?i.loggedInUser.name:""),g.Cb(2),g.Kc(i.loggedInUser?i.loggedInUser.role.title:""),g.Cb(5),g.Kc(g.kc(14,5,"profileSettings.profile_settings")),g.Cb(6),g.Kc(g.kc(20,7,"dashboard.dashboard_toolbar.exist_app"))}}var sn,cn,ln,un,hn=((ln=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l){var u;return _classCallCheck(this,n),(u=e.call(this,o,s)).window=t,u.dialog=i,u.router=a,u.api=r,u.injector=o,u.userInfoService=s,u.softPhoneService=c,u.windowManagerService=l,u._subscription=new f.Subscription,u}return _createClass(n,[{key:"logout",value:function(){var t=this;this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.logout().subscribe((function(e){e.success&&t.clearData()}),(function(){t.clearData()})))}},{key:"clearData",value:function(){var t=this;this.userInfoService.changeLoginData(null),this.softPhoneService.sipHangUp(),this.windowManagerService.closeAllServices().then((function(){setTimeout((function(){return t.router.navigateByUrl("/login")}),500)}))}},{key:"showProfileSetting",value:function(){var t=this.dialog.open(rn,{autoFocus:!1,width:"480px",height:"565px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||ln)(g.Qb("windowObject"),g.Qb(v.b),g.Qb(c.a),g.Qb(C.a),g.Qb(g.s),g.Qb(y.a),g.Qb(M.a),g.Qb(P.a))},ln.\u0275cmp=g.Kb({type:ln,selectors:[["app-profile-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser"},features:[g.zb],decls:5,vars:5,consts:[[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-40","height-40","overflow-hide",3,"dir"],["onerror","this.src='assets/profileImg/0.jpg'",1,"full-width","full-height","cursor-pointer",3,"alt","matMenuTriggerFor","src"],["xPosition","before","yPosition","above",1,"toolbar-menu","box-menu-profile","padding-r-l"],["profileMenu","matMenu"],[4,"ngIf"],["mat-subheader","","matLine","",1,"padding-half","text-weight-normal","font-9-rem","text-dark-mode-color","no-margin"],[1,"text-dark-mode-color","text-gray-600",3,"ngClass"],[1,"display-flex","flex-direction-column"],["matLine",""],["matLine","",1,"font-8-em"],["mat-menu-item","",1,"font-7-rem","padding-mini-r-l",3,"click"],[1,"text-dark-mode-color"]],template:function(t,e){if(1&t&&(g.Wb(0,"div",0),g.Rb(1,"img",1),g.Vb(),g.Wb(2,"mat-menu",2,3),g.Hc(4,on,21,9,"ng-container",4),g.Vb()),2&t){var n=g.vc(3);g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(1),g.oc("alt",e.loggedInUser?e.loggedInUser.name:"")("matMenuTriggerFor",n)("src",e.loggedInUser&&e.loggedInUser.profile_image?e.loggedInUser.profile_image:e.loggedInUser.email,g.Bc),g.Cb(3),g.oc("ngIf",e.loggedInUser)}},directives:[W.b,it.d,it.e,l.t,V.g,D.k,A.a,l.q,it.b],pipes:[d.d],encapsulation:2}),ln),gn=((cn=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||cn)},cn.\u0275cmp=g.Kb({type:cn,selectors:[["app-dashboard-toolbar"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:8,vars:20,consts:[[1,"toolbar-container","display-flex","flex-space-between",3,"dir"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"rtlDirection","windowManager"],[1,"flex-spacer"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Rb(1,"app-main-menu",1),g.Rb(2,"app-window-app-container",2),g.Rb(3,"div",3),g.Rb(4,"app-company-selector",4),g.Rb(5,"app-user-status",5),g.Rb(6,"app-time-area",6),g.Rb(7,"app-profile-menu",6),g.Vb()),2&t&&(g.oc("dir",e.rtlDirection?"rtl":"ltr"),g.Cb(1),g.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),g.Cb(1),g.oc("rtlDirection",e.rtlDirection)("windowManager",e.windowManager),g.Cb(2),g.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection),g.Cb(1),g.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),g.Cb(1),g.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection),g.Cb(1),g.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection))},directives:[W.b,ot,l.q,pt,vt,Bt,me,hn],styles:['.toolbar-container .box-holder{margin:0 1em}.toolbar-container .box .mat-icon{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.toolbar-container .app-open{margin:0 .5em}.toolbar-container .app-open:before{content:"";position:absolute;bottom:0;left:0;margin:auto;right:0;width:75%;height:3px;background-color:#f57c00}.toolbar-container .app-open.app-minimized:before{width:20%}.toolbar-container .app-open:hover .mat-icon{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}'],encapsulation:2}),cn),pn=((sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c,l,u,h,g,p){var d;return _classCallCheck(this,n),(d=e.call(this,r,c)).window=t,d.dialog=i,d.api=a,d.injector=r,d.viewDirection=o,d.messageService=s,d.userInfoService=c,d.statusApiService=l,d.softPhoneService=u,d.translateService=h,d.wallPaperSelector=g,d.windowManagerService=p,d.serviceList=[],d._subscription=new f.Subscription,d._subscription.add(d.wallPaperSelector.currentWallpaper.subscribe((function(t){return d.wallpaper=t}))),d._subscription.add(d.userInfoService.currentUserInfo.subscribe((function(t){d.loggedInUser=t,d.serviceList=[],d.loggedInUser.services.map((function(t){var e=t.name.split(" ").join("_").toLowerCase(),n=Object.assign(Object.assign({},t),{serviceTitle:e});t.show_in_container&&d.serviceList.push(n)})),d.windowManagerService.changeServices(d.serviceList)}))),d._subscription.add(d.viewDirection.currentDirection.subscribe((function(t){return d.rtlDirection=t}))),d._subscription.add(d.windowManagerService.windowsList.subscribe((function(t){return d.windowManager=t}))),d}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"getTranslate",value:function(t){return this.translateService.instant(t)}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),n}(b.a)).\u0275fac=function(t){return new(t||sn)(g.Qb("windowObject"),g.Qb(v.b),g.Qb(C.a),g.Qb(g.s),g.Qb(k.a),g.Qb(w.a),g.Qb(y.a),g.Qb(x),g.Qb(M.a),g.Qb(d.e),g.Qb(O),g.Qb(P.a))},sn.\u0275cmp=g.Kb({type:sn,selectors:[["app-dashboard"]],features:[g.zb],decls:6,vars:11,consts:[[1,"dashboard-container","full-width","full-height","wallpaper"],[3,"rtlDirection"],[1,"dashboard-app-boundary","height-full-minus-70","padding-full"],[3,"loggedInUser","serviceList","rtlDirection"],[1,"dashboard-toolbar","pos-fix","bottom-full","right-full","left-full","height-40",3,"loggedInUser","rtlDirection","serviceList","windowManager"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Rb(1,"app-soft-phone-incoming-call",1),g.Wb(2,"div",2),g.Rb(3,"app-dashboard-datepicker",3),g.Vb(),g.Rb(4,"app-screenshot"),g.Rb(5,"app-dashboard-toolbar",4),g.Vb()),2&t&&(g.Gc("background",e.wallpaper,g.Jb),g.Db("data-bg",e.wallpaper),g.Cb(1),g.oc("rtlDirection",e.rtlDirection),g.Cb(2),g.oc("loggedInUser",e.loggedInUser)("serviceList",e.serviceList)("rtlDirection",e.rtlDirection),g.Cb(2),g.oc("loggedInUser",e.loggedInUser)("rtlDirection",e.rtlDirection)("serviceList",e.serviceList)("windowManager",e.windowManager))},directives:[R,X,nt,gn],styles:['.dashboard-app-boundary[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;bottom:0}.card-bg[_ngcontent-%COMP%]{border-radius:10px!important;transition:all .4s!important;width:400px;height:300px;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%)}.card-bg[_ngcontent-%COMP%]:after, .card-bg[_ngcontent-%COMP%]:before{content:"";position:absolute}.card-bg[_ngcontent-%COMP%]:before{width:110%;top:-5px;right:-6px;height:100%;background-color:#fff;border-radius:0 0 200px/100px 0;transform:rotate(8deg);z-index:1}.card-bg[_ngcontent-%COMP%]:after{bottom:-12px;left:0;width:100%;height:124px;z-index:0}.card-bg[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.card-bg[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}.card-bg.service-task[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #441e52,0 10px 25px -7px #ff46fa,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-task[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff7af5 10%,#513162)}.card-bg.service-task[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-task[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#513162}.card-bg.service-pbx[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #ff3360,0 10px 25px -7px #ff811d,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-pbx[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff9a44 10%,#fc6076)}.card-bg.service-pbx[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-pbx[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fc6076}.card-bg.service-chat[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px rgba(0,121,226,.2),0 10px 25px -7px #0079e2,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-chat[_ngcontent-%COMP%]:after{background-image:linear-gradient(-225deg,#22e1ff,#1d8fe1 48%,#625eb1)}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{color:#625eb1}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#1d8fe1}.card-bg.service-video-conference[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #051732,0 10px 25px -7px #3b6586,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-video-conference[_ngcontent-%COMP%]:after{background-image:linear-gradient(315deg,#09203f,#537895 74%)}.card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#09203f}.profile-info[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{border:5px solid #fff;top:-2em}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{text-shadow:0 0 11px #999}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]{border:1px solid #ddd;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}']}),sn),dn=n("VSJZ"),mn=n("1yaQ"),fn=n("K1Y9"),bn=n("n90K"),vn=Object(bn.a)("defaultLang"),Cn=null!==vn&&"fa"===vn?"fa":"en-GB",kn=((un=function t(){_classCallCheck(this,t)}).\u0275mod=g.Ob({type:un}),un.\u0275inj=g.Nb({factory:function(t){return new(t||un)},providers:[{provide:D.c,useClass:"fa"===Cn?dn.a:mn.a,deps:[D.f]},{provide:D.f,useValue:"fa"===Cn?Cn:"en-GB"},{provide:D.e,useFactory:function(t){return t===("fa"===Cn)?fn.a:fn.b},deps:[D.f]},{provide:dn.b,useValue:{useUtc:!0}}],imports:[[l.c,s.a,p,Oe,c.b.forChild([{path:"",component:pn}]),d.c.forChild()]]}),un)},"8Tul":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("zB/H"),a=n("0IaG"),r=n("fXoL"),o=n("unh5"),s=n("cH1L"),c=n("ofXK"),l=n("bTqV"),u=n("NFeN"),h=n("sYmb"),g=function(){var t=function(){function t(e,n,a){_classCallCheck(this,t),this.viewDirection=e,this.dialogRef=n,this.data=a,this.rtlDirection=!1,this._subscription=new i.Subscription,this.dialogData=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._subscription.add(this.viewDirection.currentDirection.subscribe((function(e){return t.rtlDirection=e})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(o.a),r.Qb(a.h),r.Qb(a.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-approve"]],decls:18,vars:15,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"pos-rel","height-full-minus-30"],[1,"margin-b-full","font-full-em","text-weight-500","margin-b-half",3,"ngClass"],[1,"text-grey-600","no-margin"],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["mat-raised-button","","tabindex","13","type","submit",1,"text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"mat-dialog-close","ngClass"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"h1",2),r.Jc(3),r.Vb(),r.Wb(4,"div",3),r.Jc(5),r.jc(6,"translate"),r.Vb(),r.Vb(),r.Wb(7,"div",4),r.Wb(8,"button",5),r.Wb(9,"mat-icon",6),r.Jc(10,"check"),r.Vb(),r.Wb(11,"span",7),r.Jc(12),r.jc(13,"translate"),r.Vb(),r.Vb(),r.Wb(14,"button",8),r.Wb(15,"span",7),r.Jc(16),r.jc(17,"translate"),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.oc("dir",e.rtlDirection?"rtl":"ltr"),r.Cb(2),r.oc("ngClass","success"===e.dialogData.action?"text-green-600":"text-red-600"),r.Cb(1),r.Lc(" ",e.dialogData.title?e.dialogData.title:""," "),r.Cb(2),r.Kc(r.kc(6,9,e.dialogData.message?e.dialogData.message:"")),r.Cb(3),r.oc("mat-dialog-close",!0)("ngClass","success"===e.dialogData.action?"green-gradient":"red-gradient"),r.Cb(4),r.Kc(r.kc(13,11,"global.confirm")),r.Cb(2),r.oc("mat-dialog-close",!1),r.Cb(2),r.Kc(r.kc(17,13,"global.dismiss")))},directives:[s.b,c.q,l.b,a.d,u.a],pipes:[h.d],styles:[".top-container[_ngcontent-%COMP%]{height:56px}.dialog-content[_ngcontent-%COMP%]{height:calc(100% - 112px)}.mat-dialog-actions[_ngcontent-%COMP%]{height:56px}"]}),t}()},K1Y9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i={parse:{dateInput:"jYYYY-jMM-jDD"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY MMMM",dateA11yLabel:"YYYY-MM-DD",monthYearA11yLabel:"YYYY MMMM"}},a={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},VSJZ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var i=n("fXoL"),a=n("BCsW"),r=n("FKr1"),o=new i.r("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function s(t,e){for(var n=Array(t),i=0;i<t;i++)n[i]=e(i);return n}var c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).options=i,r.setLocale(t||a.locale()),r}return _createClass(n,[{key:"setLocale",value:function(t){var e=this;_get(_getPrototypeOf(n.prototype),"setLocale",this).call(this,t);var i=a.localeData(t);this._localeData="fa"===t?{firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.jMonths(),shortMonths:i.jMonthsShort(),dates:s(31,(function(t){return e.createPersianDateFrom3Numbers(2017,0,t+1).format("D")})),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}:{firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:s(31,(function(t){return e.createDate(2017,0,t+1).format("D")})),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}},{key:"getYear",value:function(t){return"fa"===this.locale?this.clone(t).jYear():this.clone(t).year()}},{key:"getMonth",value:function(t){return"fa"===this.locale?this.clone(t).jMonth():this.clone(t).month()}},{key:"getDate",value:function(t){return"fa"===this.locale?this.clone(t).jDate():this.clone(t).date()}},{key:"getDayOfWeek",value:function(t){return this.clone(t).day()}},{key:"getMonthNames",value:function(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(t){return"fa"===this.locale?this.clone(t).jYear().toString():this.clone(t).year().toString()}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(t){return"fa"===this.locale?this.clone(t).jDaysInMonth():this.clone(t).daysInMonth()}},{key:"clone",value:function(t){return t.clone().locale(this.locale)}},{key:"createDate",value:function(t,e,n){if(e<0||e>11)throw Error('Invalid month index "'.concat(e,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var i;if(!(i="fa"===this.locale?this.createPersianDateFrom3Numbers(t,e,n):this._createMoment({year:t,month:e,date:n}).locale(this.locale)).isValid())throw Error('Invalid date "'.concat(n,'" for month with index "').concat(e,'".'));return i}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}},{key:"format",value:function(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("JalaliMomentDateAdapter: Cannot format invalid date.");return t.format(e)}},{key:"addCalendarYears",value:function(t,e){return"fa"===this.locale?this.clone(t).add(e,"jYear"):this.clone(t).add(e,"years")}},{key:"addCalendarMonths",value:function(t,e){return"fa"===this.locale?this.clone(t).add(e,"jmonth"):this.clone(t).add(e,"month")}},{key:"addCalendarDays",value:function(t,e){return"fa"===this.locale?this.clone(t).add(e,"jDay"):this.clone(t).add(e,"day")}},{key:"toIso8601",value:function(t){return this.clone(t).format()}},{key:"isDateInstance",value:function(t){return a.isMoment(t)}},{key:"isValid",value:function(t){return this.clone(t).isValid()}},{key:"invalid",value:function(){return a.invalid()}},{key:"deserialize",value:function(t){var e;if(t instanceof Date&&(e=this._createMoment(t)),"string"==typeof t){if(!t)return null;e="fa"===this.locale?a(t).locale("fa"):this._createMoment(t).locale(this.locale)}return e&&this.isValid(e)?e:_get(_getPrototypeOf(n.prototype),"deserialize",this).call(this,t)}},{key:"createPersianDateFrom3Numbers",value:function(t,e,n){return(this.options&&this.options.useUtc?a().utc():a()).jYear(t).jMonth(e).jDate(n).hours(0).minutes(0).seconds(0).milliseconds(0).locale("fa")}},{key:"_createMoment",value:function(){return this.options&&this.options.useUtc?a.utc.apply(a,arguments):a.apply(void 0,arguments)}}]),n}(r.c)}}]);