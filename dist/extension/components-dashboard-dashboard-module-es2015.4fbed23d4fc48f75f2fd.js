(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1yaQ":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),s=i("FKr1"),a=i("wd/R");const o=i.n(a).a||a,r=new n.r("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function c(t,e){const i=Array(t);for(let n=0;n<t;n++)i[n]=e(n);return i}let l=(()=>{class t extends s.c{constructor(t,e){super(),this._options=e,this.setLocale(t||o.locale())}setLocale(t){super.setLocale(t);let e=o.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:c(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,i){const n=this._createMoment({year:t,month:e,date:i}).locale(this.locale);return n.isValid(),n}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){return t=this.clone(t),this.isValid(t),t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,o.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return o.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return o.invalid()}_createMoment(t,e,i){const{strict:n,useUtc:s}=this._options||{};return s?o.utc(t,e,i,n):o(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(n.ac(s.f,8),n.ac(r,8))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac}),t})()},"5+sL":function(t,e,i){"use strict";i.r(e),i.d(e,"DashboardModule",(function(){return Ne}));var n=i("PCNd"),s=i("tyNb"),a=i("ofXK"),o=i("rDax"),r=i("+rOU"),c=i("fXoL");let l=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[a.c,o.f,r.i]]}),t})();var h=i("sYmb"),g=i("AytR"),p=i("zB/H"),d=i("ue6I"),m=i("0IaG"),u=i("EEPM"),b=i("unh5"),f=i("XiUW"),v=i("DDyt"),w=i("tk/3");let C=(()=>{class t{constructor(t){this.http=t,this.accessToken="",this.API_URL=g.a.CONTAINER_URL+"/attendance",this.headers={headers:new w.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}getStatuses(){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/statusList",this.headers)}userChangeStatus(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/userChangeStatus",t,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(c.ac(w.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=i("Y2ut"),_=i("7RJT");let M=(()=>{class t{constructor(t){this.userInfoService=t,this.preWallpaper=null!==this.userInfoService.getUserInfo.background_image?"url("+this.userInfoService.getUserInfo.background_image+")":"url(./assets/images/wallpapers/18.jpg)",this._wallpaper=new _.BehaviorSubject(this.preWallpaper),this.currentWallpaper=this._wallpaper.asObservable()}changeWallpaper(t){this._wallpaper.next(t)}}return t.\u0275fac=function(e){return new(e||t)(c.ac(v.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=i("0d0Z"),y=i("OC8m"),S=i("cH1L"),O=i("MutI"),P=i("FKr1"),I=i("bTqV"),W=i("NFeN");let V=(()=>{class t{constructor(t,e,i){this.translateService=t,this.softPhoneService=e,this.notificationService=i,this.currentPhoneNumber="",this.incomingStatus=!1,this.incomingData=null,this.softPhoneUsers=[],this.onCallUser=null,this._subscription=new p.Subscription,this._subscription.add(this.softPhoneService.currentSoftPhoneUsers.subscribe(t=>this.softPhoneUsers=t)),this._subscription.add(this.softPhoneService.currentIncomingCallStatus.subscribe(t=>{if(t&&(this.incomingStatus=t.status,t.data)){this.incomingData=t.data,this.currentPhoneNumber=this.incomingData.o_event.o_session.o_uri_from.s_user_name,this.currentPhoneNumber=this.currentPhoneNumber.replace("-wrtc","");let e="";if(this.getTranslate("soft_phone.incoming_call.want_to_call_with_you"),this.softPhoneUsers){let t=this.softPhoneUsers.filter(t=>t.extension_no===this.currentPhoneNumber).pop();t?(this.onCallUser=t,this.onCallUser.extension_no=this.currentPhoneNumber,e=t.extension_name):e=this.getTranslate("soft_phone.incoming_call.unknown_caller")}}})),this._subscription.add(this.notificationService.currentNotification.subscribe(t=>{t&&(t.onclick=()=>{},t.onclose=()=>{this.decline_call()})}))}decline_call(){this.softPhoneService.sipHangUp(),this.softPhoneService.changeIncomingCallStatus({status:!1})}accept_call(){this.softPhoneService.sipCall("call-audio"),this.softPhoneService.changeOnCallUser(this.onCallUser),this.softPhoneService.changeIncomingCallStatus({status:!1})}getTranslate(t){return this.translateService.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(h.e),c.Qb(x.a),c.Qb(y.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-soft-phone-incoming-call"]],inputs:{rtlDirection:"rtlDirection"},decls:19,vars:11,consts:[[1,"width-350","height-100","mat-elevation-z5","transition","bg-white","pos-fix","left-0","right-0","margin-auto","padding-mini-t-b","padding-r-l","z-index-9999","round-corner-bottom-left","round-corner-bottom-right",3,"dir","ngClass"],[1,"soft-phone-user","full-width","height-50"],[1,"padding-mini-r-l","full-height"],["matListAvatar","","onerror","this.src='assets/profileImg/0.jpg'",1,"mat-elevation-z2",3,"src"],["matLine","",1,"font-8-rem","text-weight-bold"],[1,"height-30","display-flex","justify-content-end",3,"dir"],["mat-raised-button","",1,"red-gradient","padding-mini-r-l","margin-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"mat-list",1),c.Wb(2,"mat-list-item",2),c.Rb(3,"img",3),c.Wb(4,"h3",4),c.Jc(5),c.Vb(),c.Vb(),c.Vb(),c.Wb(6,"div",5),c.Wb(7,"button",6),c.ec("click",(function(){return e.decline_call()})),c.Wb(8,"mat-icon",7),c.Jc(9,"phone_disabled"),c.Vb(),c.Wb(10,"span",8),c.Jc(11),c.jc(12,"translate"),c.Vb(),c.Vb(),c.Wb(13,"button",9),c.ec("click",(function(){return e.accept_call()})),c.Wb(14,"mat-icon",7),c.Jc(15,"phone_callback"),c.Vb(),c.Wb(16,"span",8),c.Jc(17),c.jc(18,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.incomingStatus?"top-0":"top-full-reverse-percent"),c.Cb(3),c.oc("src","assets/profileImg/"+(e.onCallUser?e.onCallUser.username:"0")+".jpg",c.Bc),c.Cb(2),c.Lc(" ",e.onCallUser?e.onCallUser.username:e.currentPhoneNumber," "),c.Cb(1),c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(5),c.Kc(c.kc(12,7,"soft_phone.incoming_call.decline")),c.Cb(6),c.Kc(c.kc(18,9,"soft_phone.incoming_call.accept")))},directives:[S.b,a.q,O.a,O.d,O.b,P.k,I.b,W.a],pipes:[h.d],encapsulation:2}),t})();var D=i("qFJI"),z=i("C6zf"),A=i("eXWX"),R=i("+Ibf"),L=i("pjkF"),T=i("iadO");const j=["myCalendar"],U=["picker"],Q=["insideElement"];function E(t,e){if(1&t&&(c.Wb(0,"mat-list-item"),c.Wb(1,"mat-icon",10),c.Jc(2,"access_alarm"),c.Vb(),c.Wb(3,"div",11),c.Jc(4),c.Vb(),c.Wb(5,"div",12),c.Jc(6),c.Vb(),c.Vb()),2&t){const t=e.$implicit;c.Cb(4),c.Kc(t.description),c.Cb(2),c.Kc(t.startReminder)}}function H(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div"),c.Wb(1,"mat-list",4),c.Wb(2,"div",5),c.Jc(3),c.jc(4,"translate"),c.Wb(5,"b",6),c.Jc(6),c.jc(7,"translate"),c.Vb(),c.Vb(),c.Wb(8,"div"),c.Hc(9,E,7,2,"mat-list-item",7),c.Vb(),c.Vb(),c.Wb(10,"button",8),c.ec("click",(function(e){return c.zc(t),c.ic().showEventHandlerWindow(null,e)})),c.Wb(11,"span",9),c.Jc(12),c.jc(13,"translate"),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.ic();c.Cb(3),c.Lc("",c.kc(4,5,"dashboard.dashboard_toolbar.reminder")," "),c.Cb(3),c.Mc("",c.kc(7,7,"events_handler.main.reminder_count")," : ",t.events_reminders.reminders.length,""),c.Cb(3),c.oc("ngForOf",t.events_reminders.reminders.slice(0,3)),c.Cb(3),c.Kc(c.kc(13,9,"events_handler.main.see_more"))}}let F=(()=>{class t{constructor(t,e,i,n,s,a,o){this.dialog=t,this.elemRef=e,this.eventApi=i,this.popoverService=n,this.eventHandlerService=s,this.eventHandlerSocketService=a,this.windowManagerService=o,this.serviceList=[],this.eventTemp=[],this.events_reminders={events:[],reminders:[]},this._subscription=new p.Subscription}ngOnInit(){this.eventHandlerSocketService.initializeWebSocketConnection().then(t=>{console.log("socket status: ",t)}),this.getEvents()}ngAfterViewInit(){this._subscription.add(this.eventHandlerService.currentEventsReminderList.subscribe(t=>{t&&(this.events_reminders.events=t.events,this.events_reminders.reminders=t.reminders),setTimeout(()=>{this.calendar.updateTodaysDate()},1e3)}))}showEventHandlerWindow(t=null,e=null){e&&e.stopPropagation();let i=null;t&&(i=void 0!==t.startDate?new Date(t.startDate):t._d);let n=t&&void 0!==t.startDate?t:null,s=this.serviceList.filter(t=>"events_calendar"==t.serviceTitle);this.eventHandlerService.moveEventItems(n),this.eventHandlerService.moveDay(i),this.windowManagerService.openWindowState(s[0])}getPosition(t){this.popoverTarget=t.target}onSelect(t){setTimeout(()=>{this.eventTemp=this.events_reminders.events.filter(e=>new Date(e.startDate).toLocaleDateString()==t._d.toLocaleDateString()),this.eventTemp.length?(this.popoverService.open(D.a,this.popoverTarget,{data:{eventTemp:this.eventTemp,events:this.events_reminders.events,serviceList:this.serviceList,windowManagerService:this.windowManagerService,rtlDirection:this.rtlDirection}}).afterClosed(),this.windowManagerService.dialogOnTop("popover")):this.showEventHandlerWindow(t)},0)}dateClass(){return t=>{let e=this.events_reminders?this.events_reminders.events:[];return e&&e.some(e=>new Date(e.startDate).toLocaleDateString()==t._d.toLocaleDateString())?"special-date":""}}getEvents(){this.eventHandlerSocketService.getEventsByEmail(this.loggedInUser).then(t=>{this._subscription.add(this.events_reminders=t)})}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.b),c.Qb(c.l),c.Qb(z.a),c.Qb(A.b),c.Qb(R.a),c.Qb(L.a),c.Qb(k.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-dashboard-datepicker"]],viewQuery:function(t,e){var i;1&t&&(c.Pc(j,!0),c.Pc(U,!0),c.Pc(Q,!0)),2&t&&(c.uc(i=c.fc())&&(e.calendar=i.first),c.uc(i=c.fc())&&(e.picker=i.first),c.uc(i=c.fc())&&(e.insideElement=i.first))},inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection",serviceList:"serviceList"},decls:4,vars:4,consts:[[1,"box-dark","datepicker-popover","datepicker-container","mat-elevation-z1","padding-full","round-corner",3,"dir","ngClass"],[3,"dateClass","click","selectedChange"],["myCalendar",""],[4,"ngIf"],[1,"event-list"],["mat-subheader",""],[1,"font-7-rem","padding-full"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"custom-flat-button","full-width","padding-mini-r-l","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-list-icon","",1,"font-full-plus-three-tenth-em"],["mat-line","",1,"font-8-em"],["mat-line","",1,"font-8-rem"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"mat-calendar",1,2),c.ec("click",(function(t){return e.getPosition(t)}))("selectedChange",(function(t){return e.onSelect(t)})),c.Vb(),c.Hc(3,H,14,11,"div",3),c.Vb()),2&t&&(c.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"float-right calendar-rtl":"float-left"),c.Cb(1),c.oc("dateClass",e.dateClass()),c.Cb(2),c.oc("ngIf",e.events_reminders&&e.events_reminders.reminders.length))},directives:[S.b,a.q,T.a,a.t,O.a,O.g,a.s,I.b,O.d,W.a,O.c,P.k],pipes:[h.d],styles:['.datepicker-container{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,100%,.5)}.event-list.mat-list-base .mat-list-item.mat-2-line{height:54px!important}.special-date div.mat-calendar-body-cell-content:before{width:4px;height:4px;background:#ff9800;content:"";border-radius:100%;position:absolute;bottom:0}.dark-mode .datepicker-container.box-dark{background:rgba(30,30,30,.8)!important;color:#fff}.dark-mode .datepicker-container.box-dark b,.dark-mode .datepicker-container.box-dark button,.dark-mode .datepicker-container.box-dark div,.dark-mode .datepicker-container.box-dark mat-icon,.dark-mode .datepicker-container.box-dark span,.dark-mode .datepicker-container.box-dark td,.dark-mode .datepicker-container.box-dark th{color:#fff!important}.dark-mode .datepicker-container.box-dark .mat-calendar-arrow{border-top-color:#fff!important}.dark-mode .datepicker-container.box-dark .mat-calendar-body-today:not(.mat-calendar-body-selected){border:1px solid #fff!important}'],encapsulation:2}),t})();var J=i("PqYM"),Y=i("wd/R"),B=i("LvDl");let N=(()=>{class t{constructor(t){this.http=t,this.accessToken="",this.API_URL=g.a.CONTAINER_URL+"/attendance",this.headers={headers:new w.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}userScreenshot(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/userScreenshot",t,this.headers)}getTickTock(){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/userScreenshot/serverTickTock",this.headers)}}return t.\u0275fac=function(e){return new(e||t)(c.ac(w.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var K=i("b6YF"),X=i("LyM2");let q=(()=>{class t extends d.a{constructor(t,e,i,n,s){super(e,s),this.api=t,this.injector=e,this.changeStatusService=i,this.currentTaskService=n,this.userInfoService=s,this.timerDueTime=3e4,this.timerPeriod=3e4,this.userCurrentStatus="",this.currentTasks=null,this.availableHours=[{time:"00",status:!1},{time:"01",status:!1},{time:"02",status:!1},{time:"03",status:!1},{time:"04",status:!1},{time:"05",status:!1},{time:"06",status:!1},{time:"07",status:!1},{time:"08",status:!1},{time:"09",status:!1},{time:"10",status:!1},{time:"11",status:!1},{time:"12",status:!1},{time:"13",status:!1},{time:"14",status:!1},{time:"15",status:!1},{time:"16",status:!1},{time:"17",status:!1},{time:"18",status:!1},{time:"19",status:!1},{time:"20",status:!1},{time:"21",status:!1},{time:"22",status:!1},{time:"23",status:!1}],this.randomHours=[],this.globalTimer=null,this._subscription=new p.Subscription,this._subscription.add(this.changeStatusService.currentUserStatus.subscribe(t=>{if(this.userCurrentStatus=t,this.userCurrentStatus&&1===this.userCurrentStatus.id)null===this.globalTimer&&this.runTimerForScreenshot();else if(null!==this.globalTimer)try{this.globalTimerSubscription.unsubscribe(),this.globalTimer=null}catch(e){console.log(e)}})),this._subscription.add(this.currentTaskService.currentTask.subscribe(t=>this.currentTasks=t))}runTimerForScreenshot(){g.a.production&&(this.globalTimer=Object(J.a)(this.timerDueTime,this.timerPeriod),this.randomHours=B.sampleSize(this.availableHours,5),this.globalTimerSubscription=this.globalTimer.subscribe(()=>{this.loginData&&this.loginData.token_type&&(this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.api.getTickTock().subscribe(t=>{if(t.success){const e=t.data.time,i=new Date,n=Y(e).format("YYYY-MM-DD HH-mm"),s=Y(i).format("YYYY-MM-DD HH-mm"),a=Y(e).format("HH"),o=B.find(this.randomHours,t=>t.time===a);o&&!1===o.status&&(o.status=!0,this.takeAScreenShot()),n!==s&&console.warn("Different server and local time")}else console.warn("Server Tick Tack ")}))}))}takeAScreenShot(){}determineScreenShot(){}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(N),c.Qb(c.s),c.Qb(K.a),c.Qb(X.a),c.Qb(v.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-screenshot"]],features:[c.zb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var G=i("STbY");function $(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",6),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic().openService(i)})),c.Wb(1,"mat-icon",1),c.Jc(2),c.Vb(),c.Wb(3,"span",7),c.Jc(4),c.jc(5,"translate"),c.Vb(),c.Vb()}if(2&t){const t=e.$implicit,i=c.ic();c.Cb(2),c.Kc(t.icon),c.Cb(2),c.Lc(" ",c.kc(5,2,i.rtlDirection?t.name_fa:t.name)," ")}}let Z=(()=>{class t{constructor(t){this.windowManagerService=t}openService(t){this.windowManagerService.openWindowState(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(k.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-main-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:9,vars:7,consts:[[1,"box","pos-rel","mat-elevation-z1","width-40","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","no-margin","text-weight-normal","font-full-rem","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color display-flex align-items-center",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color","display-flex","align-items-center",3,"click"],[1,"font-full-plus-two-tenth-em","wrap-text"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Wb(1,"mat-icon",1),c.Jc(2,"menu"),c.Vb(),c.Vb(),c.Wb(3,"mat-menu",2,3),c.Wb(5,"h6",4),c.Jc(6),c.jc(7,"translate"),c.Vb(),c.Hc(8,$,6,4,"button",5),c.Vb()),2&t){const t=c.vc(4);c.oc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",t)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),c.Cb(6),c.Lc(" ",c.kc(7,5,"dashboard.dashboard_toolbar.service_list")," "),c.Cb(2),c.oc("ngForOf",e.serviceList)}},directives:[S.b,G.d,a.q,W.a,G.e,O.g,a.s,G.b],pipes:[h.d],styles:['.service-status[_ngcontent-%COMP%]:before{border-radius:100px!important;content:"";position:absolute;width:12px;height:12px;left:0;right:0;bottom:0;top:0;margin:auto}.service-status.online[_ngcontent-%COMP%]:before{background-color:#4ec060}.service-status.offline[_ngcontent-%COMP%]:before{background-color:#c30}.service-title[_ngcontent-%COMP%]{padding:0 .75em!important}.wrap-text[_ngcontent-%COMP%]{max-width:200px;white-space:normal;line-height:normal}']}),t})();var tt=i("Qu3c");const et=function(t){return{"app-minimized":t}};function it(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",3),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic(2).controlWindow(i)})),c.Wb(1,"mat-icon",4),c.Jc(2),c.Vb(),c.Vb()}if(2&t){const t=e.$implicit,i=c.ic(2);c.oc("matTooltip",i.rtlDirection?t.windowService.serviceNameFa:t.windowService.serviceNameEn)("ngClass",c.rc(3,et,t.isMinimized)),c.Cb(2),c.Kc(t.windowService.icon)}}function nt(t,e){if(1&t&&(c.Wb(0,"div",1),c.Hc(1,it,3,5,"button",2),c.Vb()),2&t){const t=c.ic();c.oc("ngClass",t.rtlDirection?"margin-l-auto":"margin-r-auto"),c.Cb(1),c.oc("ngForOf",t.windowManager)}}let st=(()=>{class t{constructor(t){this.windowManagerService=t}controlWindow(t){t.isMinimized?this.windowManagerService.restoreWindow(t.windowService):t.isMinimized||this.windowManagerService.minimizeWindow(t.windowService)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(k.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-window-app-container"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager"},decls:1,vars:1,consts:[["class","box mat-elevation-z1 pos-rel text-center round-corner height-40 overflow-hide",3,"ngClass",4,"ngIf"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","height-40","overflow-hide",3,"ngClass"],["class","app-open pos-rel no-bg no-border no-padding width-40 full-height cursor-pointer","matTooltipPosition","above",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],["matTooltipPosition","above",1,"app-open","pos-rel","no-bg","no-border","no-padding","width-40","full-height","cursor-pointer",3,"matTooltip","ngClass","click"],[1,"text-dark-mode-color"]],template:function(t,e){1&t&&c.Hc(0,nt,2,2,"div",0),2&t&&c.oc("ngIf",e.windowManager.length)},directives:[a.t,a.q,a.s,tt.a,W.a],encapsulation:2}),t})(),at=(()=>{class t{constructor(){this._companyList=null,this.companyList=new _.BehaviorSubject(this._companyList),this.currentCompanyList=this.companyList.asObservable()}changeCompanyList(t){this.companyList.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ot(t,e){if(1&t&&(c.Wb(0,"div",5),c.Wb(1,"span",6),c.Jc(2),c.jc(3,"translate"),c.Vb(),c.Wb(4,"span",7),c.Jc(5),c.Vb(),c.Vb()),2&t){const t=c.ic(),e=c.vc(2);c.oc("dir",t.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",e),c.Cb(2),c.Lc(" ",c.kc(3,4,"select_company.title")," "),c.Cb(3),c.Lc(" ",t.companyList[0].name," ")}}function rt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",8),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic().selectCompany(i)})),c.Wb(1,"span",9),c.Jc(2),c.Vb(),c.Vb()}if(2&t){const t=e.$implicit;c.Cb(2),c.Kc(t.name)}}let ct=(()=>{class t{constructor(t){this.companySelectorService=t,this.companyList=null,this._subscription=new p.Subscription,this._subscription.add(this.companySelectorService.currentCompanyList.subscribe(t=>this.companyList=t))}selectCompany(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(at))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-company-selector"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},decls:7,vars:5,consts:[["class","box pos-rel padding-r-l display-flex flex-direction-column mat-elevation-z1 round-corner height-40 overflow-hide cursor-pointer",3,"dir","matMenuTriggerFor",4,"ngIf"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","padding-mini-r-l","no-margin","text-weight-normal","font-full-rem","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color",3,"click",4,"ngFor","ngForOf"],[1,"box","pos-rel","padding-r-l","display-flex","flex-direction-column","mat-elevation-z1","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor"],[1,"text-dark-mode-color","font-8-em","display-flex","line-height-18","full-width"],[1,"text-dark-mode-color","display-flex","line-height-18","full-width"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color",3,"click"],[1,"font-full-plus-two-tenth-em"]],template:function(t,e){1&t&&(c.Hc(0,ot,6,6,"div",0),c.Wb(1,"mat-menu",1,2),c.Wb(3,"h6",3),c.Jc(4),c.jc(5,"translate"),c.Vb(),c.Hc(6,rt,3,1,"button",4),c.Vb()),2&t&&(c.oc("ngIf",e.companyList),c.Cb(4),c.Lc(" ",c.kc(5,3,"select_company.title")," "),c.Cb(2),c.oc("ngForOf",e.companyList))},directives:[a.t,G.e,O.g,a.s,S.b,G.d,G.b],pipes:[h.d],styles:[""]}),t})();var lt=i("ds6q"),ht=i("l5mm"),gt=i("8Tul"),pt=i("mrSG"),dt=i("3Pt+"),mt=i("ISpo"),ut=i("mrmJ"),bt=i("zkoq"),ft=i("Wp6s"),vt=i("kmnG"),wt=i("qFsG");function Ct(t,e){1&t&&(c.Wb(0,"mat-icon",21),c.Jc(1," check "),c.Vb())}const xt=function(t,e){return[t,e]};function _t(t,e){if(1&t){const t=c.Xb();c.Wb(0,"mat-grid-tile",15),c.Wb(1,"mat-card",16),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic(3).activeStatus(i)})),c.Hc(2,Ct,2,0,"mat-icon",17),c.Wb(3,"mat-card-content",18),c.Wb(4,"mat-icon",19),c.Jc(5),c.Vb(),c.Vb(),c.Wb(6,"mat-card-footer",20),c.Jc(7),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=e.$implicit,i=c.ic(3);c.oc("colspan",1)("rowspan",1),c.Cb(1),c.Eb("status-"+t.label.replace(" ","_").toLocaleLowerCase()+" status-item pos-rel full-width full-height round-corner mat-elevation-z1 card-bg cursor-pointer padding-half"),c.oc("ngClass",c.sc(8,xt,t.id===i.form.get("status").value.id?"active-status":"","smoking"===t.label.toLowerCase()?"cursor-ignore":"")),c.Cb(1),c.oc("ngIf",t.id===i.form.get("status").value.id),c.Cb(3),c.Lc(" ",t.icon," "),c.Cb(2),c.Lc(" ",i.rtlDirection?t.label_fa:t.label," ")}}function Mt(t,e){if(1&t&&(c.Wb(0,"mat-grid-list",13),c.Hc(1,_t,8,11,"mat-grid-tile",14),c.Vb()),2&t){const t=c.ic(2);c.Cb(1),c.oc("ngForOf",t.statusList)}}function kt(t,e){1&t&&(c.Wb(0,"mat-error"),c.Jc(1),c.jc(2,"translate"),c.Vb()),2&t&&(c.Cb(1),c.Lc(" ",c.kc(2,1,"status.status_description_error")," "))}function yt(t,e){if(1&t&&(c.Wb(0,"div",22),c.Wb(1,"mat-form-field",23),c.Wb(2,"mat-label"),c.Jc(3),c.jc(4,"translate"),c.Vb(),c.Rb(5,"textarea",24),c.jc(6,"translate"),c.Hc(7,kt,3,3,"mat-error",25),c.Vb(),c.Vb()),2&t){const t=c.ic(2);c.Cb(3),c.Kc(c.kc(4,3,"status.status_description")),c.Cb(2),c.pc("placeholder",c.kc(6,5,"status.status_description_error")),c.Cb(2),c.oc("ngIf",!t.form.get("description").valid&&t.form.get("description").touched)}}function St(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Wb(1,"form",3),c.ec("submit",(function(){return c.zc(t),c.ic().submit()})),c.Wb(2,"div",4),c.Wb(3,"h1",5),c.Jc(4),c.jc(5,"translate"),c.Vb(),c.Wb(6,"a",6),c.ec("click",(function(){return c.zc(t),c.ic().closeDialog()})),c.Wb(7,"mat-icon",7),c.Jc(8,"close"),c.Vb(),c.Vb(),c.Wb(9,"div",8),c.Hc(10,Mt,2,1,"mat-grid-list",9),c.Hc(11,yt,8,7,"div",10),c.Vb(),c.Vb(),c.Wb(12,"div",11),c.Wb(13,"button",12),c.Jc(14),c.jc(15,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.ic();c.oc("dir",t.rtlDirection?"rtl":"ltr"),c.Cb(1),c.oc("formGroup",t.form),c.Cb(3),c.Lc(" ",c.kc(5,8,"status.apply_status")," "),c.Cb(2),c.oc("ngClass",t.rtlDirection?"left-full":"right-full"),c.Cb(4),c.oc("ngIf",t.statusList.length),c.Cb(1),c.oc("ngIf",t.form.get("status").value.is_description),c.Cb(2),c.oc("disabled",!t.form.valid),c.Cb(1),c.Lc(" ",c.kc(15,10,"status.apply_status")," ")}}function Ot(t,e){1&t&&(c.Wb(0,"div",26),c.Wb(1,"div",27),c.hc(),c.Wb(2,"svg",28),c.Wb(3,"rect",29),c.Rb(4,"animate",30),c.Rb(5,"animate",31),c.Vb(),c.Wb(6,"rect",32),c.Rb(7,"animate",33),c.Rb(8,"animate",34),c.Vb(),c.Wb(9,"rect",35),c.Rb(10,"animate",36),c.Rb(11,"animate",37),c.Vb(),c.Vb(),c.gc(),c.Wb(12,"span",38),c.Jc(13),c.jc(14,"translate"),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Cb(13),c.Kc(c.kc(14,1,"global.loading")))}let Pt=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c,l,h,g,d){super(n,l),this.data=t,this.dialogRef=e,this.fb=i,this.injector=n,this.translate=s,this.viewDirection=a,this.userApiService=o,this.messageService=r,this.statusApiService=c,this.userInfoService=l,this.userStatusService=h,this.refreshLoginService=g,this.loadingIndicatorService=d,this.statusList=[],this.loadingIndicator={status:!1,serviceName:"userStatus"},this._subscription=new p.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t))}ngOnInit(){return Object(pt.a)(this,void 0,void 0,(function*(){yield this.getStatuses(),yield this.createForm().then(()=>{this.form.markAllAsTouched(),setTimeout(()=>this.checkFormValidation(),1e3),this._subscription.add(this.userStatusService.currentUserStatus.subscribe(t=>{this.currentUserStatus=t,this.form.patchValue({status:this.currentUserStatus.status_detail})}))})}))}getStatuses(){return this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),new Promise((t,e)=>{this.statusApiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.statusApiService.getStatuses().subscribe(i=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),i.success?(this.statusList=i.data,t(!0)):e(!0)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),this.refreshLoginService.openLoginDialog(t)}))})}createForm(){return new Promise(t=>{this.form=this.fb.group({user_id:new dt.g(this.loggedInUser.id,dt.G.required),status:new dt.g({},dt.G.required),is_description:new dt.g(0),description:new dt.g("")}),t()})}checkFormValidation(){this._subscription.add(this.form.valueChanges.subscribe(t=>{const e=this.form.get("description");t.status.is_description?this.form.get("description").value.length<1&&(e.setErrors({incorrect:!0}),e.setValidators(dt.G.required),e.markAsTouched()):(e.setErrors(null),e.setValidators(null))}))}activeStatus(t){t.is_description?(this.dialogRef.updateSize("500px","490px"),this.form.get("is_description").setValue(t.is_description)):this.dialogRef.updateSize("500px","385px"),this.form.get("status").setValue(t)}closeDialog(){this.dialogRef.close()}submit(){if(this.form.valid){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),this.form.disable(),this.dialogRef.disableClose=!0;const t=Object.assign({},this.form.value);t.status=t.status.id,this.statusApiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.statusApiService.userChangeStatus(t).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),this.dialogRef.disableClose=!1,t.success?(this.userStatusService.changeUserStatus(t.data),this.getTranslate("status.status_success").then(t=>{this.messageService.showMessage(t)}),this.dialogRef.close(t)):(this.getTranslate("status.status_description_error").then(t=>{this.messageService.showMessage(t)}),this.form.enable())},t=>{this.dialogRef.disableClose=!1,this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),this.refreshLoginService.openLoginDialog(t)}))}else this.getTranslate("status.status_description_error").then(t=>{this.messageService.showMessage(t)})}getTranslate(t){return new Promise(e=>e(this.translate.instant(t)))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.a),c.Qb(m.h),c.Qb(dt.f),c.Qb(c.s),c.Qb(h.e),c.Qb(b.a),c.Qb(u.a),c.Qb(f.a),c.Qb(C),c.Qb(v.a),c.Qb(K.a),c.Qb(mt.a),c.Qb(ut.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-change-status"]],features:[c.zb],decls:2,vars:2,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",3,"dir",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"full-width","height-full-minus-35"],[1,"font-full-em","height-35","line-height-35","text-weight-500","no-margin"],[1,"pos-abs","top-full","cursor-pointer","text-gray-600",3,"ngClass","click"],[1,"text-grey-500"],[1,"height-full-minus-35","padding-b-full"],["cols","3","gutterSize","15","rowHeight","80px",4,"ngIf"],["class","padding-t-full margin-b-half",4,"ngIf"],[1,"height-30","full-width"],["mat-raised-button","","type","submit",1,"green-gradient","text-white","full-width","font-9-em",3,"disabled"],["cols","3","gutterSize","15","rowHeight","80px"],["class","board-container",3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"board-container",3,"colspan","rowspan"],[3,"ngClass","click"],["class","pos-abs font-9-em text-center line-height-15 text-white bg-green bottom-half-reverse right-0 left-0 margin-auto width-15 height-15 round-corner-all",4,"ngIf"],[1,"pos-rel","z-index-99","no-margin"],[1,"full-width","height-50","font-full-em-3","text-center","line-height-40"],[1,"mat-card-footer","text-center","font-8-em","text-weight-bold"],[1,"pos-abs","font-9-em","text-center","line-height-15","text-white","bg-green","bottom-half-reverse","right-0","left-0","margin-auto","width-15","height-15","round-corner-all"],[1,"padding-t-full","margin-b-half"],[1,"full-width","height-100","font-9-em"],["formControlName","description","matInput","",3,"placeholder"],[4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(c.Hc(0,St,16,12,"div",0),c.Hc(1,Ot,15,3,"div",1)),2&t&&(c.oc("ngIf",e.form),c.Cb(1),c.oc("ngIf",e.loadingIndicator.status&&"userStatus"===e.loadingIndicator.serviceName))},directives:[a.t,S.b,dt.I,dt.t,dt.k,a.q,W.a,I.b,bt.b,a.s,bt.d,ft.a,ft.d,ft.e,vt.c,vt.g,dt.c,wt.b,dt.s,dt.i,vt.b],pipes:[h.d],styles:[".bg-green[_ngcontent-%COMP%]{background-color:#388e3c}.status-item[_ngcontent-%COMP%]{color:#304352}.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-start_working.active-status[_ngcontent-%COMP%], .status-start_working[_ngcontent-%COMP%]:hover{color:#92ca68;box-shadow:0 2px 4px -1px #77ca5d,0 10px 25px -7px #dbffac,0 1px 10px 0 rgba(0,0,0,.12)}.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-finish_working.active-status[_ngcontent-%COMP%], .status-finish_working[_ngcontent-%COMP%]:hover{color:#b85f39;box-shadow:0 2px 4px -1px #ca703a,0 10px 25px -7px #caba89,0 1px 10px 0 rgba(0,0,0,.12)}.status-lunch_break[_ngcontent-%COMP%]{transition:all .4s!important}.status-lunch_break.active-status[_ngcontent-%COMP%], .status-lunch_break[_ngcontent-%COMP%]:hover{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-meeting.active-status[_ngcontent-%COMP%], .status-meeting[_ngcontent-%COMP%]:hover{color:#818cbc;box-shadow:0 2px 4px -1px #818cbc,0 10px 25px -7px #80d0c7,0 1px 10px 0 rgba(0,0,0,.12)}.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-smoking.active-status[_ngcontent-%COMP%], .status-smoking[_ngcontent-%COMP%]:hover{color:#304352;box-shadow:0 2px 4px -1px #304352,0 10px 25px -7px #d7d2cc,0 1px 10px 0 rgba(0,0,0,.12)}.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-mission.active-status[_ngcontent-%COMP%], .status-mission[_ngcontent-%COMP%]:hover{color:#30cfd0;box-shadow:0 2px 4px -1px #30cfd0,0 10px 25px -7px #8fd3f4,0 1px 10px 0 rgba(0,0,0,.12)}.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-leave.active-status[_ngcontent-%COMP%], .status-leave[_ngcontent-%COMP%]:hover{color:#feb051;box-shadow:0 2px 4px -1px #fa709a,0 10px 25px -7px #fee140,0 1px 10px 0 rgba(0,0,0,.12)}.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-game.active-status[_ngcontent-%COMP%], .status-game[_ngcontent-%COMP%]:hover{color:#c471f5;box-shadow:0 2px 4px -1px #fa71cd,0 10px 25px -7px #c471f5,0 1px 10px 0 rgba(0,0,0,.12)}.status-other_stuff[_ngcontent-%COMP%]{transition:all .4s!important}.status-other_stuff.active-status[_ngcontent-%COMP%], .status-other_stuff[_ngcontent-%COMP%]:hover{color:#98997e;box-shadow:0 2px 4px -1px #98997e,0 10px 25px -7px #fbfcdb,0 1px 10px 0 rgba(0,0,0,.12)}.cursor-ignore[_ngcontent-%COMP%]{cursor:not-allowed}"]}),t})();function It(t,e){if(1&t&&(c.Wb(0,"span",8),c.Wb(1,"b",9),c.Jc(2),c.Vb(),c.Jc(3," : "),c.Wb(4,"b",9),c.Jc(5),c.Vb(),c.Jc(6," : "),c.Wb(7,"b",9),c.Jc(8),c.Vb(),c.Vb()),2&t){const t=c.ic(2);c.oc("ngClass",t.rtlDirection?"justify-content-end":"justify-content-start"),c.Cb(2),c.Lc(" ",t.currentTimer.hours<10?"0"+t.currentTimer.hours:t.currentTimer.hours," "),c.Cb(3),c.Lc(" ",t.currentTimer.minutes<10?"0"+t.currentTimer.minutes:t.currentTimer.minutes," "),c.Cb(3),c.Lc(" ",t.currentTimer.seconds<10?"0"+t.currentTimer.seconds:t.currentTimer.seconds," ")}}function Wt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",4),c.ec("click",(function(){return c.zc(t),c.ic().changeStatus()})),c.Wb(1,"mat-icon",5),c.Jc(2),c.Vb(),c.Wb(3,"span",6),c.Jc(4),c.Hc(5,It,9,4,"span",7),c.Vb(),c.Vb()}if(2&t){const t=c.ic();c.Eb("status-"+t.userCurrentStatus.status_detail.label.replace(" ","_").toLocaleLowerCase()+" blink-effect status-item full-width change-status-btn text-weight-500 line-height-40 full-height font-9-em overflow-hide no-bg mat-elevation-z0 text-dark-mode-color text-gray-800"),c.Cb(2),c.Kc(t.userCurrentStatus.status_detail.icon),c.Cb(2),c.Lc(" ",t.rtlDirection?t.userCurrentStatus.status_detail.label_fa:t.userCurrentStatus.status_detail.label," "),c.Cb(1),c.oc("ngIf",t.currentTimer)}}function Vt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",10),c.ec("click",(function(){return c.zc(t),c.ic().changeStatus()})),c.Wb(1,"mat-icon",11),c.Jc(2," sync_problem "),c.Vb(),c.Wb(3,"span",12),c.Jc(4),c.jc(5,"translate"),c.Vb(),c.Vb()}2&t&&(c.Cb(4),c.Kc(c.kc(5,1,"status.apply_status")))}function Dt(t,e){1&t&&(c.Wb(0,"div",13),c.Wb(1,"div",14),c.hc(),c.Wb(2,"svg",15),c.Wb(3,"rect",16),c.Rb(4,"animate",17),c.Rb(5,"animate",18),c.Vb(),c.Wb(6,"rect",19),c.Rb(7,"animate",20),c.Rb(8,"animate",21),c.Vb(),c.Wb(9,"rect",22),c.Rb(10,"animate",23),c.Rb(11,"animate",24),c.Vb(),c.Vb(),c.Vb(),c.Vb())}let zt=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c,l,h){super(e,n),this.dialog=t,this.injector=e,this.apiService=i,this.userInfoService=n,this.changeStatusService=s,this.refreshLoginService=a,this.loadingIndicatorService=o,this.translateService=r,this.changeDetector=c,this.windowManagerService=l,this.messageService=h,this.userCurrentStatus=null,this.loadingIndicator={status:!1,serviceName:"userStatusDashboard"},this.currentTimer=null,this.destroyed$=new lt.Subject,this._subscription=new p.Subscription}ngOnInit(){if(this._subscription.add(this.changeStatusService.currentUserStatus.subscribe(t=>this.userCurrentStatus=t)),null===this.userCurrentStatus||this.userCurrentStatus&&null!==this.userCurrentStatus.end_time){const t=this.dialog.open(gt.a,{data:{title:this.getTranslate("status.start_working"),message:this.getTranslate("status.start_working_time"),action:"success"},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(t.id),this.apiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(t.afterClosed().subscribe(t=>{t&&this._subscription.add(this.apiService.userChangeStatus({user_id:this.loggedInUser.id,status:1,description:""}).subscribe(t=>{t.success?(this.changeStatusService.changeUserStatus(t.data),this.messageService.showMessage(this.getTranslate("status.status_success"))):this.messageService.showMessage(this.getTranslate("status.status_description_error"))})),this.openSoftPhone()}))}else this.openSoftPhone();Object(ht.a)(1e3).subscribe(()=>{this.changeDetector.destroyed||this.changeDetector.detectChanges();const t=this.userCurrentStatus&&null===this.userCurrentStatus.end_time?this.userCurrentStatus.start_time:Y(new Date).format("YYYY-MM-DD HH:mm:ss");this.getElapsedTime(t)}),this.changeDetector.detectChanges()}changeStatus(){const t=this.dialog.open(Pt,{autoFocus:!1,width:"500px",height:"385px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)}getElapsedTime(t){const e=new Date(new Date(t).getTime());let i=Math.floor(((new Date).getTime()-e.getTime())/1e3),n=0,s=0,a=0;i>=3600&&(n=Math.floor(i/3600),i-=3600*n),i>=60&&(s=Math.floor(i/60),i-=60*s),a=i,this.currentTimer={hours:n,minutes:s,seconds:a}}openSoftPhone(){setTimeout(()=>{this.loggedInUser.services.map(t=>{const e=t.name.replace(" ","_").toLowerCase();if("softphones_service"===e){const t=this.serviceList.filter(t=>t.serviceTitle===e).pop();t&&this.openService(t)}})},2e3)}openService(t){this.windowManagerService.openWindowState(t)}getTranslate(t){return this.translateService.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe(),this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.b),c.Qb(c.s),c.Qb(C),c.Qb(v.a),c.Qb(K.a),c.Qb(mt.a),c.Qb(ut.a),c.Qb(h.e),c.Qb(c.h),c.Qb(k.a),c.Qb(f.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-user-status"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection",serviceList:"serviceList"},features:[c.zb],decls:5,vars:5,consts:[[1,"box","pos-rel","width-150","mat-elevation-z1","text-center","round-corner","height-40","cursor-pointer","overflow-hide",3,"dir","ngClass"],["mat-raised-button","",3,"class","click",4,"ngIf","ngIfElse"],["changeViewStatus",""],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height round-corner flex-center z-index-9999",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-gray-800","text-dark-mode-color"],[1,"padding-mini-r-l","height-40","display-inline-block","line-height-20","pos-rel"],["class","line-height-20 display-flex font-9-em","dir","ltr",3,"ngClass",4,"ngIf"],["dir","ltr",1,"line-height-20","display-flex","font-9-em",3,"ngClass"],[1,"text-weight-normal","width-15"],["mat-raised-button","",1,"change-status-btn","text-gray-800","text-weight-500","full-width","line-height-30","font-9-em","full-height","overflow-hide","no-bg","mat-elevation-z0","text-dark-mode-color",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-dark-mode-color","text-gray-800"],[1,"padding-mini-r-l"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","round-corner","flex-center","z-index-9999"],[1,"text-center","transform-scale-7"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Hc(1,Wt,6,5,"button",1),c.Hc(2,Vt,6,3,"ng-template",null,2,c.Ic),c.Vb(),c.Hc(4,Dt,12,0,"div",3)),2&t){const t=c.vc(3);c.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),c.Cb(1),c.oc("ngIf",e.userCurrentStatus&&!e.userCurrentStatus.end_time)("ngIfElse",t),c.Cb(3),c.oc("ngIf",e.loadingIndicator.status&&"userStatusDashboard"===e.loadingIndicator.serviceName)}},directives:[S.b,a.q,a.t,I.b,W.a],pipes:[h.d],styles:[".mat-icon[_ngcontent-%COMP%]{box-shadow:none!important}.blink-effect[_ngcontent-%COMP%]{-webkit-animation:blink 1.6s linear infinite;animation:blink 1.6s linear infinite}.status-item.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-start_working[_ngcontent-%COMP%], .status-item.status-start_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-start_working 1s linear infinite;animation:blink-status-start_working 1s linear infinite}.status-item.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-finish_working[_ngcontent-%COMP%], .status-item.status-finish_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-finish_working 1s linear infinite;animation:blink-status-finish_working 1s linear infinite}.status-item.status-lunch_break[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-lunch_break[_ngcontent-%COMP%], .status-item.status-lunch_break[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-lunch_break 1s linear infinite;animation:blink-status-lunch_break 1s linear infinite}.status-item.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-meeting[_ngcontent-%COMP%], .status-item.status-meeting[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-meeting 1s linear infinite;animation:blink-status-meeting 1s linear infinite}.status-item.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-smoking[_ngcontent-%COMP%], .status-item.status-smoking[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-smoking 1s linear infinite;animation:blink-status-smoking 1s linear infinite}.status-item.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-mission[_ngcontent-%COMP%], .status-item.status-mission[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-mission 1s linear infinite;animation:blink-status-mission 1s linear infinite}.status-item.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-leave[_ngcontent-%COMP%], .status-item.status-leave[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-leave 1s linear infinite;animation:blink-status-leave 1s linear infinite}.status-item.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-game[_ngcontent-%COMP%], .status-item.status-game[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-game 1s linear infinite;animation:blink-status-game 1s linear infinite}.status-item.status-other[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-other[_ngcontent-%COMP%], .status-item.status-other[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-other 1s linear infinite;animation:blink-status-other 1s linear infinite}.transform-scale-7[_ngcontent-%COMP%]{transform:scale(.7)}@-webkit-keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-lunch_break{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@keyframes blink-status-lunch_break{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}@keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}"],changeDetection:0}),t})();var At=i("JX91"),Rt=i("lJxs"),Lt=i("OVb6"),Tt=i("/Hbh");const jt=["clock"],Ut=["hours"],Qt=["seconds"],Et=["minutes"];function Ht(t,e){if(1&t){const t=c.Xb();c.Wb(0,"mat-icon",10),c.ec("click",(function(e){return c.zc(t),c.ic().removeClock(e)})),c.Jc(1," close "),c.Vb()}if(2&t){const t=c.ic();c.oc("ngClass",t.rtlDirection?"left-full-reverse":"right-full-reverse")}}let Ft=(()=>{class t{constructor(){this.degrees=360,this.seconds_angle=0,this.minutes_angle=0,this.hours_angle=0,this.removeClock=t=>{t.stopPropagation(),0!=this.item_index&&this.cityClocksList.splice(this.item_index,1)},this.init=()=>{this.createIndicators(),this.setHands(),setInterval(this.runClock,1e3)},this.setHands=()=>{const t=(new Date).toLocaleTimeString("en-US",{timeZone:this.item.timezone,hour12:!1}).split(":"),e=parseInt(t[0])-12,i=parseInt(t[1]),n=parseInt(t[2]);this.hours_angle=30*e+(i-i%15)/15*6,this.minutes_angle=6*i,this.seconds_angle=6*n,this.hours.nativeElement.style.transform="rotate("+this.hours_angle+"deg)",this.minutes.nativeElement.style.transform="rotate("+this.minutes_angle+"deg)",this.seconds.nativeElement.style.transform="rotate("+this.seconds_angle+"deg)"},this.runClock=()=>{this.seconds.nativeElement.style.transform="rotate("+this.seconds_angle+"deg)",this.seconds_angle==this.degrees?(this.seconds_angle=0,this.seconds.nativeElement.addEventListener("transitionend",this.controlBouncing),this.minutes_angle+=this.degrees/60,this.minutes.nativeElement.style.transform="rotate("+this.minutes_angle+"deg)",this.minutes_angle%15==0&&(this.hours_angle+=6,this.hours.nativeElement.style.transform="rotate("+this.hours_angle+"deg)")):this.seconds_angle+=this.degrees/60},this.controlBouncing=()=>{this.seconds.nativeElement.classList.add("no-transition"),this.seconds.nativeElement.style.transform="rotate("+this.seconds_angle+"deg)",setTimeout(()=>this.seconds.nativeElement.classList.remove("no-transition"),200),this.seconds.nativeElement.removeEventListener("transitionend",this.controlBouncing),this.seconds_angle+=this.degrees/60},this.createIndicators=()=>{for(let t=0;t<60;t++){const e=document.createElement("div");e.classList.add("seconds-indicator"),e.style.transform="rotate("+6*t+"deg)",t%5==0&&e.classList.add("seconds-indicator--fifth"),this.clock.nativeElement.appendChild(e)}}}ngOnInit(){this.item.city=this.item.city.replace("_"," ")}ngAfterViewInit(){this.init()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-time-area-clock"]],viewQuery:function(t,e){var i;1&t&&(c.Pc(jt,!0),c.Pc(Ut,!0),c.Pc(Qt,!0),c.Pc(Et,!0)),2&t&&(c.uc(i=c.fc())&&(e.clock=i.first),c.uc(i=c.fc())&&(e.hours=i.first),c.uc(i=c.fc())&&(e.seconds=i.first),c.uc(i=c.fc())&&(e.minutes=i.first))},inputs:{rtlDirection:"rtlDirection",checkMoreClock:"checkMoreClock",cityClocksList:"cityClocksList",item_index:"item_index",item:"item"},decls:11,vars:2,consts:[[1,"clock"],["clock",""],["class","close-button pos-abs top-full-reverse round-corner-all text-white width-18 height-18 line-height-18 text-center cursor-pointer font-9-em text-weight-bold",3,"ngClass","click",4,"ngIf"],[1,"hands","hours"],["hours",""],[1,"hands","minutes"],["minutes",""],[1,"hands","seconds"],["seconds",""],[1,"text-center","padding-t-half","no-margin","text-dark-mode-color","font-full-em"],[1,"close-button","pos-abs","top-full-reverse","round-corner-all","text-white","width-18","height-18","line-height-18","text-center","cursor-pointer","font-9-em","text-weight-bold",3,"ngClass","click"]],template:function(t,e){1&t&&(c.Wb(0,"div",0,1),c.Hc(2,Ht,2,1,"mat-icon",2),c.Rb(3,"div",3,4),c.Rb(5,"div",5,6),c.Rb(7,"div",7,8),c.Vb(),c.Wb(9,"h6",9),c.Jc(10),c.Vb()),2&t&&(c.Cb(2),c.oc("ngIf",e.checkMoreClock&&0!=e.item_index),c.Cb(8),c.Kc(e.item.city))},directives:[a.t,W.a,a.q],styles:[".close-button[_ngcontent-%COMP%]{background:red}"]}),t})();var Jt=i("/1cH");function Yt(t,e){1&t&&(c.Wb(0,"span"),c.Jc(1),c.jc(2,"translate"),c.Vb()),2&t&&(c.Cb(1),c.Kc(c.kc(2,1,"global.done")))}function Bt(t,e){1&t&&(c.Wb(0,"mat-icon",18),c.Jc(1,"error_outline"),c.Vb())}function Nt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"a",15),c.ec("click",(function(){c.zc(t);const e=c.ic();return e.checkMoreClock=!e.checkMoreClock})),c.Hc(1,Yt,3,3,"span",16),c.Hc(2,Bt,2,0,"ng-template",null,17,c.Ic),c.Vb()}if(2&t){const t=c.vc(3),e=c.ic();c.Cb(1),c.oc("ngIf",e.checkMoreClock)("ngIfElse",t)}}function Kt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"a",15),c.ec("click",(function(){c.zc(t);const e=c.ic();return e.checkMoreClockContent=!e.checkMoreClockContent})),c.Wb(1,"span"),c.Jc(2),c.jc(3,"translate"),c.Vb(),c.Vb()}2&t&&(c.Cb(2),c.Kc(c.kc(3,1,"global.done")))}function Xt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"a",22),c.ec("click",(function(e){c.zc(t);const i=c.ic(2);return i.checkMoreClockContent=!i.checkMoreClockContent,e.stopPropagation()})),c.Wb(1,"mat-icon",23),c.Jc(2,"add"),c.Vb(),c.Vb()}if(2&t){const t=c.ic(2);c.oc("ngClass",t.checkMoreClock?"right-to-left pos-rel":"left-to-right pos-abs")}}function qt(t,e){if(1&t&&(c.Ub(0),c.Rb(1,"app-time-area-clock",24),c.Tb()),2&t){const t=e.$implicit,i=e.index,n=c.ic(2);c.Cb(1),c.oc("cityClocksList",n.cityClocksList)("item",t)("item_index",i)("checkMoreClock",n.checkMoreClock)("rtlDirection",n.rtlDirection)}}function Gt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",19),c.ec("click",(function(e){return c.zc(t),e.stopPropagation()})),c.Hc(1,Xt,3,1,"a",20),c.Hc(2,qt,2,5,"ng-container",21),c.Vb()}if(2&t){const t=c.ic();c.Cb(1),c.oc("ngIf",t.cityClocksList&&t.cityClocksList.length<3),c.Cb(1),c.oc("ngForOf",t.cityClocksList)}}function $t(t,e){if(1&t){const t=c.Xb();c.Wb(0,"mat-option",31),c.ec("onSelectionChange",(function(){c.zc(t);const i=e.$implicit;return c.ic(2).setClockCity(i)}))("click",(function(){c.zc(t);const i=e.$implicit;return c.ic(2).setClockCity(i)})),c.Jc(1),c.Vb()}if(2&t){const t=e.$implicit;c.oc("value",t),c.Cb(1),c.Mc(" ",t.city," - ",t.timezone," ")}}function Zt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",25),c.ec("click",(function(e){return c.zc(t),e.stopPropagation()})),c.Wb(1,"form"),c.Wb(2,"mat-form-field",26),c.Wb(3,"mat-label"),c.Jc(4),c.jc(5,"translate"),c.Vb(),c.Rb(6,"input",27),c.Wb(7,"mat-autocomplete",28,29),c.Hc(9,$t,2,3,"mat-option",30),c.jc(10,"async"),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.vc(8),e=c.ic();c.Cb(4),c.Kc(c.kc(5,5,"soft_phone.call_to_action.timezone")),c.Cb(2),c.oc("formControl",e.myControl)("matAutocomplete",t),c.Cb(1),c.oc("displayWith",e.displayFn),c.Cb(2),c.oc("ngForOf",c.kc(10,7,e.filteredOptions))}}let te=(()=>{class t{constructor(t,e,i){this.render=t,this.dateTimeService=e,this.userInfoService=i,this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.myControl=new dt.g,this._subscription=new p.Subscription,this.checkMoreClock=!1,this.options=e.timezones,this._subscription.add(this.userInfoService.currentUserInfo.subscribe(t=>{this.loggedInUser=t,this.loggedInUser.timezone||(this.loggedInUser.timezone="Asia/Tehran"),this.currentTimezone=this.loggedInUser.timezone.split("/")[1].replace("_"," "),this.cityClocksList=[{city:this.loggedInUser.timezone.split("/")[1],timezone:this.loggedInUser.timezone}],this.init()}))}displayFn(t){return t&&t.city?t.city:""}onEnter(t){console.log(t)}setClockCity(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.some(e=>e.timezone!==t.timezone)&&this.cityClocksList.push(t)}ngOnChanges(t){this.getDateTime()}getDateTime(){this.datetime=this.dateTimeService.changeDatetimeLabel(this.rtlDirection)}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe(Object(At.a)(""),Object(Rt.a)(t=>"string"==typeof t?t:t.name),Object(Rt.a)(t=>t?this.filter(t):this.options.slice()))}init(){setInterval(()=>{this.datetime.time=(new Date).toLocaleTimeString("en-US",{timeZone:this.cityClocksList[0].timezone,hour12:!1})},1e3)}filter(t){const e=t.toLowerCase();return this.options.filter(t=>0===t.city.toLowerCase().indexOf(e))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(c.F),c.Qb(Lt.a),c.Qb(v.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-time-area"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},features:[c.Ab],decls:27,vars:16,consts:[[1,"box","pos-rel","mat-elevation-z1","padding-r-l","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color","text-gray-800"],[1,"display-flex"],[3,"ngClass"],["mat-line","",1,"font-8-rem"],[1,"text-dark-mode-color","font-8-rem","text-gray-800"],["matLine","",3,"timezone"],["dir","ltr","mat-line","",1,"font-8-rem"],["xPosition","before","yPosition","above",1,"toolbar-menu","time-area-menu"],["timeAreaMenu","matMenu"],["mat-subheader","",1,"padding-mini-t-b","padding-r-l","text-weight-normal","font-9-rem","text-dark-mode-color","display-flex","flex-space-between",3,"click"],["class","cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["showDoneClockSelector",""],["class","display-flex flex-space-around padding-half",3,"click",4,"ngIf","ngIfElse"],["showClockSelector",""],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["showDone",""],[1,"width-20","height-20","font-full-plus-half-em","rotate-180"],[1,"display-flex","flex-space-around","padding-half",3,"click"],["class","animate opacity-0 clock-plus cursor-pointer",3,"ngClass","click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"animate","opacity-0","clock-plus","cursor-pointer",3,"ngClass","click"],[1,"text-white"],[1,"transition",3,"cityClocksList","item","item_index","checkMoreClock","rtlDirection"],[1,"padding-r-l",3,"click"],[1,"full-width","text-dark-mode-color"],["type","text","matInput","",1,"full-width",3,"formControl","matAutocomplete"],[1,"text-dark-mode-color",3,"displayWith"],["auto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],[3,"value","onSelectionChange","click"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Wb(1,"mat-icon",1),c.Jc(2,"access_time"),c.Vb(),c.Wb(3,"div",2),c.Wb(4,"mat-list",3),c.Wb(5,"mat-list-item",1),c.Wb(6,"div",4),c.Jc(7),c.Vb(),c.Wb(8,"div",4),c.Jc(9),c.Vb(),c.Vb(),c.Vb(),c.Wb(10,"mat-list",3),c.Wb(11,"mat-list-item",5),c.Rb(12,"app-time-area-digital-clock",6),c.Wb(13,"div",7),c.Wb(14,"span"),c.Jc(15),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(16,"mat-menu",8,9),c.Wb(18,"h6",10),c.ec("click",(function(t){return t.stopPropagation()})),c.Jc(19),c.jc(20,"translate"),c.Hc(21,Nt,4,2,"a",11),c.Hc(22,Kt,4,3,"ng-template",null,12,c.Ic),c.Vb(),c.Hc(24,Gt,3,2,"div",13),c.Hc(25,Zt,11,9,"ng-template",null,14,c.Ic),c.Vb()),2&t){const t=c.vc(17),i=c.vc(23),n=c.vc(26);c.oc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",t)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),c.Cb(4),c.oc("ngClass",e.rtlDirection?"text-right":"text-left"),c.Cb(3),c.Kc(e.datetime?e.datetime.date:""),c.Cb(2),c.Kc(e.datetime?e.datetime.weekday:""),c.Cb(1),c.oc("ngClass",e.rtlDirection?"text-left":"text-right"),c.Cb(2),c.oc("timezone",e.loggedInUser?e.loggedInUser.timezone:null),c.Cb(3),c.Kc(e.loggedInUser?e.currentTimezone:""),c.Cb(4),c.Lc(" ",c.kc(20,14,"dashboard.dashboard_toolbar.active_clocks")," "),c.Cb(2),c.oc("ngIf",!e.checkMoreClockContent)("ngIfElse",i),c.Cb(3),c.oc("ngIf",!1===e.checkMoreClockContent)("ngIfElse",n)}},directives:[S.b,G.d,a.q,W.a,O.a,O.d,P.k,Tt.a,G.e,O.g,a.t,a.s,Ft,dt.I,dt.t,dt.u,vt.c,vt.g,wt.b,dt.c,Jt.d,dt.s,dt.h,Jt.a,P.o],pipes:[h.d,a.b],styles:[".left-to-right[_ngcontent-%COMP%]{left:-100%}.right-to-left[_ngcontent-%COMP%]{right:0}"]}),t})(),ee=(()=>{class t{constructor(t){this.http=t,this.accessToken="",this.API_URL=g.a.CONTAINER_URL+"/hr",this.headers={headers:new w.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}updateUser(t,e){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(`${this.API_URL}/users/${e}`,t,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(c.ac(w.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ie=i("jhN1");const ne=["wrapper"],se=["sourceImage"];function ae(t,e){if(1&t){const t=c.Xb();c.Wb(0,"img",4,5),c.ec("load",(function(){return c.zc(t),c.ic().imageLoadedInView()})),c.Vb()}if(2&t){const t=c.ic();c.Gc("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),c.oc("src",t.safeImgDataUrl,c.Bc)}}function oe(t,e){if(1&t){const t=c.Xb();c.Ub(0),c.Wb(1,"span",9),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"topleft")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"topleft")})),c.Rb(2,"span",10),c.Vb(),c.Wb(3,"span",11),c.Rb(4,"span",10),c.Vb(),c.Wb(5,"span",12),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"topright")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"topright")})),c.Rb(6,"span",10),c.Vb(),c.Wb(7,"span",13),c.Rb(8,"span",10),c.Vb(),c.Wb(9,"span",14),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")})),c.Rb(10,"span",10),c.Vb(),c.Wb(11,"span",15),c.Rb(12,"span",10),c.Vb(),c.Wb(13,"span",16),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")})),c.Rb(14,"span",10),c.Vb(),c.Wb(15,"span",17),c.Rb(16,"span",10),c.Vb(),c.Wb(17,"span",18),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"top")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"top")})),c.Vb(),c.Wb(18,"span",19),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"right")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"right")})),c.Vb(),c.Wb(19,"span",20),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottom")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"bottom")})),c.Vb(),c.Wb(20,"span",21),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"left")}))("touchstart",(function(e){c.zc(t);const i=c.ic(2);return i.startMove(e,i.moveTypes.Resize,"left")})),c.Vb(),c.Tb()}}function re(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",6),c.ec("keydown",(function(e){return c.zc(t),c.ic().keyboardAccess(e)})),c.Wb(1,"div",7),c.ec("mousedown",(function(e){c.zc(t);const i=c.ic();return i.startMove(e,i.moveTypes.Move)}))("touchstart",(function(e){c.zc(t);const i=c.ic();return i.startMove(e,i.moveTypes.Move)})),c.Vb(),c.Hc(2,oe,21,0,"ng-container",8),c.Vb()}if(2&t){const t=c.ic();c.Gc("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),c.Gb("rounded",t.roundCropper),c.Cb(2),c.oc("ngIf",!t.hideResizeSquares)}}const ce={Move:"move",Resize:"resize",Pinch:"pinch"};let le=(()=>{class t{constructor(t,e){this.sanitizer=t,this.cd=e,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.autoRotateSupported=new Promise(t=>{const e=new Image;e.onload=()=>{t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}),this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.moveTypes=ce,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new c.o,this.startCropImage=new c.o,this.imageLoaded=new c.o,this.cropperReady=new c.o,this.loadImageFailed=new c.o,this.initCropper()}ngOnChanges(t){this.cropperStaticHeight&&this.cropperStaticWidth&&(this.hideResizeSquares=!0,this.cropperMinWidth=this.cropperStaticWidth,this.cropperMinHeight=this.cropperStaticHeight,this.maintainAspectRatio=!1),this.onChangesInputImage(t),this.originalImage&&this.originalImage.complete&&this.exifTransform&&(t.containWithinAspectRatio||t.canvasRotation)&&this.transformOriginalImage(),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.initCropper(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.stepSize=this.initialStepSize,this.activatePinchGesture()}initCropper(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImage(t,e){this.isValidImageType(e)?this.loadBase64Image(t):this.loadImageFailed.emit()}loadImageFile(t){const e=new FileReader;e.onload=e=>this.loadImage(e.target.result,t.type),e.readAsDataURL(t)}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadBase64Image(t){this.autoRotateSupported.then(e=>this.checkExifAndLoadBase64Image(t,e)).then(()=>this.transformOriginalImage()).catch(t=>{this.loadImageFailed.emit(),this.originalImage=null,this.originalBase64=null,console.error(t)})}checkExifAndLoadBase64Image(t,e){return new Promise((i,n)=>{this.originalImage=new Image,this.originalImage.onload=()=>{this.originalBase64=t,this.exifTransform=function(t){switch("string"==typeof t&&(t=function(t){const e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(t),i=e.length,n=new Uint8Array(i);for(let s=0;s<i;s++)n[s]=e.charCodeAt(s);return n.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;const i=e.byteLength;let n=2;for(;n<i;){if(e.getUint16(n+2,!1)<=8)return-1;const t=e.getUint16(n,!1);if(n+=2,65505==t){if(1165519206!=e.getUint32(n+=2,!1))return-1;const t=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,t);const i=e.getUint16(n,t);n+=2;for(let s=0;s<i;s++)if(274==e.getUint16(n+12*s,t))return e.getUint16(n+12*s+8,t)}else{if(65280!=(65280&t))break;n+=e.getUint16(n,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(e?-1:t),this.originalSize.width=this.originalImage.naturalWidth,this.originalSize.height=this.originalImage.naturalHeight,i()},this.originalImage.onerror=n,this.originalImage.src=t})}loadImageFromURL(t){const e=new Image;e.onerror=()=>this.loadImageFailed.emit(),e.onload=()=>{const t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0),this.loadBase64Image(t.toDataURL())},e.crossOrigin="anonymous",e.src=t}transformOriginalImage(){if(!this.originalImage||!this.originalImage.complete||!this.exifTransform)return Promise.reject(new Error("No image loaded"));const t=this.transformImageBase64();return this.setTransformedImage(t)}transformImageBase64(){const t=this.canvasRotation+this.exifTransform.rotate;if(0===t&&!this.exifTransform.flip&&!this.containWithinAspectRatio)return this.originalBase64;const e=this.getTransformedSize(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const n=i.getContext("2d");return n.setTransform(this.exifTransform.flip?-1:1,0,0,1,i.width/2,i.height/2),n.rotate(Math.PI*(t/2)),n.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),i.toDataURL()}getTransformedSize(){const t=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(t%2){const t=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,this.originalSize.width*this.aspectRatio),height:Math.max(this.originalSize.width,t)}}{const t=this.originalSize.width/this.aspectRatio;return{width:Math.max(this.originalSize.width,this.originalSize.height*this.aspectRatio),height:Math.max(this.originalSize.height,t)}}}return t%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}}setTransformedImage(t){return new Promise(e=>{this.transformedBase64=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t),this.transformedImage=new Image,this.transformedImage.onload=()=>{this.transformedSize.width=this.transformedImage.naturalWidth,this.transformedSize.height=this.transformedImage.naturalHeight,this.cd.markForCheck(),e()},this.transformedImage.src=this.transformedBase64})}imageLoadedInView(){null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(c.W)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){const t=this.sourceImage.nativeElement;if(this.cropperStaticHeight&&this.cropperStaticWidth)this.cropper.x1=0,this.cropper.x2=t.offsetWidth>this.cropperStaticWidth?this.cropperStaticWidth:t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight>this.cropperStaticHeight?this.cropperStaticHeight:t.offsetHeight;else if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;const e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;const e=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-e)/2,this.cropper.x2=this.cropper.x1+e}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){t.key>="1"&&t.key<="9"&&(this.stepSize=+t.key)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const e=t.shiftKey?ce.Resize:ce.Move,i=t.altKey?this.getInvertedPositionForKey(t.key):this.getPositionForKey(t.key),n=this.getEventForKey(t.key,this.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(n),this.moveStop()}getPositionForKey(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}getInvertedPositionForKey(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}getEventForKey(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}startMove(t,e,i=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===ce.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper))}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:ce.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ce.Move?(this.move(t),this.checkCropperPosition(!0)):this.moveStart.type===ce.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ce.Pinch&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}move(t){const e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+i,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+i}resize(t){const e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"center":const n=t.scale,s=Math.abs(this.moveStart.x2-this.moveStart.x1)*n,a=Math.abs(this.moveStart.y2-this.moveStart.y1)*n,o=this.cropper.x1,r=this.cropper.y1;this.cropper.x1=Math.min(this.moveStart.clientX-s/2,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.clientY-a/2,this.cropper.y2-this.cropperScaledMinHeight),this.cropper.x2=Math.max(this.moveStart.clientX+s/2,o+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.clientY+a/2,r+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()}checkAspectRatio(){let t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"center":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio;const i=Math.max(0-this.cropper.x1,0),n=Math.max(this.cropper.x2-this.maxSize.width,0),s=Math.max(this.cropper.y2-this.maxSize.height,0),a=Math.max(0-this.cropper.y1,0);(i>0||n>0||s>0||a>0)&&(this.cropper.x1+=s*this.aspectRatio>i?s*this.aspectRatio:i,this.cropper.x2-=a*this.aspectRatio>n?a*this.aspectRatio:n,this.cropper.y1+=a*this.aspectRatio>n?a:n/this.aspectRatio,this.cropper.y2-=s*this.aspectRatio>i?s:i/this.aspectRatio)}}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();const t=this.getImagePosition(),e=t.x2-t.x1,i=t.y2-t.y1,n=document.createElement("canvas");n.width=e,n.height=i;const s=n.getContext("2d");if(s){null!=this.backgroundColor&&(s.fillStyle=this.backgroundColor,s.fillRect(0,0,e,i));const a=(this.transform.scale||1)*(this.transform.flipH?-1:1),o=(this.transform.scale||1)*(this.transform.flipV?-1:1);s.setTransform(a,0,0,o,this.transformedSize.width/2,this.transformedSize.height/2),s.translate(-t.x1/a,-t.y1/o),s.rotate((this.transform.rotate||0)*Math.PI/180),s.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);const r={width:e,height:i,imagePosition:t,cropperPosition:Object.assign({},this.cropper)};this.containWithinAspectRatio&&(r.offsetImagePosition=this.getOffsetImagePosition());const c=this.getResizeRatio(e,i);return 1!==c&&(r.width=Math.round(e*c),r.height=this.maintainAspectRatio?Math.round(r.width/this.aspectRatio):Math.round(i*c),function(t,e,i){const n=t.width,s=t.height,a=n/(e=Math.round(e)),o=s/(i=Math.round(i)),r=Math.ceil(a/2),c=Math.ceil(o/2),l=t.getContext("2d");if(l){const h=l.getImageData(0,0,n,s),g=l.createImageData(e,i),p=h.data,d=g.data;for(let t=0;t<i;t++)for(let i=0;i<e;i++){const l=4*(i+t*e),h=t*o;let g=0,m=0,u=0,b=0,f=0,v=0,w=0;const C=Math.floor(i*a),x=Math.floor(t*o);let _=Math.ceil((i+1)*a),M=Math.ceil((t+1)*o);_=Math.min(_,n),M=Math.min(M,s);for(let t=x;t<M;t++){const e=Math.abs(h-t)/c,s=i*a,o=e*e;for(let i=C;i<_;i++){const e=Math.abs(s-i)/r,a=Math.sqrt(o+e*e);if(a>=1)continue;g=2*a*a*a-3*a*a+1;const c=4*(i+t*n);w+=g*p[c+3],u+=g,p[c+3]<255&&(g=g*p[c+3]/250),b+=g*p[c],f+=g*p[c+1],v+=g*p[c+2],m+=g}}d[l]=b/m,d[l+1]=f/m,d[l+2]=v/m,d[l+3]=w/u}t.width=e,t.height=i,l.putImageData(g,0,0)}}(n,r.width,r.height)),r.base64=this.cropToBase64(n),this.imageCropped.emit(r),r}}return null}getImagePosition(){const t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,e={x1:Math.round(this.cropper.x1*t),y1:Math.round(this.cropper.y1*t),x2:Math.round(this.cropper.x2*t),y2:Math.round(this.cropper.y2*t)};return this.containWithinAspectRatio||(e.x1=Math.max(e.x1,0),e.y1=Math.max(e.y1,0),e.x2=Math.min(e.x2,this.transformedSize.width),e.y2=Math.min(e.y2,this.transformedSize.height)),e}getOffsetImagePosition(){const t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;let e,i;(this.canvasRotation+this.exifTransform.rotate)%2?(e=(this.transformedSize.width-this.originalSize.height)/2,i=(this.transformedSize.height-this.originalSize.width)/2):(e=(this.transformedSize.width-this.originalSize.width)/2,i=(this.transformedSize.height-this.originalSize.height)/2);const n={x1:Math.round(this.cropper.x1*t)-e,y1:Math.round(this.cropper.y1*t)-i,x2:Math.round(this.cropper.x2*t)-e,y2:Math.round(this.cropper.y2*t)-i};return this.containWithinAspectRatio||(n.x1=Math.max(n.x1,0),n.y1=Math.max(n.y1,0),n.x2=Math.min(n.x2,this.transformedSize.width),n.y2=Math.min(n.y2,this.transformedSize.height)),n}cropToBase64(t){return t.toDataURL("image/"+this.format,this.getQuality())}getQuality(){return Math.min(1,Math.max(0,this.imageQuality/100))}getResizeRatio(t,e){const i=this.resizeToWidth/t,n=this.resizeToHeight/e,s=new Array;this.resizeToWidth>0&&s.push(i),this.resizeToHeight>0&&s.push(n);const a=0===s.length?1:Math.min(...s);return a>1&&!this.onlyScaleDown?a:Math.min(a,1)}getClientX(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}getClientY(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(ie.b),c.Qb(c.h))},t.\u0275cmp=c.Kb({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var i;1&t&&(c.Fc(ne,!0),c.Pc(se,!0)),2&t&&(c.uc(i=c.fc())&&(e.wrapper=i.first),c.uc(i=c.fc())&&(e.sourceImage=i.first))},hostVars:4,hostBindings:function(t,e){1&t&&c.ec("resize",(function(){return e.onResize()}),!1,c.yc)("mousemove",(function(t){return e.moveImg(t)}),!1,c.xc)("touchmove",(function(t){return e.moveImg(t)}),!1,c.xc)("mouseup",(function(){return e.moveStop()}),!1,c.xc)("touchend",(function(){return e.moveStop()}),!1,c.xc),2&t&&(c.Gc("text-align",e.alignImage),c.Gb("disabled",e.disabled))},inputs:{format:"format",maintainAspectRatio:"maintainAspectRatio",transform:"transform",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",backgroundColor:"backgroundColor"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[c.Ab],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(c.Wb(0,"div",null,0),c.Hc(2,ae,2,5,"img",1),c.Rb(3,"div",2),c.Hc(4,re,3,15,"div",3),c.Vb()),2&t&&(c.Gc("background",e.imageVisible&&e.backgroundColor,c.Jb),c.Cb(2),c.oc("ngIf",e.safeImgDataUrl),c.Cb(1),c.Gc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),c.Cb(1),c.oc("ngIf",e.imageVisible))},directives:[a.t],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t})(),he=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[a.c]]}),t})();function ge(t,e){1&t&&(c.Wb(0,"div",23),c.Wb(1,"div",24),c.hc(),c.Wb(2,"svg",25),c.Wb(3,"rect",26),c.Rb(4,"animate",27),c.Rb(5,"animate",28),c.Vb(),c.Wb(6,"rect",29),c.Rb(7,"animate",30),c.Rb(8,"animate",31),c.Vb(),c.Wb(9,"rect",32),c.Rb(10,"animate",33),c.Rb(11,"animate",34),c.Vb(),c.Vb(),c.gc(),c.Wb(12,"span",35),c.Jc(13),c.jc(14,"translate"),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Cb(13),c.Kc(c.kc(14,1,"global.loading")))}let pe=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c){super(i,a),this.data=t,this.dialogRef=e,this.injector=i,this.translate=n,this.messageService=s,this.userInfoService=a,this.viewDirection=o,this.profileSettingService=r,this.loadingIndicatorService=c,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={},this.loadingIndicator={status:!1,serviceName:"imageCropper"},this._subscription=new p.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t))}ngOnInit(){this.dialogData=this.data,this.fileChangeEvent(this.dialogData.data)}closeModal(){this.dialogRef.close(!1)}onSubmit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"imageCropper"}),this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;const t={};t.profile_image=this.croppedImage,this._subscription.add(this.profileSettingService.updateUser(t,this.loggedInUser.id).subscribe(t=>{if(t.success){const e=this.getTranslate("profileSettings.profile_update");this.messageService.showMessage(e,"success"),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"});let i=this.loggedInUser;i=Object.assign(Object.assign({},i),{profile_image:"assets/profileImg/0.jpg"}),this.userInfoService.changeUserInfo(i),i=Object.assign(Object.assign({},i),{profile_image:t.data.profile_image}),this.userInfoService.changeUserInfo(i),this.dialogRef.close(!0)}},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"})}))}fileChangeEvent(t){this.imageChangedEvent=t}imageCropped(t){this.croppedImage=t.base64}imageLoaded(){this.showCropper=!0}loadImageFailed(){const t=this.getTranslate("profileSettings.error_upload");this.messageService.showMessage(t,"error")}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipHorizontal(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}flipVertical(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}resetImage(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}toggleContainWithinAspectRatio(){this.containWithinAspectRatio=!this.containWithinAspectRatio}getTranslate(t){return this.translate.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}flipAfterRotate(){const t=this.transform.flipH,e=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:e,flipV:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.a),c.Qb(m.h),c.Qb(c.s),c.Qb(h.e),c.Qb(f.a),c.Qb(v.a),c.Qb(b.a),c.Qb(ee),c.Qb(ut.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-show-image-cropper"]],features:[c.zb],decls:55,vars:29,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width","bg-white",3,"dir"],[1,"full-width","height-45","padding-half","display-flex"],[1,"full-width","font-full-plus-one-tenth-em","display-flex","no-margin"],[1,"pos-rel","top-one-tenth",3,"ngClass"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","bg-grey"],[1,"full-width","full-height","pos-abs","left-0","right-0","top-0"],[1,"container-show-cropper","padding-full","display-inline-block","full-width"],[2,"width","50% !important",3,"ngClass"],["format","jpeg",2,"padding","15px !important",3,"alignImage","aspectRatio","canvasRotation","containWithinAspectRatio","cropperMinWidth","imageChangedEvent","imageQuality","maintainAspectRatio","onlyScaleDown","resizeToWidth","roundCropper","transform","imageCropped","imageLoaded","loadImageFailed"],[1,"padding-l-half","padding-r-half","half-width",3,"ngClass"],[1,"round-corner","full-width",3,"src"],[1,"container-tools","display-inline-block","full-width","height-50","margin-t-full"],[1,"display-block","cursor-pointer","text-center","no-padding","no-border","no-bg","margin-r-l",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-purple-800"],[1,"height-35","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-raised-button","","type","button",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"h3",2),c.Wb(3,"mat-icon",3),c.Jc(4,"photo_size_select_actual "),c.Vb(),c.Jc(5),c.jc(6,"translate"),c.Vb(),c.Wb(7,"div",4),c.Wb(8,"button",5),c.ec("click",(function(){return e.closeModal()})),c.Wb(9,"mat-icon",6),c.Jc(10,"close "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(11,"div",7),c.Wb(12,"div",8),c.Wb(13,"div",9),c.Wb(14,"div",10),c.Wb(15,"image-cropper",11),c.ec("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("loadImageFailed",(function(){return e.loadImageFailed()})),c.Vb(),c.Vb(),c.Wb(16,"div",12),c.Rb(17,"img",13),c.Vb(),c.Wb(18,"div",14),c.Wb(19,"button",15),c.ec("click",(function(){return e.rotateLeft()})),c.Wb(20,"mat-icon",16),c.Jc(21," rotate_left "),c.Vb(),c.Vb(),c.Wb(22,"button",15),c.ec("click",(function(){return e.rotateRight()})),c.Wb(23,"mat-icon",16),c.Jc(24," rotate_right "),c.Vb(),c.Vb(),c.Wb(25,"button",15),c.ec("click",(function(){return e.flipHorizontal()})),c.Wb(26,"mat-icon",16),c.Jc(27,"360 "),c.Vb(),c.Vb(),c.Wb(28,"button",15),c.ec("click",(function(){return e.flipVertical()})),c.Wb(29,"mat-icon",16),c.Jc(30," swap_vert "),c.Vb(),c.Vb(),c.Wb(31,"button",15),c.ec("click",(function(){return e.zoomIn()})),c.Wb(32,"mat-icon",16),c.Jc(33,"zoom_in "),c.Vb(),c.Vb(),c.Wb(34,"button",15),c.ec("click",(function(){return e.zoomOut()})),c.Wb(35,"mat-icon",16),c.Jc(36," zoom_out "),c.Vb(),c.Vb(),c.Wb(37,"button",15),c.ec("click",(function(){return e.toggleContainWithinAspectRatio()})),c.Wb(38,"mat-icon",16),c.Jc(39," zoom_out_map "),c.Vb(),c.Vb(),c.Wb(40,"button",15),c.ec("click",(function(){return e.resetImage()})),c.Wb(41,"mat-icon",16),c.Jc(42," restore_page "),c.Vb(),c.Vb(),c.Vb(),c.Wb(43,"div",17),c.Wb(44,"button",18),c.ec("click",(function(){return e.closeModal()})),c.Wb(45,"span",19),c.Jc(46),c.jc(47,"translate"),c.Vb(),c.Vb(),c.Wb(48,"button",20),c.ec("click",(function(){return e.onSubmit()})),c.Wb(49,"mat-icon",21),c.Jc(50,"check"),c.Vb(),c.Wb(51,"span",19),c.Jc(52),c.jc(53,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Hc(54,ge,15,3,"div",22)),2&t&&(c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(3),c.oc("ngClass",e.rtlDirection?"margin-l-half":"margin-r-half"),c.Cb(2),c.Lc(" ",c.kc(6,23,"profileSettings.edit_user_photo")," "),c.Cb(2),c.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),c.Cb(7),c.oc("ngClass",e.rtlDirection?"float-right":"float-left"),c.Cb(1),c.Gc("display",e.showCropper?null:"none"),c.oc("alignImage","center")("aspectRatio",1)("canvasRotation",e.canvasRotation)("containWithinAspectRatio",e.containWithinAspectRatio)("cropperMinWidth",200)("imageChangedEvent",e.imageChangedEvent)("imageQuality",50)("maintainAspectRatio",!0)("onlyScaleDown",!0)("roundCropper",!1)("transform",e.transform),c.Cb(1),c.oc("ngClass",e.rtlDirection?"float-right":"float-left"),c.Cb(1),c.oc("src",e.croppedImage,c.Bc),c.Cb(29),c.Kc(c.kc(47,25,"global.dismiss")),c.Cb(6),c.Kc(c.kc(53,27,"global.submit")),c.Cb(2),c.oc("ngIf",e.loadingIndicator.status&&"imageCropper"===e.loadingIndicator.serviceName))},directives:[S.b,W.a,a.q,le,I.b,a.t],pipes:[h.d],styles:[".container-tools[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center;justify-content:center}"]}),t})();var de=i("jaxi"),me=i("d3UM"),ue=i("eIep"),be=i("Q1FS");let fe=(()=>{class t{constructor(){this.progress=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Rb(1,"div",1),c.Vb()),2&t&&(c.Cb(1),c.Gc("width",e.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:all .5s}"]}),t})(),ve=(()=>{class t{constructor(){this.fileDropped=new c.o}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}ondrop(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;let e=t.dataTransfer.files;e.length>0&&this.fileDropped.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Lb({type:t,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(t,e){1&t&&c.ec("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&c.Gb("fileover",e.fileOver)},outputs:{fileDropped:"fileDropped"}}),t})();function we(t,e){if(1&t&&(c.Wb(0,"div",14),c.Wb(1,"div",15),c.Wb(2,"h4",16),c.Jc(3),c.Vb(),c.Wb(4,"p",17),c.Jc(5),c.Vb(),c.Rb(6,"app-progress",18),c.Vb(),c.Vb()),2&t){const t=e.$implicit,i=c.ic(3);c.Cb(3),c.Lc(" ",null==t?null:t.name," "),c.Cb(2),c.Lc(" ",i.formatBytes(null==t?null:t.size)," "),c.Cb(1),c.oc("progress",null==t?null:t.progress)}}function Ce(t,e){if(1&t&&(c.Wb(0,"div",12),c.Hc(1,we,7,3,"div",13),c.Vb()),2&t){const t=c.ic(2);c.Cb(1),c.oc("ngForOf",t.files)}}function xe(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",19),c.ec("click",(function(){return c.zc(t),c.ic(2).deleteFile(0)})),c.Wb(1,"mat-icon",20),c.Jc(2," replay "),c.Vb(),c.Vb()}}const _e=function(t){return{width:t}};function Me(t,e){if(1&t&&(c.Wb(0,"div",7),c.Wb(1,"div",8),c.Rb(2,"img",9),c.Hc(3,Ce,2,1,"div",10),c.Vb(),c.Hc(4,xe,3,0,"div",11),c.Vb()),2&t){const t=c.ic();c.Cb(1),c.oc("ngStyle",c.rc(4,_e,"calc(160px *"+t.environment.width/t.environment.height+")")),c.Cb(1),c.oc("src",t.wallpaperUrl,c.Bc),c.Cb(1),c.oc("ngIf",t.showProgress),c.Cb(1),c.oc("ngIf",t.showDelete)}}function ke(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",21),c.ec("fileDropped",(function(e){return c.zc(t),c.ic().onFileDropped(e)})),c.Wb(1,"input",22),c.ec("change",(function(e){return c.zc(t),c.ic().fileBrowseHandler(e)})),c.Vb(),c.hc(),c.Wb(2,"svg",23),c.Rb(3,"path",24),c.Rb(4,"path",25),c.Rb(5,"polyline",26),c.Rb(6,"line",27),c.Vb(),c.gc(),c.Wb(7,"h6",28),c.Jc(8),c.jc(9,"translate"),c.Vb(),c.Wb(10,"label",29),c.Wb(11,"mat-icon",30),c.Jc(12,"add"),c.Vb(),c.Wb(13,"span",31),c.Jc(14),c.jc(15,"translate"),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.ic();c.Cb(7),c.oc("ngClass",t.rtlDirection?"font-9-em":"font-full-plus-one-tenth-em"),c.Cb(1),c.Lc(" ",c.kc(9,3,"profileSettings.drag_drop_text1")," "),c.Cb(6),c.Kc(c.kc(15,5,"profileSettings.drag_drop_text3"))}}function ye(t,e){if(1&t){const t=c.Xb();c.Wb(0,"mat-card",32),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic().changeWallpaperPhysical(i.img)})),c.Vb()}2&t&&c.Gc("background",e.$implicit.value,c.Jb)}function Se(t,e){1&t&&(c.Wb(0,"div",33),c.Wb(1,"div",34),c.hc(),c.Wb(2,"svg",35),c.Wb(3,"rect",36),c.Rb(4,"animate",37),c.Rb(5,"animate",38),c.Vb(),c.Wb(6,"rect",39),c.Rb(7,"animate",40),c.Rb(8,"animate",41),c.Vb(),c.Wb(9,"rect",42),c.Rb(10,"animate",43),c.Rb(11,"animate",44),c.Vb(),c.Vb(),c.gc(),c.Wb(12,"span",45),c.Jc(13),c.jc(14,"translate"),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Cb(13),c.Kc(c.kc(14,1,"global.loading")))}let Oe=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c,l,h,g,d){super(s,c),this.window=t,this.data=e,this.dialogRef=i,this.http=n,this.injector=s,this.translate=a,this.viewDirection=o,this.messageService=r,this.userInfoService=c,this.refreshLoginService=l,this.wallPaperSelector=h,this.profileSettingService=g,this.loadingIndicatorService=d,this.showProgress=!1,this.showDelete=!1,this.rtlDirection=!1,this.loadingIndicator={status:!1,serviceName:"wallpaper"},this.wallpapersPictures=[{id:1,value:"url(./assets/images/wallpapers/1.jpg)",img:"./assets/images/wallpapers/1.jpg"},{id:2,value:"url(./assets/images/wallpapers/2.jpg)",img:"./assets/images/wallpapers/2.jpg"},{id:3,value:"url(./assets/images/wallpapers/3.jpg)",img:"./assets/images/wallpapers/3.jpg"},{id:4,value:"url(./assets/images/wallpapers/4.jpg)",img:"./assets/images/wallpapers/4.jpg"},{id:5,value:"url(./assets/images/wallpapers/5.jpg)",img:"./assets/images/wallpapers/5.jpg"},{id:6,value:"url(./assets/images/wallpapers/6.jpg)",img:"./assets/images/wallpapers/6.jpg"},{id:7,value:"url(./assets/images/wallpapers/7.jpg)",img:"./assets/images/wallpapers/7.jpg"},{id:8,value:"url(./assets/images/wallpapers/8.jpg)",img:"./assets/images/wallpapers/8.jpg"},{id:9,value:"url(./assets/images/wallpapers/9.jpg)",img:"./assets/images/wallpapers/9.jpg"},{id:10,value:"url(./assets/images/wallpapers/10.jpg)",img:"./assets/images/wallpapers/10.jpg"},{id:11,value:"url(./assets/images/wallpapers/11.jpg)",img:"./assets/images/wallpapers/11.jpg"},{id:12,value:"url(./assets/images/wallpapers/12.jpg)",img:"./assets/images/wallpapers/12.jpg"},{id:13,value:"url(./assets/images/wallpapers/13.jpg)",img:"./assets/images/wallpapers/13.jpg"},{id:14,value:"url(./assets/images/wallpapers/14.jpg)",img:"./assets/images/wallpapers/14.jpg"},{id:15,value:"url(./assets/images/wallpapers/15.jpg)",img:"./assets/images/wallpapers/15.jpg"},{id:16,value:"url(./assets/images/wallpapers/16.jpg)",img:"./assets/images/wallpapers/16.jpg"},{id:17,value:"url(./assets/images/wallpapers/17.jpg)",img:"./assets/images/wallpapers/17.jpg"},{id:18,value:"url(./assets/images/wallpapers/18.jpg)",img:"./assets/images/wallpapers/18.jpg"},{id:19,value:"url(./assets/images/wallpapers/19.jpg)",img:"./assets/images/wallpapers/19.jpg"},{id:20,value:"url(./assets/images/wallpapers/20.jpg)",img:"./assets/images/wallpapers/20.jpg"},{id:21,value:"url(./assets/images/wallpapers/21.jpg)",img:"./assets/images/wallpapers/21.jpg"},{id:22,value:"url(./assets/images/wallpapers/22.jpg)",img:"./assets/images/wallpapers/22.jpg"},{id:23,value:"url(./assets/images/wallpapers/23.jpg)",img:"./assets/images/wallpapers/23.jpg"},{id:24,value:"url(./assets/images/wallpapers/24.jpg)",img:"./assets/images/wallpapers/24.jpg"},{id:25,value:"url(./assets/images/wallpapers/25.jpg)",img:"./assets/images/wallpapers/25.jpg"},{id:26,value:"url(./assets/images/wallpapers/26.jpg)",img:"./assets/images/wallpapers/26.jpg"},{id:27,value:"url(./assets/images/wallpapers/27.jpg)",img:"./assets/images/wallpapers/27.jpg"}],this.files=[],this.wallpaperUrl="",this._subscription=new p.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t)),this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnInit(){this.environment=window.outerWidth}onFileDropped(t){this.prepareFilesList(t);const e=t[0];this.sellersPermitFile=e,this.handleInputChange(e)}fileBrowseHandler(t){this.prepareFilesList(t.target.files);let e=t.target.files;if(e.length>0){const t=e[0];this.sellersPermitFile=t,this.handleInputChange(t)}else alert("No file selected")}deleteFile(t){this.files.splice(t,1),this.wallpaperUrl="",this.showProgress=!1,this.showDelete=!1}uploadFilesSimulator(t){setTimeout(()=>{if(t!==this.files.length){const e=setInterval(()=>{100===this.files[t].progress?(clearInterval(e),this.uploadFilesSimulator(t+1),this.onSubmit(this.wallpaperUrl)):this.files[t].progress+=5},200)}},1e3)}prepareFilesList(t){for(const e of t)e.progress=0,this.files.push(e);this.uploadFilesSimulator(0)}formatBytes(t,e=0){if(0===t)return"0 Bytes";const i=e<=0?0:e||2,n=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,n)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}handleInputChange(t){let e=t,i=new FileReader;e.type.match(/image-*/)?(i.onloadend=this._handleReaderLoaded.bind(this),i.readAsDataURL(e)):alert("invalid format")}_handleReaderLoaded(t){let e=t.target.result;this.imageSrc=e,this.wallpaperUrl=e,this.showProgress=!0,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"})}onSubmit(t){this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;const e={};e.background_image=t,this._subscription.add(this.profileSettingService.updateUser(e,this.loggedInUser.id).subscribe(t=>{if(t.success){const e=this.getTranslate("profileSettings.profile_update");this.messageService.showMessage(e,"success"),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),this.showProgress=!1,this.showDelete=!0;let i=this.loggedInUser;i=Object.assign(Object.assign({},i),{background_image:t.data.background_image}),this.userInfoService.changeUserInfo(i),this.changeWallpaper("url("+t.data.background_image+")")}},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),this.showProgress=!1,this.showDelete=!0,this.refreshLoginService.openLoginDialog(t)}))}changeWallpaperPhysical(t){this.http.get(t,{responseType:"blob"}).pipe(Object(ue.a)(t=>this.convertBlobToBase64(t))).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"}),this.onSubmit(t)})}convertBlobToBase64(t){return be.Observable.create(e=>{const i=new FileReader;i.readAsDataURL(t),i.onload=t=>{e.next(t.target.result),e.complete()},i.onerror=t=>{e.next(t.target.error.code),e.complete()}})}changeWallpaper(t){this.wallPaperSelector.changeWallpaper(t)}getTranslate(t){return this.translate.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb("windowObject"),c.Qb(m.a),c.Qb(m.h),c.Qb(w.a),c.Qb(c.s),c.Qb(h.e),c.Qb(b.a),c.Qb(f.a),c.Qb(v.a),c.Qb(mt.a),c.Qb(M),c.Qb(ee),c.Qb(ut.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-wallpaper"]],features:[c.zb],decls:11,vars:12,consts:[[1,"full-height",3,"dir"],["class","pos-rel",4,"ngIf","ngIfElse"],["emptyWallpaperUrl",""],[1,"height-35","line-height-35","no-margin","font-full-em"],[1,"display-block","height-full-minus-175","custom-mat-dialog-content","no-padding","overflow-y-auto","display-flex","flex-direction-row","flex-wrap","flex-space-between"],["class","mat-elevation-z1 full-width height-100 wallpaper thirty-width cursor-pointer margin-b-full",3,"background","click",4,"ngFor","ngForOf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"pos-rel"],[1,"height-135","pos-rel","margin-auto","round-corner","monitor-image","display-flex","justify-content-center","overflow-hide",2,"background-color","blueviolet","height","100vh","max-height","160px",3,"ngStyle"],["alt","",1,"display-block","margin-auto","full-height",3,"src"],["class","files-list pos-abs bottom-0 full-width z-index-9999","dir","ltr",4,"ngIf"],["class","delete pos-abs right-0 cursor-pointer",3,"click",4,"ngIf"],["dir","ltr",1,"files-list","pos-abs","bottom-0","full-width","z-index-9999"],["class","single-file display-flex round-corner align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"single-file","display-flex","round-corner","align-items-center","justify-content-center"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],[1,"delete","pos-abs","right-0","cursor-pointer",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-green-800"],["appDnd","",1,"wallpaper-container","full-width","height-135","padding-half","round-corner","bg-white","cursor-pointer","margin-auto","pos-rel","text-center",3,"fileDropped"],["id","fileDropRef","multiple","","type","file",1,"pos-abs","full-width","full-height","top-0","left-0","right-0",3,"change"],["fill","none","height","44","stroke","#009688","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","viewBox","0 0 24 24","width","44","xmlns","http://www.w3.org/2000/svg",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["d","M0 0h24v24H0z","stroke","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9h0a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","x2","12","y1","12","y2","21"],[1,"no-margin",3,"ngClass"],["for","fileDropRef",1,"margin-t-full","display-inline-block","cursor-pointer","mat-raised-button","green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","text-weight-normal"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],[1,"mat-elevation-z1","full-width","height-100","wallpaper","thirty-width","cursor-pointer","margin-b-full",3,"click"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Hc(1,Me,5,6,"div",1),c.Hc(2,ke,16,7,"ng-template",null,2,c.Ic),c.Wb(4,"h6",3),c.Jc(5),c.jc(6,"translate"),c.jc(7,"translate"),c.Vb(),c.Wb(8,"div",4),c.Hc(9,ye,1,2,"mat-card",5),c.Vb(),c.Vb(),c.Hc(10,Se,15,3,"div",6)),2&t){const t=c.vc(3);c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(1),c.oc("ngIf",""!==e.wallpaperUrl)("ngIfElse",t),c.Cb(4),c.Nc(" ",c.kc(6,8,"profileSettings.choose_wallpaper")," (",e.wallpapersPictures.length," ",c.kc(7,10,"global.items"),") "),c.Cb(4),c.oc("ngForOf",e.wallpapersPictures),c.Cb(1),c.oc("ngIf",e.loadingIndicator.status&&"wallpaper"===e.loadingIndicator.serviceName)}},directives:[S.b,a.t,a.s,a.w,fe,W.a,ve,a.q,ft.a],pipes:[h.d],styles:[".monitor-image[_ngcontent-%COMP%]{background-image:url(hachure.14d9ec90316d56949c06.jpg);background-size:cover}.wallpaper-container[_ngcontent-%COMP%]{border:1px dashed #979797}.wallpaper-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;z-index:2}.wallpaper-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.wallpaper-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{-webkit-animation:shake 1s;animation:shake 1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.delete[_ngcontent-%COMP%]{top:-.3rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0 0 .25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),t})();function Pe(t,e){1&t&&(c.Wb(0,"mat-error"),c.Jc(1),c.jc(2,"translate"),c.Vb()),2&t&&(c.Cb(1),c.Kc(c.kc(2,1,"global.extension_error")))}function Ie(t,e){if(1&t){const t=c.Xb();c.Wb(0,"mat-option",57),c.ec("click",(function(){c.zc(t);const i=e.$implicit;return c.ic(3).setClockCity(i)})),c.Jc(1),c.Vb()}if(2&t){const t=e.$implicit;c.oc("value",t),c.Cb(1),c.Mc(" ",t.city," - ",t.timezone," ")}}function We(t,e){if(1&t&&(c.Wb(0,"mat-option",58),c.Jc(1),c.Vb()),2&t){const t=e.$implicit;c.oc("value",t.id),c.Cb(1),c.Lc(" ",t.name," ")}}function Ve(t,e){if(1&t){const t=c.Xb();c.Wb(0,"form",23),c.Wb(1,"div",24),c.Wb(2,"div",25),c.Wb(3,"mat-form-field",26),c.Wb(4,"mat-label"),c.Jc(5),c.jc(6,"translate"),c.Vb(),c.Rb(7,"input",27),c.jc(8,"translate"),c.Wb(9,"mat-error"),c.Jc(10),c.jc(11,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(12,"div",24),c.Wb(13,"div",28),c.Wb(14,"mat-form-field",26),c.Wb(15,"mat-label"),c.Jc(16),c.jc(17,"translate"),c.Vb(),c.Rb(18,"input",29),c.jc(19,"translate"),c.Wb(20,"mat-error"),c.Jc(21),c.jc(22,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Wb(23,"div",28),c.Wb(24,"mat-form-field",26),c.Wb(25,"mat-label"),c.Jc(26),c.jc(27,"translate"),c.Vb(),c.Rb(28,"input",30),c.jc(29,"translate"),c.Wb(30,"mat-error"),c.Jc(31),c.jc(32,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(33,"div",24),c.Wb(34,"div",28),c.Wb(35,"mat-form-field",26),c.Wb(36,"mat-label"),c.Jc(37),c.jc(38,"translate"),c.Vb(),c.Rb(39,"input",31),c.jc(40,"translate"),c.Hc(41,Pe,3,3,"mat-error",32),c.Vb(),c.Vb(),c.Wb(42,"div",28),c.Wb(43,"mat-form-field",26),c.Wb(44,"mat-label"),c.Jc(45),c.jc(46,"translate"),c.Vb(),c.Wb(47,"input",33),c.ec("click",(function(e){return c.zc(t),e.stopPropagation()})),c.Vb(),c.Wb(48,"mat-autocomplete",34,35),c.Hc(50,Ie,2,3,"mat-option",36),c.jc(51,"async"),c.Vb(),c.Wb(52,"mat-error"),c.Jc(53),c.jc(54,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(55,"div",37),c.Wb(56,"div",28),c.Wb(57,"mat-form-field",26),c.Wb(58,"mat-label",38),c.Wb(59,"mat-icon"),c.Jc(60,"translate"),c.Vb(),c.Vb(),c.Wb(61,"mat-select",39),c.ec("selectionChange",(function(e){return c.zc(t),c.ic(2).changeLang(e)}))("valueChange",(function(e){return c.zc(t),c.ic(2).defaultLang=e})),c.Hc(62,We,2,2,"mat-option",40),c.Vb(),c.Vb(),c.Vb(),c.Wb(63,"div",28),c.Wb(64,"div",41),c.Wb(65,"div",42),c.Wb(66,"label",43),c.Wb(67,"input",44),c.ec("change",(function(e){return c.zc(t),c.ic(2).changeDarkMode(e)})),c.Vb(),c.Rb(68,"span",45),c.Wb(69,"span",46),c.hc(),c.Wb(70,"svg",47),c.Rb(71,"circle",48),c.Vb(),c.Wb(72,"svg",47),c.Rb(73,"circle",48),c.Vb(),c.Wb(74,"svg",47),c.Rb(75,"circle",48),c.Vb(),c.Wb(76,"svg",47),c.Rb(77,"circle",48),c.Vb(),c.Wb(78,"svg",47),c.Rb(79,"circle",48),c.Vb(),c.Wb(80,"svg",47),c.Rb(81,"circle",48),c.Vb(),c.Wb(82,"svg",47),c.Rb(83,"circle",48),c.Vb(),c.Wb(84,"svg",47),c.Rb(85,"circle",48),c.Vb(),c.Vb(),c.gc(),c.Wb(86,"span",49),c.Jc(87),c.jc(88,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(89,"div",37),c.Wb(90,"div",50),c.Wb(91,"mat-icon",51),c.Jc(92," warning "),c.Vb(),c.Wb(93,"b",52),c.Jc(94),c.jc(95,"translate"),c.Vb(),c.Wb(96,"span",53),c.Jc(97),c.jc(98,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Wb(99,"div",54),c.Wb(100,"div",25),c.Wb(101,"button",55),c.ec("click",(function(){return c.zc(t),c.ic(2).onSubmit()})),c.Wb(102,"span",56),c.Jc(103),c.jc(104,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.vc(49),e=c.ic(2);c.oc("formGroup",e.form),c.Cb(5),c.Kc(c.kc(6,28,"profileSettings.name_family")),c.Cb(2),c.pc("placeholder",c.kc(8,30,"profileSettings.name_family")),c.Cb(3),c.Kc(c.kc(11,32,"global.name_error")),c.Cb(6),c.Kc(c.kc(17,34,"global.email")),c.Cb(2),c.pc("placeholder",c.kc(19,36,"global.email")),c.Cb(3),c.Lc(" ",c.kc(22,38,"global.email_error")," "),c.Cb(5),c.Kc(c.kc(27,40,"login_info.password")),c.Cb(2),c.pc("placeholder",c.kc(29,42,"login_info.password")),c.Cb(3),c.Kc(c.kc(32,44,"login_info.password_error")),c.Cb(6),c.Kc(c.kc(38,46,"global.extension_placeholder")),c.Cb(2),c.pc("placeholder",c.kc(40,48,"global.extension_placeholder")),c.Cb(2),c.oc("ngIf",!e.form.get("extension_no").valid),c.Cb(4),c.Kc(c.kc(46,50,"profileSettings.timezone")),c.Cb(2),c.oc("matAutocomplete",t),c.Cb(1),c.oc("displayWith",e.displayFn),c.Cb(2),c.oc("ngForOf",c.kc(51,52,e.filteredOptions)),c.Cb(3),c.Kc(c.kc(54,54,"profileSettings.timezone_error")),c.Cb(8),c.oc("value",e.defaultLang),c.Cb(1),c.oc("ngForOf",e.langs),c.Cb(4),c.oc("ngClass",e.rtlDirection?"margin-r-reverse":"margin-l-reverse"),c.Cb(1),c.oc("checked",e.selectDarkMode),c.Cb(19),c.oc("ngClass",e.rtlDirection?"l-reverse":"r-reverse"),c.Cb(1),c.Lc("",c.kc(88,56,e.loggedInUser&&e.loggedInUser.dark_mode?"profileSettings.dark_mode":"profileSettings.light_mode")," "),c.Cb(7),c.Kc(c.kc(95,58,"profileSettings.change_lang_warning_note")),c.Cb(3),c.Kc(c.kc(98,60,"profileSettings.change_lang_warning_text")),c.Cb(4),c.oc("disabled",!e.form.valid||!e.changeValueForm),c.Cb(2),c.Kc(c.kc(104,62,"global.submit"))}}function De(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",13),c.Wb(1,"div",14),c.Wb(2,"div",15),c.Wb(3,"div",16),c.Rb(4,"img",17),c.Wb(5,"label",18),c.Wb(6,"mat-icon",19),c.Jc(7," camera_alt "),c.Vb(),c.Vb(),c.Wb(8,"input",20),c.ec("change",(function(e){return c.zc(t),c.ic().fileChangeEvent(e)}))("ngModelChange",(function(e){return c.zc(t),c.ic().resetInput=e})),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(9,"div",21),c.Hc(10,Ve,105,64,"form",22),c.Vb(),c.Vb()}if(2&t){const t=c.ic();c.Cb(4),c.oc("alt",t.loggedInUser?t.loggedInUser.name:"")("src",t.loggedInUser&&t.loggedInUser.profile_image?t.loggedInUser.profile_image:t.loggedInUser.email,c.Bc),c.Cb(4),c.oc("ngModel",t.resetInput),c.Cb(2),c.oc("ngIf",t.form)}}function ze(t,e){1&t&&(c.Wb(0,"div",13),c.Rb(1,"app-wallpaper"),c.Vb())}function Ae(t,e){1&t&&(c.Wb(0,"div",59),c.Wb(1,"div",60),c.hc(),c.Wb(2,"svg",61),c.Wb(3,"rect",62),c.Rb(4,"animate",63),c.Rb(5,"animate",64),c.Vb(),c.Wb(6,"rect",65),c.Rb(7,"animate",66),c.Rb(8,"animate",67),c.Vb(),c.Wb(9,"rect",68),c.Rb(10,"animate",69),c.Rb(11,"animate",70),c.Vb(),c.Vb(),c.gc(),c.Wb(12,"span",71),c.Jc(13),c.jc(14,"translate"),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Cb(13),c.Kc(c.kc(14,1,"global.loading")))}const Re=function(t){return{"view-mode":t}};let Le=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c,l,h,g,d,m){super(s,r),this.data=t,this.dialog=e,this.dialogRef=i,this.fb=n,this.injector=s,this.translate=a,this.messageService=o,this.userInfoService=r,this.dateTimeService=c,this.viewDirection=l,this.refreshLoginService=h,this.windowManagerService=g,this.profileSettingService=d,this.loadingIndicatorService=m,this.changeValueForm=!1,this.viewModeTypes="information",this.loadingIndicator={status:!1,serviceName:"changeLang"},this.langs=[{id:"en",name:"English"},{id:"fa",name:"\u067e\u0627\u0631\u0633\u06cc"}],this._subscription=new p.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t)),this._subscription.add(this.userInfoService.currentUserInfo.subscribe(t=>this.loggedInUser=t)),this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this.checkMoreClock=!1,this.options=c.timezones,this.cityClocksList=[{city:"Tehran",timezone:"Asia/Tehran"}]}ngOnInit(){this.createForm().then(()=>this.formPatchValue()),this.filteredOptions=this.form.get("timezone").valueChanges.pipe(Object(At.a)(""),Object(Rt.a)(t=>"string"==typeof t?t:t.name),Object(Rt.a)(t=>t?this.filter(t):this.options.slice())),this._subscription.add(this.form.valueChanges.subscribe(t=>{this.changeValueForm=!0}))}changeViewMode(t){this.viewModeTypes=t}createForm(){return new Promise(t=>{this.form=this.fb.group({name:new dt.g("",dt.G.required),email:new dt.g("",[dt.G.required,dt.G.email]),c_password:new dt.g(null),extension_no:new dt.g(""),timezone:new dt.g("",dt.G.required),dark_mode:new dt.g(0),lang:new dt.g(this.rtlDirection?"fa":"en")}),t(!0)})}formPatchValue(){null!==this.loggedInUser.lang&&(this.defaultLang=this.loggedInUser.lang),null!==this.loggedInUser.dark_mode&&(this.selectDarkMode=this.loggedInUser.dark_mode);const t={},e=this.loggedInUser.timezone;t.city=""!==this.loggedInUser.timezone&&null!==this.loggedInUser.timezone?this.loggedInUser.timezone.split("/")[1]:"",t.timezone=e,this.form.patchValue({name:this.loggedInUser.name,email:this.loggedInUser.email,extension_no:this.loggedInUser.extension_no,timezone:t,dark_mode:this.loggedInUser.dark_mode,lang:this.loggedInUser.lang}),this.changeValueForm=!1}close(){this.dialogRef.close()}displayFn(t){return t&&t.city?t.city:""}changeDarkMode(t){this.form.get("dark_mode").setValue(t.target.checked?1:0)}changeLang(t){this.form.get("lang").setValue(t.value)}onSubmit(){this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"changeLang"});const t={};t.email=this.form.get("email").value,t.name=this.form.get("name").value,t.timezone=this.form.get("timezone").value.timezone,null!==this.form.get("c_password").value&&(t.c_password=this.form.get("c_password").value),null!==this.form.get("extension_no").value&&(t.extension_no=this.form.get("extension_no").value),t.lang=this.form.get("lang").value,t.dark_mode=this.form.get("dark_mode").value;const e=this.viewDirection.getCurrentLang(),i=t.lang!==e;if(i){const n=this.dialog.open(gt.a,{data:{title:this.getTranslate("profileSettings.change_lang_warning_note"),message:this.getTranslate("profileSettings.change_lang_warning_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(n.id),this._subscription.add(n.afterClosed().subscribe(n=>{n?this.updateUser(t,i):(this.defaultLang=e,this.form.get("lang").setValue(e),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}))}))}else this.updateUser(t,!1)}updateUser(t,e){this._subscription.add(this.profileSettingService.updateUser(t,this.loggedInUser.id).subscribe(t=>{if(t.success){this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),null!==t.data.lang&&(this.defaultLang=t.data.lang,this.viewDirection.changeDirection("fa"===t.data.lang)),null!==t.data.dark_mode&&(this.selectDarkMode=t.data.dark_mode),t.data.dark_mode!==this.loggedInUser.dark_mode&&this.userInfoService.changeDarkMode();let e=this.loggedInUser;const i=t.data;e=Object.assign(Object.assign({},e),{profile_image:i.profile_image,background_image:i.background_image,email:i.email,name:i.name,timezone:i.timezone,lang:i.lang,dark_mode:i.dark_mode,extension_no:i.extension_no,status:i.status}),this.userInfoService.changeUserInfo(e),this.dialogRef.close(),setTimeout(()=>{const t=this.getTranslate("profileSettings.profile_update");this.messageService.showMessage(t,"success")},200)}else this.form.enable(),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"});this.changeValueForm=!1},t=>{this.form.enable(),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),this.refreshLoginService.openLoginDialog(t)}))}setClockCity(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.push(t)}fileChangeEvent(t){this.showCropperImage(t)}showCropperImage(t){const e=this.dialog.open(pe,{data:{data:t},autoFocus:!1,width:"900px",height:"615px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe(t=>{this.resetInput="",t&&this.dialogRef.close()}))}getTranslate(t){return this.translate.instant(t)}filter(t){const e=t.toLowerCase();return this.options.filter(t=>0===t.city.toLowerCase().indexOf(e))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.a),c.Qb(m.b),c.Qb(m.h),c.Qb(dt.f),c.Qb(c.s),c.Qb(h.e),c.Qb(f.a),c.Qb(v.a),c.Qb(Lt.a),c.Qb(b.a),c.Qb(mt.a),c.Qb(k.a),c.Qb(ee),c.Qb(ut.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-profile-setting"]],features:[c.zb],decls:24,vars:20,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0",3,"dir"],[1,"full-width","height-45","padding-half","display-flex","bg-white","border-bottom"],[1,"text-gray-800","font-full-em","text-weight-500","padding-mini-r-l","no-margin"],[1,"pos-abs","top-fourth-tenth","content-switcher"],[1,"full-width","mat-button-custom","line-height-20","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","height-full-minus-45","padding-full"],["class","full-height",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"full-height"],[1,"container-image-profile","display-flex","justify-content-center"],[1,"image-profile","margin-t-full-2","margin-b-full"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-150","height-150","overflow-hide"],["onerror","this.src='assets/profileImg/0.jpg'",1,"full-width","full-height","cursor-pointer",3,"alt","src"],["for","fileChange",1,"overlay-image","cursor-pointer","pos-abs","full-width","full-height","purple-gradient"],[1,"no-padding","full-width","full-height","line-height-150","font-full-rem-2","text-white"],["hidden","","id","fileChange","type","file",3,"ngModel","change","ngModelChange"],[1,"full-width","display-inline-block","margin-t-full"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"display-flex","margin-r-l-reverse","margin-b-half"],[1,"full-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","name","matInput","","required","",1,"full-width",3,"placeholder"],[1,"half-width","padding-r-l"],["formControlName","email","matInput","","required","","type","email",1,"full-width","text-left",3,"placeholder"],["formControlName","c_password","matInput","","type","password",1,"full-width",3,"placeholder"],["formControlName","extension_no","matInput","","type","tel",1,"full-width",3,"placeholder"],[4,"ngIf"],["formControlName","timezone","matInput","","required","","type","text",1,"full-width",3,"matAutocomplete","click"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"display-flex","margin-r-l-reverse"],[1,"text-weight-bold"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"display-flex","dark-mode","height-50","align-items-center"],[1,"container-dark-mode"],["for","darkMode",3,"ngClass"],["id","darkMode","type","checkbox",3,"checked","change"],[1,"planet","display-block"],[1,"elements","display-block"],["version","1.1","viewBox","0 0 500 500","xmlns","http://www.w3.org/2000/svg"],["cx","250","cy","250","r","200"],[1,"pos-abs","top-full-plus-half",3,"ngClass"],[1,"padding-r-l","display-flex"],[1,"width-18","height-18","line-height-20","font-full-plus-two-tenth-em","text-orange-700"],[1,"text-orange-700"],[1,"font-9-em","padding-tiny-r-l"],[1,"display-flex","margin-r-l-reverse","margin-t-half"],["mat-raised-button","","tabindex","13","type","submit",1,"full-width","green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],[1,"padding-mini-r-l"],[3,"value","click"],[3,"value"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"h1",2),c.Jc(3),c.jc(4,"translate"),c.Vb(),c.Wb(5,"div",3),c.Wb(6,"mat-button-toggle-group",4,5),c.ec("change",(function(){c.zc(t);const i=c.vc(7);return e.changeViewMode(i.value)})),c.Wb(8,"mat-button-toggle",6),c.Wb(9,"span"),c.Jc(10),c.jc(11,"translate"),c.Vb(),c.Vb(),c.Wb(12,"mat-button-toggle",6),c.Wb(13,"span"),c.Jc(14),c.jc(15,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(16,"div",7),c.Wb(17,"button",8),c.ec("click",(function(){return e.close()})),c.Wb(18,"mat-icon",9),c.Jc(19,"close "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(20,"div",10),c.Hc(21,De,11,4,"div",11),c.Hc(22,ze,2,0,"div",11),c.Vb(),c.Vb(),c.Hc(23,Ae,15,3,"div",12)}if(2&t){const t=c.vc(7);c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(3),c.Lc(" ",c.kc(4,12,"profileSettings.profile_settings")," "),c.Cb(3),c.oc("ngClass",c.rc(18,Re,t))("value",e.viewModeTypes),c.Cb(2),c.oc("value","information"),c.Cb(2),c.Kc(c.kc(11,14,"profileSettings.profile_information")),c.Cb(2),c.oc("value","wallpaper"),c.Cb(2),c.Kc(c.kc(15,16,"profileSettings.profile_wallpaper")),c.Cb(2),c.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),c.Cb(5),c.oc("ngIf","information"===e.viewModeTypes),c.Cb(1),c.oc("ngIf","wallpaper"===e.viewModeTypes),c.Cb(1),c.oc("ngIf",e.loadingIndicator.status&&"changeLang"===e.loadingIndicator.serviceName)}},directives:[S.b,de.b,a.q,de.a,W.a,a.t,dt.c,dt.s,dt.v,dt.I,dt.t,dt.k,vt.c,vt.g,wt.b,dt.i,dt.D,vt.b,Jt.d,Jt.a,a.s,me.a,I.b,P.o,Oe],pipes:[h.d,a.b],styles:['.container-image-profile[_ngcontent-%COMP%]   .overlay-image[_ngcontent-%COMP%]{background-image:linear-gradient(-20deg,rgba(74,20,140,.6509803921568628),rgba(206,147,216,.6705882352941176));display:block;opacity:0;transition:opacity .4s ease-in-out}.image-profile[_ngcontent-%COMP%]:hover   .overlay-image[_ngcontent-%COMP%]{opacity:1}.content-switcher[_ngcontent-%COMP%]{transform:translate(-50%);left:50%}.dark-mode[_ngcontent-%COMP%]{--bg-planet-bright:#f2c94c!important;--bg-planet-shadow:#828894!important;--bg-planet-lightshadow:rgba(215,215,216,0.12549019607843137)!important;--dot-size:0.25rem!important;box-sizing:border-box!important;-webkit-font-smoothing:antialiased!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{min-height:50px!important;display:flex!important;justify-content:center!important;align-items:center!important;transition:background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer!important;padding:1rem!important;position:relative!important;-webkit-tap-highlight-color:rgba(255,255,255,0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:0!important;width:0!important;visibility:hidden!important;position:absolute!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]{width:1.8rem!important;height:1.8rem!important;border-radius:50%!important;overflow:hidden!important;background:radial-gradient(3.75em,99%,transparent 100%)!important;background-color:var(--bg-planet-bright)!important;background-repeat:no-repeat!important;position:relative!important;will-change:background!important;transition:all .4s ease!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;transform:translateZ(0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]:after{content:""!important;background-color:var(--bg-planet-shadow)!important;width:2rem!important;height:2rem!important;position:absolute!important;border-radius:50%!important;will-change:opacity,transform,background-color!important;opacity:0!important;transform:translate(2em,-2em)!important;transition:opacity .4s ease,transform .4s ease,background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{width:100%!important;height:100%!important;position:absolute!important;top:0!important;left:0!important;transition:transform .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{left:2px;top:2px;position:absolute!important;width:7px!important;height:7px!important;opacity:1!important;transition:transform .4s ease,opacity .2s ease,width .2s ease,height .2s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-bright)!important;transition:fill .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(1.8em,.35em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(2.8em,.7em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3){transform:translate(3.2em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(2.8em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.8em,3.2em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(.7em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(.35em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){transform:translate(.7em,.7em)!important}.dark-mode.bg-dark[_ngcontent-%COMP%]{--bg-color:#2c3144!important}.dark-mode.bg-dark[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{background-color:var(--bg-color)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(.8)}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]{--bg-planet-bright:#d7d7d8!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]:after{opacity:1!important;transform:translate(.6em,-.5em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]{transform:rotate(180deg)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(2em,1em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(3em,1.5em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3), .dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(3em,2em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.9em,2.6em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(1.4em,2.5em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(1.1em,1.6em)!important;width:.7em!important;height:.7em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){width:.45em!important;height:.45em!important;transform:translate(1.7em,2.1em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.margin-l-reverse[_ngcontent-%COMP%]{margin-left:-1em!important}.margin-r-reverse[_ngcontent-%COMP%]{margin-right:-1em!important}.l-reverse[_ngcontent-%COMP%]{left:-110%!important}.r-reverse[_ngcontent-%COMP%]{right:-110%!important}.english-lang[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]{transition:all .3s!important}.english-lang.active[_ngcontent-%COMP%], .english-lang[_ngcontent-%COMP%]:hover, .parsi-lang.active[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]:hover{border-bottom:1px solid red}.line-height-150[_ngcontent-%COMP%]{line-height:150px!important}.border-bottom[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}']}),t})();function Te(t,e){if(1&t){const t=c.Xb();c.Ub(0),c.Wb(1,"h4",5),c.Wb(2,"mat-icon",6),c.Jc(3," person_outline "),c.Vb(),c.Wb(4,"span",7),c.Wb(5,"span",8),c.Jc(6),c.Vb(),c.Wb(7,"span",9),c.Jc(8),c.Vb(),c.Vb(),c.Vb(),c.Wb(9,"button",10),c.ec("click",(function(){return c.zc(t),c.ic().showProfileSetting()})),c.Wb(10,"mat-icon",11),c.Jc(11,"settings"),c.Vb(),c.Wb(12,"span",11),c.Jc(13),c.jc(14,"translate"),c.Vb(),c.Vb(),c.Wb(15,"button",10),c.ec("click",(function(){return c.zc(t),c.ic().logout()})),c.Wb(16,"mat-icon",11),c.Jc(17,"power_settings_new"),c.Vb(),c.Wb(18,"span",11),c.Jc(19),c.jc(20,"translate"),c.Vb(),c.Vb(),c.Tb()}if(2&t){const t=c.ic();c.Cb(2),c.oc("ngClass",t.rtlDirection?"margin-l-half":"margin-r-half"),c.Cb(4),c.Kc(t.loggedInUser?t.loggedInUser.name:""),c.Cb(2),c.Kc(t.loggedInUser?t.loggedInUser.role.title:""),c.Cb(5),c.Kc(c.kc(14,5,"profileSettings.profile_settings")),c.Cb(6),c.Kc(c.kc(20,7,"dashboard.dashboard_toolbar.exist_app"))}}let je=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r){super(s,a),this.window=t,this.dialog=e,this.router=i,this.api=n,this.injector=s,this.userInfoService=a,this.softPhoneService=o,this.windowManagerService=r,this._subscription=new p.Subscription}logout(){this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.logout().subscribe(t=>{t.success&&this.clearData()},()=>{this.clearData()}))}clearData(){this.userInfoService.changeLoginData(null),this.softPhoneService.sipHangUp(),this.windowManagerService.closeAllServices().then(()=>{setTimeout(()=>this.router.navigateByUrl("/login"),500)})}showProfileSetting(){const t=this.dialog.open(Le,{autoFocus:!1,width:"480px",height:"565px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb("windowObject"),c.Qb(m.b),c.Qb(s.a),c.Qb(u.a),c.Qb(c.s),c.Qb(v.a),c.Qb(x.a),c.Qb(k.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-profile-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser"},features:[c.zb],decls:5,vars:5,consts:[[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-40","height-40","overflow-hide",3,"dir"],["onerror","this.src='assets/profileImg/0.jpg'",1,"full-width","full-height","cursor-pointer",3,"alt","matMenuTriggerFor","src"],["xPosition","before","yPosition","above",1,"toolbar-menu","box-menu-profile","padding-r-l"],["profileMenu","matMenu"],[4,"ngIf"],["mat-subheader","","matLine","",1,"padding-half","text-weight-normal","font-9-rem","text-dark-mode-color","no-margin"],[1,"text-dark-mode-color","text-gray-600",3,"ngClass"],[1,"display-flex","flex-direction-column"],["matLine",""],["matLine","",1,"font-8-em"],["mat-menu-item","",1,"font-7-rem","padding-mini-r-l",3,"click"],[1,"text-dark-mode-color"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Rb(1,"img",1),c.Vb(),c.Wb(2,"mat-menu",2,3),c.Hc(4,Te,21,9,"ng-container",4),c.Vb()),2&t){const t=c.vc(3);c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(1),c.oc("alt",e.loggedInUser?e.loggedInUser.name:"")("matMenuTriggerFor",t)("src",e.loggedInUser&&e.loggedInUser.profile_image?e.loggedInUser.profile_image:e.loggedInUser.email,c.Bc),c.Cb(3),c.oc("ngIf",e.loggedInUser)}},directives:[S.b,G.d,G.e,a.t,O.g,P.k,W.a,a.q,G.b],pipes:[h.d],encapsulation:2}),t})(),Ue=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-dashboard-toolbar"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:8,vars:20,consts:[[1,"toolbar-container","display-flex","flex-space-between",3,"dir"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"rtlDirection","windowManager"],[1,"flex-spacer"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Rb(1,"app-main-menu",1),c.Rb(2,"app-window-app-container",2),c.Rb(3,"div",3),c.Rb(4,"app-company-selector",4),c.Rb(5,"app-user-status",5),c.Rb(6,"app-time-area",6),c.Rb(7,"app-profile-menu",6),c.Vb()),2&t&&(c.oc("dir",e.rtlDirection?"rtl":"ltr"),c.Cb(1),c.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),c.Cb(1),c.oc("rtlDirection",e.rtlDirection)("windowManager",e.windowManager),c.Cb(2),c.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection),c.Cb(1),c.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),c.Cb(1),c.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection),c.Cb(1),c.oc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection))},directives:[S.b,Z,a.q,st,ct,zt,te,je],styles:['.toolbar-container .box-holder{margin:0 1em}.toolbar-container .box .mat-icon{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.toolbar-container .app-open{margin:0 .5em}.toolbar-container .app-open:before{content:"";position:absolute;bottom:0;left:0;margin:auto;right:0;width:75%;height:3px;background-color:#f57c00}.toolbar-container .app-open.app-minimized:before{width:20%}.toolbar-container .app-open:hover .mat-icon{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}'],encapsulation:2}),t})(),Qe=(()=>{class t extends d.a{constructor(t,e,i,n,s,a,o,r,c,l,h,g){super(n,o),this.window=t,this.dialog=e,this.api=i,this.injector=n,this.viewDirection=s,this.messageService=a,this.userInfoService=o,this.statusApiService=r,this.softPhoneService=c,this.translateService=l,this.wallPaperSelector=h,this.windowManagerService=g,this.serviceList=[],this._subscription=new p.Subscription,this._subscription.add(this.wallPaperSelector.currentWallpaper.subscribe(t=>this.wallpaper=t)),this._subscription.add(this.userInfoService.currentUserInfo.subscribe(t=>{this.loggedInUser=t,this.serviceList=[],this.loggedInUser.services.map(t=>{let e=t.name.split(" ").join("_").toLowerCase();const i=Object.assign(Object.assign({},t),{serviceTitle:e});t.show_in_container&&this.serviceList.push(i)}),this.windowManagerService.changeServices(this.serviceList)})),this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this._subscription.add(this.windowManagerService.windowsList.subscribe(t=>this.windowManager=t))}ngOnInit(){}getTranslate(t){return this.translateService.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb("windowObject"),c.Qb(m.b),c.Qb(u.a),c.Qb(c.s),c.Qb(b.a),c.Qb(f.a),c.Qb(v.a),c.Qb(C),c.Qb(x.a),c.Qb(h.e),c.Qb(M),c.Qb(k.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-dashboard"]],features:[c.zb],decls:6,vars:11,consts:[[1,"dashboard-container","full-width","full-height","wallpaper"],[3,"rtlDirection"],[1,"dashboard-app-boundary","height-full-minus-70","padding-full"],[3,"loggedInUser","serviceList","rtlDirection"],[1,"dashboard-toolbar","pos-fix","bottom-full","right-full","left-full","height-40",3,"loggedInUser","rtlDirection","serviceList","windowManager"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Rb(1,"app-soft-phone-incoming-call",1),c.Wb(2,"div",2),c.Rb(3,"app-dashboard-datepicker",3),c.Vb(),c.Rb(4,"app-screenshot"),c.Rb(5,"app-dashboard-toolbar",4),c.Vb()),2&t&&(c.Gc("background",e.wallpaper,c.Jb),c.Db("data-bg",e.wallpaper),c.Cb(1),c.oc("rtlDirection",e.rtlDirection),c.Cb(2),c.oc("loggedInUser",e.loggedInUser)("serviceList",e.serviceList)("rtlDirection",e.rtlDirection),c.Cb(2),c.oc("loggedInUser",e.loggedInUser)("rtlDirection",e.rtlDirection)("serviceList",e.serviceList)("windowManager",e.windowManager))},directives:[V,F,q,Ue],styles:['.dashboard-app-boundary[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;bottom:0}.card-bg[_ngcontent-%COMP%]{border-radius:10px!important;transition:all .4s!important;width:400px;height:300px;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%)}.card-bg[_ngcontent-%COMP%]:after, .card-bg[_ngcontent-%COMP%]:before{content:"";position:absolute}.card-bg[_ngcontent-%COMP%]:before{width:110%;top:-5px;right:-6px;height:100%;background-color:#fff;border-radius:0 0 200px/100px 0;transform:rotate(8deg);z-index:1}.card-bg[_ngcontent-%COMP%]:after{bottom:-12px;left:0;width:100%;height:124px;z-index:0}.card-bg[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.card-bg[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}.card-bg.service-task[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #441e52,0 10px 25px -7px #ff46fa,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-task[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff7af5 10%,#513162)}.card-bg.service-task[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-task[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#513162}.card-bg.service-pbx[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #ff3360,0 10px 25px -7px #ff811d,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-pbx[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff9a44 10%,#fc6076)}.card-bg.service-pbx[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-pbx[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fc6076}.card-bg.service-chat[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px rgba(0,121,226,.2),0 10px 25px -7px #0079e2,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-chat[_ngcontent-%COMP%]:after{background-image:linear-gradient(-225deg,#22e1ff,#1d8fe1 48%,#625eb1)}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{color:#625eb1}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#1d8fe1}.card-bg.service-video-conference[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #051732,0 10px 25px -7px #3b6586,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-video-conference[_ngcontent-%COMP%]:after{background-image:linear-gradient(315deg,#09203f,#537895 74%)}.card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#09203f}.profile-info[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{border:5px solid #fff;top:-2em}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{text-shadow:0 0 11px #999}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]{border:1px solid #ddd;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}']}),t})();var Ee=i("VSJZ"),He=i("1yaQ"),Fe=i("K1Y9"),Je=i("n90K");const Ye=Object(Je.a)("defaultLang"),Be=null!==Ye&&"fa"===Ye?"fa":"en-GB";let Ne=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},providers:[{provide:P.c,useClass:"fa"===Be?Ee.a:He.a,deps:[P.f]},{provide:P.f,useValue:"fa"===Be?Be:"en-GB"},{provide:P.e,useFactory:t=>t===("fa"===Be)?Fe.a:Fe.b,deps:[P.f]},{provide:Ee.b,useValue:{useUtc:!0}}],imports:[[a.c,n.a,l,he,s.b.forChild([{path:"",component:Qe}]),h.c.forChild()]]}),t})()},"8Tul":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("zB/H"),s=i("0IaG"),a=i("fXoL"),o=i("unh5"),r=i("cH1L"),c=i("ofXK"),l=i("bTqV"),h=i("NFeN"),g=i("sYmb");let p=(()=>{class t{constructor(t,e,i){this.viewDirection=t,this.dialogRef=e,this.data=i,this.rtlDirection=!1,this._subscription=new n.Subscription,this.dialogData=i}ngOnInit(){this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(o.a),a.Qb(s.h),a.Qb(s.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-approve"]],decls:18,vars:15,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"pos-rel","height-full-minus-30"],[1,"margin-b-full","font-full-em","text-weight-500","margin-b-half",3,"ngClass"],[1,"text-grey-600","no-margin"],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["mat-raised-button","","tabindex","13","type","submit",1,"text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"mat-dialog-close","ngClass"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"mat-dialog-close"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"h1",2),a.Jc(3),a.Vb(),a.Wb(4,"div",3),a.Jc(5),a.jc(6,"translate"),a.Vb(),a.Vb(),a.Wb(7,"div",4),a.Wb(8,"button",5),a.Wb(9,"mat-icon",6),a.Jc(10,"check"),a.Vb(),a.Wb(11,"span",7),a.Jc(12),a.jc(13,"translate"),a.Vb(),a.Vb(),a.Wb(14,"button",8),a.Wb(15,"span",7),a.Jc(16),a.jc(17,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.oc("dir",e.rtlDirection?"rtl":"ltr"),a.Cb(2),a.oc("ngClass","success"===e.dialogData.action?"text-green-600":"text-red-600"),a.Cb(1),a.Lc(" ",e.dialogData.title?e.dialogData.title:""," "),a.Cb(2),a.Kc(a.kc(6,9,e.dialogData.message?e.dialogData.message:"")),a.Cb(3),a.oc("mat-dialog-close",!0)("ngClass","success"===e.dialogData.action?"green-gradient":"red-gradient"),a.Cb(4),a.Kc(a.kc(13,11,"global.confirm")),a.Cb(2),a.oc("mat-dialog-close",!1),a.Cb(2),a.Kc(a.kc(17,13,"global.dismiss")))},directives:[r.b,c.q,l.b,s.d,h.a],pipes:[g.d],styles:[".top-container[_ngcontent-%COMP%]{height:56px}.dialog-content[_ngcontent-%COMP%]{height:calc(100% - 112px)}.mat-dialog-actions[_ngcontent-%COMP%]{height:56px}"]}),t})()},K1Y9:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));const n={parse:{dateInput:"jYYYY-jMM-jDD"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY MMMM",dateA11yLabel:"YYYY-MM-DD",monthYearA11yLabel:"YYYY MMMM"}},s={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},VSJZ:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return c}));var n=i("fXoL"),s=i("BCsW"),a=i("FKr1");const o=new n.r("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function r(t,e){const i=Array(t);for(let n=0;n<t;n++)i[n]=e(n);return i}let c=class extends a.c{constructor(t,e){super(),this.options=e,this.setLocale(t||s.locale())}setLocale(t){super.setLocale(t);const e=s.localeData(t);this._localeData="fa"===t?{firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.jMonths(),shortMonths:e.jMonthsShort(),dates:r(31,t=>this.createPersianDateFrom3Numbers(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}:{firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:r(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return"fa"===this.locale?this.clone(t).jYear():this.clone(t).year()}getMonth(t){return"fa"===this.locale?this.clone(t).jMonth():this.clone(t).month()}getDate(t){return"fa"===this.locale?this.clone(t).jDate():this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return"fa"===this.locale?this.clone(t).jYear().toString():this.clone(t).year().toString()}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return"fa"===this.locale?this.clone(t).jDaysInMonth():this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,i){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);let n;if(n="fa"===this.locale?this.createPersianDateFrom3Numbers(t,e,i):this._createMoment({year:t,month:e,date:i}).locale(this.locale),!n.isValid())throw Error(`Invalid date "${i}" for month with index "${e}".`);return n}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("JalaliMomentDateAdapter: Cannot format invalid date.");return t.format(e)}addCalendarYears(t,e){return"fa"===this.locale?this.clone(t).add(e,"jYear"):this.clone(t).add(e,"years")}addCalendarMonths(t,e){return"fa"===this.locale?this.clone(t).add(e,"jmonth"):this.clone(t).add(e,"month")}addCalendarDays(t,e){return"fa"===this.locale?this.clone(t).add(e,"jDay"):this.clone(t).add(e,"day")}toIso8601(t){return this.clone(t).format()}isDateInstance(t){return s.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return s.invalid()}deserialize(t){let e;if(t instanceof Date&&(e=this._createMoment(t)),"string"==typeof t){if(!t)return null;e="fa"===this.locale?s(t).locale("fa"):this._createMoment(t).locale(this.locale)}return e&&this.isValid(e)?e:super.deserialize(t)}createPersianDateFrom3Numbers(t,e,i){let n;return n=this.options&&this.options.useUtc?s().utc():s(),n.jYear(t).jMonth(e).jDate(i).hours(0).minutes(0).seconds(0).milliseconds(0).locale("fa")}_createMoment(...t){return this.options&&this.options.useUtc?s.utc(...t):s(...t)}}}}]);