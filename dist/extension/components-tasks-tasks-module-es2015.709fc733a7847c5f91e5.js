(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+SKG":function(t,e){t.exports=function(t){return i&&global.Buffer.isBuffer(t)||r&&(t instanceof global.ArrayBuffer||n(t))};var i="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,r="function"==typeof global.ArrayBuffer,n=r&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(t){return t.buffer instanceof global.ArrayBuffer}},"/Hbh":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i("PqYM"),n=i("fXoL");let o=(()=>{class t{constructor(){this.timerDueTime=0,this.timerPeriod=1e3,this.globalTimer=null}ngOnChanges(t){t.timezone.firstChange&&(this.globalTimer=Object(r.a)(this.timerDueTime,this.timerPeriod),this.globalTimerSubscription=this.globalTimer.subscribe(()=>this.getTime()))}getTime(){this.time=(new Date).toLocaleTimeString("en-US",{timeZone:this.timezone&&this.timezone.length?this.timezone:"UTC",hour12:!1,hour:"2-digit",minute:"2-digit"})}ngOnDestroy(){this.globalTimerSubscription&&(this.globalTimerSubscription.unsubscribe(),this.globalTimer=null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["app-time-area-digital-clock"]],inputs:{timezone:"timezone"},features:[n.Ab],decls:2,vars:1,template:function(t,e){1&t&&(n.Wb(0,"span"),n.Jc(1),n.Vb()),2&t&&(n.Cb(1),n.Kc(e.time))},encapsulation:2}),t})()},"0z79":function(t,e,i){var r=i("AdPF"),n=i("CUme"),o=i("1Mk5"),s=i("Yvos"),a=i("HjK1")("engine.io-client:polling-xhr");function c(){}function l(t){if(n.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,global.location){var e="https:"===location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!==global.location.hostname||i!==t.port,this.xs=t.secure!==e}}function d(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in d.requests)d.requests.hasOwnProperty(t)&&d.requests[t].abort()}t.exports=l,t.exports.Request=d,s(l,n),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new d(t)},l.prototype.doWrite=function(t,e){var i=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),r=this;i.on("success",e),i.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=i},l.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(d.prototype),d.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),i=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&e.setRequestHeader(n,this.extraHeaders[n])}catch(o){}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(o){}try{e.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(o){}4===e.readyState&&(200===e.status||1223===e.status?i.onLoad():setTimeout((function(){i.onError(e.status)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout((function(){i.onError(o)}),0)}global.document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},d.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},d.prototype.cleanup=function(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}global.document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(i){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},d.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",h):global.addEventListener&&global.addEventListener("beforeunload",h,!1))},"14A5":function(t,e){var i=void 0!==i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=i&&i.prototype.append&&i.prototype.getBlob;function s(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t}))}function a(t,e){e=e||{};var r=new i;return s(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=r?n?Blob:c:o?a:void 0},"1Mk5":function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"2Dig":function(t,e){t.exports=function(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}}},"2pII":function(t,e,i){var r=i("akSB"),n=i("1Mk5"),o=i("HjK1")("engine.io-client:socket"),s=i("7jRU"),a=i("Wm4p"),c=i("Uxeu"),l=i("TypT");function d(t,e){if(!(this instanceof d))return new d(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:global.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(global.location?location.hostname:"localhost"),this.port=e.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var i="object"==typeof global&&global;i.global===i&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=d,d.priorWebsocketSuccess=!1,n(d.prototype),d.protocol=a.protocol,d.Socket=d,d.Transport=i("Gbct"),d.transports=i("akSB"),d.parser=i("Wm4p"),d.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var i=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},d.prototype.open=function(){var t;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},d.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},d.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),i=!1,r=this;function n(){r.onlyBinaryUpgrades&&(i=i||!this.supportsBinary&&r.transport.supportsBinary),i||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(n){if(!i)if("pong"===n.type&&"probe"===n.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;d.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){i||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),u(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}})))}function s(){i||(i=!0,u(),e.close(),e=null)}function a(i){var n=new Error("probe error: "+i);n.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,i),r.emit("upgradeError",n)}function c(){a("transport closed")}function l(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function u(){e.removeListener("open",n),e.removeListener("error",a),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",h)}d.priorWebsocketSuccess=!1,e.once("open",n),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",h),e.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},d.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},d.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},d.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},d.prototype.sendPacket=function(t,e,i,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof i&&(r=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var n={type:t,data:e,options:i};this.emit("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function i(){t.removeListener("upgrade",i),t.removeListener("upgradeError",i),e()}function r(){t.once("upgrade",i),t.once("upgradeError",i)}return this},d.prototype.onError=function(t){o("socket error %j",t),d.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},d.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(t){for(var e=[],i=0,r=t.length;i<r;i++)~s(this.transports,t[i])&&e.push(t[i]);return e}},"2xqC":function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},4:function(t,e){},"5LH7":function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function s(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,n,"hour")||s(a,r,"minute")||s(a,i,"second")||a+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"5M3R":function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("Nq7k")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},"6C75":function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},"7jRU":function(t,e){var i=[].indexOf;t.exports=function(t,e){if(i)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},AdPF:function(t,e,i){var r=i("yeub");t.exports=function(t){var e=t.xdomain,i=t.xscheme,n=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!i&&n)return new XDomainRequest}catch(o){}if(!e)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},Aplp:function(t,e,i){"use strict";var r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=n[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==r?(s=0,r=t):t+"."+c(s++)}for(;a<64;a++)o[n[a]]=a;l.encode=c,l.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=l},C2QD:function(t,e){function i(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-i:t+i}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}},CIKq:function(t,e,i){var r,n=i("Gbct"),o=i("Wm4p"),s=i("TypT"),a=i("Yvos"),c=i("Aplp"),l=i("HjK1")("engine.io-client:websocket"),d=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{r=i(4)}catch(f){}var h=d;function u(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=d&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),n.call(this,t)}h||"undefined"!=typeof window||(h=r),t.exports=u,a(u,n),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,i)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},u.prototype.write=function(t){var e=this;this.writable=!1;for(var i=t.length,r=0,n=i;r<n;r++)!function(t){o.encodePacket(t,e.supportsBinary,(function(r){if(!e.usingBrowserWebSocket){var n={};t.options&&(n.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof r?global.Buffer.byteLength(r):r.length)<e.perMessageDeflate.threshold&&(n.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(r):e.ws.send(r,n)}catch(f){l("websocket closed before onclose event")}--i||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[r])},u.prototype.onClose=function(){n.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t},u.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===u.prototype.name)}},CUme:function(t,e,i){var r=i("Gbct"),n=i("TypT"),o=i("Wm4p"),s=i("Yvos"),a=i("Aplp"),c=i("HjK1")("engine.io-client:polling");t.exports=d;var l=null!=new(i("AdPF"))({xdomain:!1}).responseType;function d(t){l&&!(t&&t.forceBase64)||(this.supportsBinary=!1),r.call(this,t)}s(d,r),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(t){var e=this;function i(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||i()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||i()})))}else i()},d.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(t){var e=this;c("polling got data %s",t),o.decodePayload(t,this.socket.binaryType,(function(t,i,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},d.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,i)}))},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=n.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(i=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t}},Cl5A:function(t,e,i){var r=i("CUme"),n=i("Yvos");t.exports=l;var o,s=/\n/g,a=/\\n/g;function c(){}function l(t){r.call(this,t),this.query=this.query||{},o||(global.___eio||(global.___eio=[]),o=global.___eio),this.index=o.length;var e=this;o.push((function(t){e.onData(t)})),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=c)}),!1)}n(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var i=this;if(!this.form){var r,n=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;n.className="socketio",n.style.position="absolute",n.style.top="-1000px",n.style.left="-1000px",n.target=c,n.method="POST",n.setAttribute("accept-charset","utf-8"),o.name="d",n.appendChild(o),document.body.appendChild(n),this.form=n,this.area=o}function l(){d(),e()}function d(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{r=document.createElement('<iframe src="javascript:0" name="'+i.iframeId+'">')}catch(t){(r=document.createElement("iframe")).name=i.iframeId,r.src="javascript:0"}r.id=i.iframeId,i.form.appendChild(r),i.iframe=r}this.form.action=this.uri(),d(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&l()}:this.iframe.onload=l}},Gbct:function(t,e,i){var r=i("Wm4p"),n=i("1Mk5");function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,n(o.prototype),o.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},HjK1:function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("lhf0")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},ISpo:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var r=i("zB/H"),n=i("tX2+"),o=i("fXoL"),s=i("0IaG"),a=i("XiUW"),c=i("DDyt"),l=i("sYmb"),d=i("0d0Z");let h=(()=>{class t{constructor(t,e,i,n,o){this.dialog=t,this.messageService=e,this.userInfoService=i,this.translateService=n,this.windowManagerService=o,this._subscription=new r.Subscription}openLoginDialog(t){if(401===t.status){const t=this.dialog.open(n.a,{autoFocus:!1,closeOnNavigation:!1,disableClose:!0,width:"400px",height:"310px",panelClass:"refresh-login-dialog",data:{action:"refresh-login"}});this.windowManagerService.dialogOnTop(t.id);const e=this.getTranslate("login_info.refresh_login");this.messageService.showMessage(e,"error"),this._subscription.add(t.afterClosed().subscribe(t=>{}))}}getTranslate(t){return this.translateService.instant(t)}}return t.\u0275fac=function(e){return new(e||t)(o.ac(s.b),o.ac(a.a),o.ac(c.a),o.ac(l.e),o.ac(d.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KFGy:function(t,e,i){var r=i("Vo14"),n=i("2xqC"),o=i("kSER"),s=i("2Dig"),a=i("QN7Q"),c=i("x7D4")("socket.io-client:socket"),l=i("TypT"),d=i("WLGk");t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=n.prototype.emit;function f(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}n(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return u.apply(this,arguments),this;var e=o(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:d(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){if(t.nsp===this.nsp||t.type===r.ERROR&&"/"===t.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},f.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?u.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var n=o(arguments);c("sending ack %j",n),e.packet({type:d(n)?r.BINARY_ACK:r.ACK,id:t,data:n})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)u.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},Nq7k:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,s[c]),s.splice(c,1),c--),i})),e.formatArgs.call(t,s);var l=r.log||e.log||console.log.bind(console);l.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("uDUn"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},Q80o:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,s[c]),s.splice(c,1),c--),i})),e.formatArgs.call(t,s);var l=r.log||e.log||console.log.bind(console);l.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("5LH7"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},QN7Q:function(t,e){var i=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=i.call(arguments,2);return function(){return e.apply(t,r.concat(i.call(arguments)))}}},TypT:function(t,e){e.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},e.decode=function(t){for(var e={},i=t.split("&"),r=0,n=i.length;r<n;r++){var o=i[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Uxeu:function(t,e){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=i.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=n&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},Vo14:function(t,e,i){var r=i("5M3R")("socket.io-parser"),n=i("aKum"),o=i("cD5x"),s=i("ojuT"),a=i("+SKG");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h;var l=e.ERROR+'"encode error"';function d(t){var i=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(i+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(i+=t.nsp+","),null!=t.id&&(i+=t.id),null!=t.data){var n=function(t){try{return JSON.stringify(t)}catch(e){return!1}}(t.data);if(!1===n)return l;i+=n}return r("encoded %j as %s",t,i),i}function h(){this.reconstructor=null}function u(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,i){r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){o.removeBlobs(t,(function(t){var i=o.deconstructPacket(t),r=d(i.packet),n=i.buffers;n.unshift(r),e(n)}))}(t,i):i([d(t)])},n(h.prototype),h.prototype.add=function(t){var i;if("string"==typeof t)i=function(t){var i=0,n={type:Number(t.charAt(0))};if(null==e.types[n.type])return f("unknown packet type "+n.type);if(e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type){for(var o="";"-"!==t.charAt(++i)&&(o+=t.charAt(i),i!=t.length););if(o!=Number(o)||"-"!==t.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(i+1))for(n.nsp="";++i&&","!==(c=t.charAt(i))&&(n.nsp+=c,i!==t.length););else n.nsp="/";var a=t.charAt(i+1);if(""!==a&&Number(a)==a){for(n.id="";++i;){var c;if(null==(c=t.charAt(i))||Number(c)!=c){--i;break}if(n.id+=t.charAt(i),i===t.length)break}n.id=Number(n.id)}if(t.charAt(++i)){var l=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(i));if(!1===l||n.type!==e.ERROR&&!s(l))return f("invalid payload");n.data=l}return r("decoded %s as %j",t,n),n}(t),e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type?(this.reconstructor=new u(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",i))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},WLGk:function(t,e,i){var r=i("6C75"),n=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var i=0,n=e.length;i<n;i++)if(t(e[i]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||o&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0;return!1}},WiHW:function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function s(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,n,"hour")||s(a,r,"minute")||s(a,i,"second")||a+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},Wm4p:function(t,e,i){var r,n=i("dkv/"),o=i("WLGk"),s=i("ypnn"),a=i("zMFY"),c=i("oIG/");"undefined"!=typeof ArrayBuffer&&(r=i("g5Dd"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),d="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||d;e.protocol=3;var u=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=n(u),p={type:"error",data:"parser error"},b=i("14A5");function g(t,e,i){for(var r=new Array(t.length),n=a(t.length,i),o=function(t,i,n){e(i,(function(e,i){r[t]=i,n(e,r)}))},s=0;s<t.length;s++)o(s,t[s],n)}e.encodePacket=function(t,i,r,n){"function"==typeof i&&(n=i,i=!1),"function"==typeof r&&(n=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);var n=t.data,o=new Uint8Array(n),s=new Uint8Array(1+n.byteLength);s[0]=u[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(t,i,n);if(void 0!==b&&o instanceof b)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);if(h)return function(t,i,r){if(!i)return e.encodeBase64Packet(t,r);var n=new FileReader;return n.onload=function(){e.encodePacket({type:t.type,data:n.result},i,!0,r)},n.readAsArrayBuffer(t.data)}(t,i,r);var n=new Uint8Array(1);return n[0]=u[t.type],r(new b([n.buffer,t.data]))}(t,i,n);if(o&&o.base64)return function(t,i){return i("b"+e.packets[t.type]+t.data.data)}(t,n);var s=u[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),n(""+s)},e.encodeBase64Packet=function(t,i){var r,n="b"+e.packets[t.type];if(void 0!==b&&t.data instanceof b){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(n+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return n+=btoa(r),i(n)},e.decodePacket=function(t,i,r){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),i);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(e){return!1}return t}(t)))return p;var n=t.charAt(0);return Number(n)==n&&f[n]?t.length>1?{type:f[n],data:t.substring(1)}:{type:f[n]}:p}n=new Uint8Array(t)[0];var o=s(t,1);return b&&"blob"===i&&(o=new b([o])),{type:f[n],data:o}},e.decodeBase64Packet=function(t,e){var i=f[t.charAt(0)];if(!r)return{type:i,data:{base64:!0,data:t.substr(1)}};var n=r.decode(t.substr(1));return"blob"===e&&b&&(n=new b([n])),{type:i,data:n}},e.encodePayload=function(t,i,r){"function"==typeof i&&(r=i,i=null);var n=o(t);return i&&n?b&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void g(t,(function(t,r){e.encodePacket(t,!!n&&i,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))})):r("0:")},e.decodePayload=function(t,i,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,i,r);var n;if("function"==typeof i&&(r=i,i=null),""===t)return r(p,0,1);for(var o,s,a="",c=0,l=t.length;c<l;c++){var d=t.charAt(c);if(":"===d){if(""===a||a!=(o=Number(a)))return r(p,0,1);if(a!=(s=t.substr(c+1,o)).length)return r(p,0,1);if(s.length){if(n=e.decodePacket(s,i,!1),p.type===n.type&&p.data===n.data)return r(p,0,1);if(!1===r(n,c+o,l))return}c+=o,a=""}else a+=d}return""!==a?r(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,i){if(!t.length)return i(new ArrayBuffer(0));g(t,(function(t,i){e.encodePacket(t,!0,!0,(function(t){return i(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var i;return t+(i="string"==typeof e?e.length:e.byteLength).toString().length+i+2}),0),n=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,i=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);i=r.buffer}n[o++]=e?0:1;var a=i.byteLength.toString();for(s=0;s<a.length;s++)n[o++]=parseInt(a[s]);for(n[o++]=255,r=new Uint8Array(i),s=0;s<r.length;s++)n[o++]=r[s]})),i(n.buffer)}))},e.encodePayloadAsBlob=function(t,i){g(t,(function(t,i){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(n=0;n<o.length;n++)s[n]=parseInt(o[n]);if(s[o.length]=255,b){var a=new b([e.buffer,s.buffer,t]);i(null,a)}}))}),(function(t,e){return i(new b(e))}))},e.decodePayloadAsBinary=function(t,i,r){"function"==typeof i&&(r=i,i=null);for(var n=t,o=[];n.byteLength>0;){for(var a=new Uint8Array(n),c=0===a[0],l="",d=1;255!==a[d];d++){if(l.length>310)return r(p,0,1);l+=a[d]}n=s(n,2+l.length),l=parseInt(l);var h=s(n,0,l);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(b){var u=new Uint8Array(h);for(h="",d=0;d<u.length;d++)h+=String.fromCharCode(u[d])}o.push(h),n=s(n,l)}var f=o.length;o.forEach((function(t,n){r(e.decodePacket(t,i,!0),n,f)}))}},Yvos:function(t,e){t.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},aKum:function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},akSB:function(t,e,i){var r=i("AdPF"),n=i("0z79"),o=i("Cl5A"),s=i("CIKq");e.polling=function(t){var e=!1,i=!1,s=!1!==t.jsonp;if(global.location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,i=t.secure!==a}if(t.xdomain=e,t.xscheme=i,"open"in new r(t)&&!t.forceJSONP)return new n(t);if(!s)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},cD5x:function(t,e,i){var r=i("ojuT"),n=i("+SKG"),o=Object.prototype.toString,s="function"==typeof global.Blob||"[object BlobConstructor]"===o.call(global.Blob),a="function"==typeof global.File||"[object FileConstructor]"===o.call(global.File);e.deconstructPacket=function(t){var e=[],i=t;return i.data=function t(e,i){if(!e)return e;if(n(e)){var o={_placeholder:!0,num:i.length};return i.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],i);return s}if("object"==typeof e&&!(e instanceof Date)){for(var c in s={},e)s[c]=t(e[c],i);return s}return e}(t.data,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,i){if(!e)return e;if(e&&e._placeholder)return i[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=t(e[n],i);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],i);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var i=0,o=t;!function t(c,l,d){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){i++;var h=new FileReader;h.onload=function(){d?d[l]=this.result:o=this.result,--i||e(o)},h.readAsArrayBuffer(c)}else if(r(c))for(var u=0;u<c.length;u++)t(c[u],u,c);else if("object"==typeof c&&!n(c))for(var f in c)t(c[f],f,c)}(o),i||e(o)}},"dkv/":function(t,e){t.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var r in t)i.call(t,r)&&e.push(r);return e}},eOtv:function(t,e,i){var r=i("lKxJ"),n=i("KFGy"),o=i("2xqC"),s=i("Vo14"),a=i("2Dig"),c=i("QN7Q"),l=i("x7D4")("socket.io-client:manager"),d=i("7jRU"),h=i("C2QD"),u=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=e.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)u.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)u.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var i=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=a(i,"open",(function(){n.onopen(),t&&t()})),s=a(i,"error",(function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var d=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),i.close(),i.emit("error","timeout"),n.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(d)}})}return this.subs.push(o),this.subs.push(s),this},f.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var i=this.nsps[t];if(!i){i=new n(this,t,e),this.nsps[t]=i;var r=this;i.on("connecting",o),i.on("connect",(function(){i.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~d(r.connecting,i)||r.connecting.push(i)}return i},f.prototype.destroy=function(t){var e=d(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(i){for(var r=0;r<i.length;r++)e.engine.write(i[r],t.options);e.encoding=!1,e.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(i)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},fRIO:function(t,e,i){"use strict";i.r(e),i.d(e,"TasksModule",(function(){return ur}));var r=i("ofXK"),n=i("PCNd"),o=i("sYmb"),s=i("zQsl"),a=i("3Pt+"),c=i("zB/H"),l=i("ue6I"),d=i("0IaG"),h=i("fXoL"),u=i("f7OT"),f=i("XiUW"),p=i("DDyt"),b=i("ISpo"),g=i("mrmJ"),m=i("wd/R"),v=i("unh5"),y=i("cH1L"),k=i("kmnG"),w=i("qFsG"),C=i("d3UM"),A=i("5RNC"),x=i("iadO"),S=i("1jcm"),D=i("FKr1"),I=i("bTqV"),T=i("NFeN");function V(t,e){1&t&&(h.Wb(0,"h1",38),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.main.add_new_task")," "))}function _(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_name_error")," "))}function j(t,e){if(1&t&&(h.Wb(0,"mat-option",39),h.Wb(1,"span",40),h.Jc(2),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.id),h.Cb(1),h.oc("ngClass",t.id),h.Cb(1),h.Kc(t.name)}}function L(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_status_error")," "))}function B(t,e){if(1&t&&(h.Wb(0,"mat-option",39),h.Jc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t),h.Cb(1),h.Lc(" ",t.projectName," ")}}function W(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_project_error")," "))}function F(t,e){if(1&t&&(h.Wb(0,"mat-option",41),h.Wb(1,"div",42),h.Rb(2,"img",43),h.Wb(3,"span",44),h.Jc(4),h.Vb(),h.Vb(),h.Vb()),2&t){const t=e.$implicit,i=h.ic(2);h.oc("value",t),h.Cb(2),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+t.email+".jpg",h.Bc),h.Cb(2),h.Kc(t.name+" "+t.family)}}function E(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.assign_to_error")," "))}function N(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_durationHours_error")," "))}function O(t,e){if(1&t&&(h.Wb(0,"mat-option",39),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t),h.Cb(1),h.Mc(" ",t," ",t?h.kc(2,3,"global.minutes"):""," ")}}function M(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.start_at_error")," "))}function R(t,e){if(1&t&&(h.Wb(0,"mat-option",39),h.Jc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t),h.Cb(1),h.Lc(" ",t," ")}}function z(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.start_time_error")," "))}function Q(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.stop_at_error")," "))}function P(t,e){if(1&t&&(h.Wb(0,"mat-option",39),h.Jc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t),h.Cb(1),h.Lc(" ",t," ")}}function H(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.stop_time_error")," "))}function G(t,e){if(1&t&&(h.Wb(0,"div",21),h.Wb(1,"div",6),h.Wb(2,"mat-slide-toggle",45),h.Jc(3),h.jc(4,"translate"),h.jc(5,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t){const t=h.ic(2);h.Cb(2),h.oc("color","primary"),h.Cb(1),h.Lc(" ",t.form.get("status").value?h.kc(4,2,"global.active"):h.kc(5,4,"global.deactivate")," ")}}function J(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",46),h.ec("click",(function(){return h.zc(t),h.ic(2).cancelBtn()})),h.Wb(1,"span",4),h.Jc(2),h.jc(3,"translate"),h.Vb(),h.Vb()}if(2&t){const t=h.ic(2);h.oc("disabled",t.form.disabled),h.Cb(2),h.Kc(h.kc(3,2,"global.dismiss"))}}function U(t,e){if(1&t&&(h.Wb(0,"button",47),h.Wb(1,"mat-icon",48),h.Jc(2,"check"),h.Vb(),h.Wb(3,"span",4),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Vb()),2&t){const t=h.ic(2);h.oc("disabled",!t.form.valid),h.Cb(4),h.Kc(h.kc(5,2,"global.submit"))}}function q(t,e){if(1&t){const t=h.Xb();h.Wb(0,"form",1),h.ec("submit",(function(){return h.zc(t),h.ic().submit()})),h.Wb(1,"div",2),h.Hc(2,V,3,3,"h1",3),h.Wb(3,"div",4),h.Wb(4,"div",5),h.Wb(5,"div",6),h.Wb(6,"mat-form-field",7),h.Rb(7,"input",8),h.jc(8,"translate"),h.Wb(9,"mat-label"),h.Jc(10),h.jc(11,"translate"),h.Vb(),h.Hc(12,_,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Vb(),h.Wb(13,"div",5),h.Wb(14,"div",10),h.Wb(15,"mat-form-field",11),h.Wb(16,"mat-label"),h.Jc(17),h.jc(18,"translate"),h.Vb(),h.Wb(19,"mat-select",12),h.ec("selectionChange",(function(e){return h.zc(t),h.ic().changeBoardStatus(e)})),h.Hc(20,j,3,3,"mat-option",13),h.Vb(),h.Hc(21,L,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(22,"div",14),h.Wb(23,"div",15),h.Jc(24),h.jc(25,"translate"),h.Wb(26,"span"),h.Jc(27),h.Vb(),h.Jc(28," \u066a "),h.Vb(),h.Rb(29,"mat-slider",16),h.Vb(),h.Vb(),h.Wb(30,"div",5),h.Wb(31,"div",10),h.Wb(32,"mat-form-field",7),h.Wb(33,"mat-label"),h.Jc(34),h.jc(35,"translate"),h.Vb(),h.Wb(36,"mat-select",17),h.Hc(37,B,2,2,"mat-option",13),h.Vb(),h.Hc(38,W,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(39,"div",10),h.Wb(40,"mat-form-field",7),h.Rb(41,"img",18),h.Wb(42,"mat-label"),h.Jc(43),h.jc(44,"translate"),h.Vb(),h.Wb(45,"mat-select",19),h.Hc(46,F,5,4,"mat-option",20),h.Vb(),h.Hc(47,E,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Vb(),h.Wb(48,"div",21),h.Wb(49,"div",10),h.Wb(50,"mat-form-field",7),h.Rb(51,"input",22),h.jc(52,"translate"),h.Wb(53,"mat-label"),h.Jc(54),h.jc(55,"translate"),h.Vb(),h.Hc(56,N,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(57,"div",10),h.Wb(58,"mat-form-field",7),h.Rb(59,"mat-label"),h.Wb(60,"mat-select",23),h.Hc(61,O,3,5,"mat-option",13),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(62,"div",5),h.Wb(63,"div",24),h.Wb(64,"mat-form-field",7),h.Wb(65,"mat-label"),h.Jc(66),h.jc(67,"translate"),h.Vb(),h.Wb(68,"input",25),h.ec("click",(function(){return h.zc(t),h.vc(71).open()}))("dateChange",(function(e){return h.zc(t),h.ic().dateToGregorian("startAt",e)}))("focus",(function(){return h.zc(t),h.vc(71).open()})),h.jc(69,"translate"),h.Vb(),h.Rb(70,"mat-datepicker",null,26),h.Hc(72,M,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(73,"div",24),h.Wb(74,"mat-form-field",7),h.Wb(75,"mat-label"),h.Jc(76),h.jc(77,"translate"),h.Vb(),h.Wb(78,"mat-select",27),h.Hc(79,R,2,2,"mat-option",13),h.Vb(),h.Hc(80,z,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(81,"div",24),h.Wb(82,"mat-form-field",7),h.Wb(83,"mat-label"),h.Jc(84),h.jc(85,"translate"),h.Vb(),h.Wb(86,"input",28),h.ec("click",(function(){return h.zc(t),h.vc(88).open()}))("dateChange",(function(e){return h.zc(t),h.ic().dateToGregorian("stopAt",e)}))("focus",(function(){return h.zc(t),h.vc(88).open()})),h.Vb(),h.Rb(87,"mat-datepicker",null,29),h.Hc(89,Q,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Wb(90,"div",24),h.Wb(91,"mat-form-field",7),h.Wb(92,"mat-label"),h.Jc(93),h.jc(94,"translate"),h.Vb(),h.Wb(95,"mat-select",30),h.Hc(96,P,2,2,"mat-option",13),h.Vb(),h.Hc(97,H,3,3,"mat-error",9),h.Vb(),h.Vb(),h.Vb(),h.Wb(98,"div",21),h.Wb(99,"div",6),h.Wb(100,"mat-form-field",31),h.Wb(101,"mat-label"),h.Jc(102),h.jc(103,"translate"),h.Vb(),h.Rb(104,"textarea",32),h.jc(105,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Wb(106,"div",21),h.Wb(107,"div",6),h.Wb(108,"mat-slide-toggle",33),h.Jc(109),h.jc(110,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Hc(111,G,6,6,"div",34),h.Vb(),h.Vb(),h.Wb(112,"div",35),h.Hc(113,J,4,4,"button",36),h.Hc(114,U,6,4,"button",37),h.Vb(),h.Vb()}if(2&t){const t=h.vc(71),e=h.vc(88),i=h.ic();h.oc("dir",i.rtlDirection?"rtl":"ltr")("formGroup",i.form),h.Cb(2),h.oc("ngIf","detail"!==i.data.action),h.Cb(5),h.pc("placeholder",h.kc(8,49,"tasks.form.task_name")),h.Cb(3),h.Lc(" ",h.kc(11,51,"tasks.form.task_name")," "),h.Cb(2),h.oc("ngIf",!i.form.get("taskName").valid&&i.form.get("taskName").touched),h.Cb(5),h.Kc(h.kc(18,53,"tasks.form.task_status")),h.Cb(3),h.oc("ngForOf",i.boardsList),h.Cb(1),h.oc("ngIf",!i.form.get("boardStatus").valid&&i.form.get("boardStatus").touched),h.Cb(2),h.oc("ngClass",i.rtlDirection?"right-six-tenth":"left-six-tenth"),h.Cb(1),h.Lc(" ",h.kc(25,55,"tasks.boards.task_percentage")," "),h.Cb(3),h.Kc(i.form.get("percentage").value),h.Cb(2),h.oc("max",100)("min",0)("step",5)("thumbLabel",!0)("tickInterval",2),h.Cb(5),h.Kc(h.kc(35,57,"tasks.form.task_project")),h.Cb(3),h.oc("ngForOf",i.projectsList),h.Cb(1),h.oc("ngIf",!i.form.get("project").valid&&i.form.get("project").touched),h.Cb(3),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")("srcset","assets/profileImg/"+i.form.get("email").value+".jpg",h.Bc),h.Cb(2),h.Kc(h.kc(44,59,"tasks.form.assign_to")),h.Cb(3),h.oc("ngForOf",i.usersList),h.Cb(1),h.oc("ngIf",!i.form.get("assignTo").valid&&i.form.get("assignTo").touched),h.Cb(4),h.pc("placeholder",h.kc(52,61,"tasks.form.task_durationHours")),h.Cb(3),h.Lc(" ",h.kc(55,63,"tasks.form.task_durationHours")," "),h.Cb(2),h.oc("ngIf",!i.form.get("taskDurationHours").valid&&i.form.get("taskDurationHours").touched),h.Cb(5),h.oc("ngForOf",i.durationMinute),h.Cb(5),h.Kc(h.kc(67,65,"tasks.form.start_at")),h.Cb(2),h.pc("placeholder",h.kc(69,67,"tasks.form.start_at")),h.oc("matDatepicker",t),h.Cb(4),h.oc("ngIf",!i.form.get("startAt").valid&&i.form.get("startAt").touched),h.Cb(4),h.Kc(h.kc(77,69,"tasks.form.start_time")),h.Cb(3),h.oc("ngForOf",i.hours),h.Cb(1),h.oc("ngIf",!i.form.get("startTime").valid&&i.form.get("startTime").touched),h.Cb(4),h.Kc(h.kc(85,71,"tasks.form.stop_at")),h.Cb(2),h.oc("matDatepicker",e),h.Cb(3),h.oc("ngIf",!i.form.get("stopAt").valid&&i.form.get("stopAt").touched),h.Cb(4),h.Kc(h.kc(94,73,"tasks.form.stop_time")),h.Cb(3),h.oc("ngForOf",i.hours),h.Cb(1),h.oc("ngIf",!i.form.get("stopTime").valid&&i.form.get("stopTime").touched),h.Cb(5),h.Kc(h.kc(103,75,"tasks.form.task_description")),h.Cb(2),h.pc("placeholder",h.kc(105,77,"tasks.form.task_description")),h.Cb(4),h.oc("color","primary"),h.Cb(1),h.Lc(" ",h.kc(110,79,"tasks.form.trackable_by_mobile")," "),h.Cb(2),h.oc("ngIf","detail"===i.data.action),h.Cb(2),h.oc("ngIf",i.editable||"detail"!==i.data.action),h.Cb(1),h.oc("ngIf",i.editable)}}let K=(()=>{class t{constructor(t,e){this.translate=t,this.viewDirection=e,this.data=null,this.cancel=new h.o,this.formOutput=new h.o,this.task=null,this.projectsList=[],this.usersList=[],this.durationMinute=[0,15,30,45],this.hours=["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],this.boardsList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnInit(){this.usersList=this.data.usersList,this.projectsList=this.data.projectsList,"detail"===this.data.action?this.task=this.data.task:this.selectCurrentTime(),setTimeout(()=>{this.boardsList=[{id:"todo",name:this.getTranslate("tasks.boards.todo")},{id:"inProgress",name:this.getTranslate("tasks.boards.in_progress")},{id:"done",name:this.getTranslate("tasks.boards.done")}]},200)}ngOnChanges(t){t.form&&!t.form.firstChange&&(this.form=t.form.currentValue,this._subscription.add(this.form.get("assignTo").valueChanges.subscribe(t=>{const e=this.usersList.filter(e=>e.adminId===t.adminId).pop();e&&this.form.get("email").setValue(e.email)})))}cancelBtn(){this.cancel.emit(!0)}changeBoardStatus(t){"done"===t.value?this.form.get("percentage").setValue(100):"detail"===this.data.action?"done"!==this.data.boardStatus&&this.form.get("percentage").setValue(this.task.percentage):this.form.get("percentage").setValue(0)}selectCurrentTime(){const t=new Date,e=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes();let r="";i<15?r="00":i>=15&&i<30||i>=30&&i<45?r="15":i>=45&&(r="45");const n=e+":"+r;this.form.get("startTime").setValue(n),this.form.get("stopTime").setValue(n)}findInvalidControls(){const t=[],e=this.form.controls;for(const i in e)e[i].invalid&&t.push(i);return t.join(", ")}submit(){this.formOutput.emit(this.form)}dateToGregorian(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}getTranslate(t){return this.translate.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(o.e),h.Qb(v.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-form"]],inputs:{form:"form",data:"data",editable:"editable"},outputs:{cancel:"cancel",formOutput:"formOutput"},features:[h.Ab],decls:1,vars:1,consts:[["class","full-height",3,"dir","formGroup","submit",4,"ngIf"],[1,"full-height",3,"dir","formGroup","submit"],[1,"height-full-minus-45","full-width"],["class","margin-b-full text-gray-800 font-full-em text-weight-500 margin-b-half",4,"ngIf"],[1,"padding-mini-r-l"],[1,"display-flex","margin-r-l-reverse"],[1,"full-width","padding-mini-r-l"],[1,"full-width","font-9-em"],["formControlName","taskName","matInput","","required","","tabindex","1","type","text",1,"full-width",3,"placeholder"],[4,"ngIf"],[1,"half-width","padding-mini-r-l"],[1,"full-width","font-full-em"],["formControlName","boardStatus","tabIndex","2",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"half-width","no-padding-r-l","pos-rel","display-flex","align-items-end"],[1,"font-9-em","pos-abs","top-full-plus-half",3,"ngClass"],["formControlName","percentage","tabindex","3",1,"full-width","pos-rel","top-half",3,"max","min","step","thumbLabel","tickInterval"],["formControlName","project","tabIndex","4"],["matPrefix","",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","srcset"],["formControlName","assignTo","tabIndex","5"],["class","font-full-em",3,"value",4,"ngFor","ngForOf"],[1,"display-flex","margin-b-full","margin-r-l-reverse"],["formControlName","taskDurationHours","matInput","","required","","tabindex","6","type","number",1,"full-width",3,"placeholder"],["formControlName","taskDurationMinutes","tabIndex","7"],[1,"quarter-width","padding-mini-r-l"],["formControlName","startAt","matInput","","readonly","","tabindex","8",3,"matDatepicker","placeholder","click","dateChange","focus"],["picker1",""],["formControlName","startTime","tabIndex","9"],["formControlName","stopAt","matInput","","readonly","","tabindex","10",3,"matDatepicker","click","dateChange","focus"],["picker2",""],["formControlName","stopTime","tabIndex","11"],[1,"full-width","height-80","font-9-em"],["formControlName","taskDesc","matInput","","tabindex","12",3,"placeholder"],["formControlName","trackable",3,"color"],["class","display-flex margin-b-full margin-r-l-reverse",4,"ngIf"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["class","no-bg no-border cursor-pointer text-red-500 line-height-30 font-9-em overflow-hide text-weight-normal","type","button",3,"disabled","click",4,"ngIf"],["class","green-gradient text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","","tabindex","13","type","submit",3,"disabled",4,"ngIf"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[3,"value"],[1,"task-count",3,"ngClass"],[1,"font-full-em",3,"value"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["formControlName","status",3,"color"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],["mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"]],template:function(t,e){1&t&&h.Hc(0,q,115,81,"form",0),2&t&&h.oc("ngIf",e.form)},directives:[r.t,a.I,a.t,y.b,a.k,k.c,a.c,w.b,a.s,a.i,a.D,k.g,C.a,r.s,r.q,A.a,k.i,a.y,x.f,x.d,S.a,k.b,D.o,I.b,T.a],pipes:[o.d],styles:[".task-count.todo[_ngcontent-%COMP%]{color:#f44336}.task-count.inProgress[_ngcontent-%COMP%]{color:#eb9f4c}.task-count.done[_ngcontent-%COMP%]{color:#388e3c}.right-six-tenth[_ngcontent-%COMP%]{right:.6em!important}.left-six-tenth[_ngcontent-%COMP%]{left:.6em!important}"]}),t})();function X(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",1),h.Wb(1,"app-task-form",2),h.ec("cancel",(function(e){return h.zc(t),h.ic().cancelBtn(e)}))("formOutput",(function(e){return h.zc(t),h.ic().updateForm(e)})),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.Cb(1),h.oc("data",t.data)("editable",t.editable)("form",t.form)}}let Y=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a,l){super(i,n),this.api=t,this.fb=e,this.injector=i,this.messageService=r,this.userInfoService=n,this.refreshLoginService=o,this.loadingIndicatorService=s,this.dialogRef=a,this.data=l,this.editable=!1,this.projectsList=[],this.usersList=[],this._subscription=new c.Subscription,this.usersList=this.data.usersList,this.projectsList=this.data.projectsList}ngOnInit(){this.createForm().then(()=>{this.editable=!0,this.form.enable(),this._subscription.add(this.form.get("assignTo").valueChanges.subscribe(t=>{const e=this.usersList.filter(e=>e.adminId===t.adminId).pop();e&&this.form.get("email").setValue(e.email)}))})}createForm(){return new Promise(t=>{this.form=this.fb.group({taskId:new a.g(0),taskName:new a.g("",a.G.required),percentage:new a.g(0,a.G.required),assignTo:new a.g("",a.G.required),taskDurationHours:new a.g(0,[a.G.required,a.G.pattern("^[0-9]+")]),taskDurationMinutes:new a.g(0,a.G.required),startAt:new a.g("",a.G.required),stopAt:new a.g("",a.G.required),startTime:new a.g("",a.G.required),stopTime:new a.g("",a.G.required),project:new a.g({},a.G.required),taskDesc:new a.g(""),email:new a.g("0"),boardStatus:new a.g("",a.G.required),taskDateStart:"0000-00-00 00:00:00",taskDateStop:"0000-00-00 00:00:00",assigner:new a.g(this.loggedInUser.email,a.G.required),trackable:new a.g(0)}),t()})}updateForm(t){this.form=t,setTimeout(()=>{this.submit()},500)}cancelBtn(t){t&&this.dialogRef.close(!1)}submit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});const t=Object.assign(this.form.value);this.form.disable();const e=Object.assign(Object.assign({},t),{startAt:t.startAt+" "+t.startTime+":00",stopAt:t.stopAt+" "+t.stopTime+":00"});delete e.taskId,this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.createTask(e).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===t.result?(this.messageService.showMessage(t.message),this.dialogRef.close(!0)):this.form.enable()},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t),this.form.enable()}))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(u.a),h.Qb(a.f),h.Qb(h.s),h.Qb(f.a),h.Qb(p.a),h.Qb(b.a),h.Qb(g.a),h.Qb(d.h),h.Qb(d.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["ng-component"]],features:[h.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99"],[3,"data","editable","form","cancel","formOutput"]],template:function(t,e){1&t&&h.Hc(0,X,2,3,"div",0),2&t&&h.oc("ngIf",e.form)},directives:[r.t,K],encapsulation:2}),t})();function $(t,e){if(1&t&&(h.Wb(0,"mat-option",30),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.typeName),h.Cb(1),h.Lc(" ",h.kc(2,2,t.textName)," ")}}function Z(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_name_error")," "))}function tt(t,e){if(1&t&&(h.Wb(0,"mat-option",30),h.Jc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.projectId),h.Cb(1),h.Lc(" ",t.projectName," ")}}function et(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.task_project_error")," "))}function it(t,e){if(1&t&&h.Rb(0,"img",31),2&t){const t=h.ic(2);h.oc("ngClass",t.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+t.form.get("userImg").value+".jpg",h.Bc)}}function rt(t,e){if(1&t&&(h.Wb(0,"mat-option",30),h.Wb(1,"div",32),h.Rb(2,"img",33),h.Wb(3,"span",34),h.Jc(4),h.Vb(),h.Vb(),h.Vb()),2&t){const t=e.$implicit,i=h.ic(2);h.oc("value",t.adminId),h.Cb(2),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+t.email+".jpg",h.Bc),h.Cb(2),h.Kc(t.name+" "+t.family)}}function nt(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.assign_to_error")," "))}function ot(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",35),h.ec("click",(function(){return h.zc(t),h.ic(2).form.get("dateStart").setValue("")})),h.Wb(1,"mat-icon"),h.Jc(2,"close"),h.Vb(),h.Vb()}if(2&t){const t=h.ic(2);h.oc("ngClass",t.rtlDirection?"float-left":"float-right")}}function st(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"global.date_error")," "))}function at(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",35),h.ec("click",(function(){return h.zc(t),h.ic(2).form.get("dateStop").setValue("")})),h.Wb(1,"mat-icon"),h.Jc(2,"close"),h.Vb(),h.Vb()}if(2&t){const t=h.ic(2);h.oc("ngClass",t.rtlDirection?"float-left":"float-right")}}function ct(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"global.date_error")," "))}function lt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",1),h.Wb(1,"form",2),h.ec("submit",(function(){return h.zc(t),h.ic().submit()})),h.Wb(2,"div",3),h.Wb(3,"h1",4),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Wb(6,"div",5),h.Wb(7,"div",6),h.Wb(8,"mat-form-field",7),h.Wb(9,"mat-label"),h.Jc(10),h.jc(11,"translate"),h.Vb(),h.Wb(12,"mat-select",8),h.Hc(13,$,3,4,"mat-option",9),h.Vb(),h.Vb(),h.Vb(),h.Wb(14,"div",6),h.Wb(15,"mat-form-field",7),h.Rb(16,"input",10),h.jc(17,"translate"),h.Wb(18,"mat-label"),h.Jc(19),h.jc(20,"translate"),h.Vb(),h.Hc(21,Z,3,3,"mat-error",11),h.Vb(),h.Vb(),h.Vb(),h.Wb(22,"div",5),h.Wb(23,"div",6),h.Wb(24,"mat-form-field",7),h.Wb(25,"mat-label"),h.Jc(26),h.jc(27,"translate"),h.Vb(),h.Wb(28,"mat-select",12),h.Hc(29,tt,2,2,"mat-option",9),h.Vb(),h.Hc(30,et,3,3,"mat-error",11),h.Vb(),h.Vb(),h.Wb(31,"div",6),h.Wb(32,"mat-form-field",7),h.Hc(33,it,1,2,"img",13),h.Wb(34,"mat-label"),h.Jc(35),h.jc(36,"translate"),h.Vb(),h.Wb(37,"mat-select",14),h.Hc(38,rt,5,4,"mat-option",9),h.Vb(),h.Hc(39,nt,3,3,"mat-error",11),h.Vb(),h.Vb(),h.Vb(),h.Wb(40,"div",15),h.Wb(41,"div",6),h.Wb(42,"mat-form-field",7),h.Wb(43,"mat-label"),h.Jc(44),h.jc(45,"translate"),h.Vb(),h.Wb(46,"input",16),h.ec("click",(function(){return h.zc(t),h.vc(48).open()}))("dateChange",(function(e){return h.zc(t),h.ic().dateToGregorian("dateStart",e)}))("focus",(function(){return h.zc(t),h.vc(48).open()})),h.Vb(),h.Rb(47,"mat-datepicker",null,17),h.Hc(49,ot,3,1,"button",18),h.Hc(50,st,3,3,"mat-error",11),h.Vb(),h.Vb(),h.Wb(51,"div",6),h.Wb(52,"mat-form-field",7),h.Wb(53,"mat-label"),h.Jc(54),h.jc(55,"translate"),h.Vb(),h.Wb(56,"input",19),h.ec("click",(function(){return h.zc(t),h.vc(58).open()}))("dateChange",(function(e){return h.zc(t),h.ic().dateToGregorian("dateStop",e)}))("focus",(function(){return h.zc(t),h.vc(58).open()})),h.Vb(),h.Rb(57,"mat-datepicker",null,20),h.Hc(59,at,3,1,"button",18),h.Hc(60,ct,3,3,"mat-error",11),h.Vb(),h.Vb(),h.Vb(),h.Wb(61,"div",21),h.Wb(62,"div",6),h.Wb(63,"mat-slide-toggle",22),h.Wb(64,"span",23),h.Jc(65),h.jc(66,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Wb(67,"div",6),h.Wb(68,"mat-slide-toggle",24),h.Wb(69,"span",23),h.Jc(70),h.jc(71,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(72,"div",25),h.Wb(73,"button",26),h.Wb(74,"mat-icon",27),h.Jc(75,"check"),h.Vb(),h.Wb(76,"span",28),h.Jc(77),h.jc(78,"translate"),h.Vb(),h.Vb(),h.Wb(79,"button",29),h.ec("click",(function(){return h.zc(t),h.ic().dialogRef.close(!1)})),h.Wb(80,"span",28),h.Jc(81),h.jc(82,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=h.vc(48),e=h.vc(58),i=h.ic();h.oc("dir",i.rtlDirection?"rtl":"ltr"),h.Cb(1),h.oc("formGroup",i.form),h.Cb(3),h.Lc(" ",h.kc(5,30,"tasks.task_filter.tasks_filter")," "),h.Cb(6),h.Kc(h.kc(11,32,"tasks.task_filter.filter_types")),h.Cb(3),h.oc("ngForOf",i.filterTypes),h.Cb(3),h.pc("placeholder",h.kc(17,34,"tasks.form.task_name")),h.Cb(3),h.Lc(" ",h.kc(20,36,"tasks.form.task_name")," "),h.Cb(2),h.oc("ngIf",!i.form.get("taskName").valid&&i.form.get("taskName").touched),h.Cb(5),h.Kc(h.kc(27,38,"tasks.form.task_project")),h.Cb(3),h.oc("ngForOf",i.projectsList),h.Cb(1),h.oc("ngIf",!i.form.get("projectId").valid&&i.form.get("projectId").touched),h.Cb(3),h.oc("ngIf",i.form.get("adminId").valid),h.Cb(2),h.Kc(h.kc(36,40,"tasks.form.assign_to")),h.Cb(3),h.oc("ngForOf",i.usersList),h.Cb(1),h.oc("ngIf",!i.form.get("adminId").valid&&i.form.get("adminId").touched),h.Cb(5),h.Kc(h.kc(45,42,"global.from_date")),h.Cb(2),h.oc("matDatepicker",t),h.Cb(3),h.oc("ngIf",i.form.get("dateStart").touched&&i.form.get("dateStart").value.length),h.Cb(1),h.oc("ngIf",!i.form.get("dateStart").valid&&i.form.get("dateStart").touched),h.Cb(4),h.Kc(h.kc(55,44,"global.to_date")),h.Cb(2),h.oc("matDatepicker",e),h.Cb(3),h.oc("ngIf",i.form.get("dateStop").touched&&i.form.get("dateStop").value.length),h.Cb(1),h.oc("ngIf",!i.form.get("dateStop").valid&&i.form.get("dateStop").touched),h.Cb(3),h.oc("color","primary"),h.Cb(2),h.Kc(h.kc(66,46,"tasks.task_filter.in_progress_tasks")),h.Cb(3),h.oc("color","primary"),h.Cb(2),h.Kc(h.kc(71,48,"tasks.task_filter.show_disabled_task")),h.Cb(3),h.oc("disabled",!i.form.valid&&i.form.touched),h.Cb(4),h.Kc(h.kc(78,50,"global.submit")),h.Cb(4),h.Kc(h.kc(82,52,"global.dismiss"))}}let dt=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a,l,d,h){super(r,s),this.data=t,this.api=e,this.fb=i,this.injector=r,this.translate=n,this.messageService=o,this.userInfoService=s,this.viewDirection=a,this.refreshLoginService=l,this.dialogRef=d,this.loadingIndicatorService=h,this.filterData={userId:0,adminId:0,dateStart:"",dateStop:"",projectId:0,taskName:"",email:"0",userImg:"0",type:"",status:0,percentageStatus:!1},this.projectsList=[],this.usersList=[],this.filterTypes=[{index:0,typeName:"byCreateDate",textName:"tasks.task_filter.by_create_date"},{index:1,typeName:"byProject",textName:"tasks.task_filter.by_project"},{index:2,typeName:"byUser",textName:"tasks.task_filter.by_user"},{index:3,typeName:"byStartDate",textName:"tasks.task_filter.by_start_date"},{index:4,typeName:"byStopDate",textName:"tasks.task_filter.by_stop_date"},{index:5,typeName:"byUserStartDate",textName:"tasks.task_filter.by_user_start_date"},{index:6,typeName:"byUserStopDate",textName:"tasks.task_filter.by_user_stop_date"},{index:7,typeName:"byStartedTask",textName:"tasks.task_filter.by_started_task"},{index:8,typeName:"byPostponed",textName:"tasks.task_filter.by_postponed"}],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this.usersList=this.data.usersList,this.projectsList=this.data.projectsList,this.filterData=this.data.filterData}ngOnInit(){this.createForm().then(()=>{this.form.patchValue({taskName:this.filterData.taskName?this.filterData.taskName:"",projectId:this.filterData.projectId?this.filterData.projectId:0,dateStart:this.filterData.dateStart?this.filterData.dateStart:"",dateStop:this.filterData.dateStop?this.filterData.dateStop:"",adminId:this.filterData.adminId?this.filterData.adminId:0,email:this.filterData.email?this.filterData.email:this.loggedInUser.email,userImg:this.filterData.userImg?this.filterData.userImg:"0",type:this.filterData.type?this.filterData.type:"",status:this.filterData.status?this.filterData.status:0,percentageStatus:!!this.filterData.percentageStatus&&this.filterData.percentageStatus}),this.form.markAllAsTouched(),setTimeout(()=>this.checkFormValidation(),1e3),this._subscription.add(this.form.get("adminId").valueChanges.subscribe(t=>{const e=this.usersList.filter(e=>e.adminId===t).pop();e&&this.form.get("userImg").setValue(e.email)}))}),setTimeout(()=>{-1===this.usersList.findIndex(t=>0===t.adminId)&&this.usersList.splice(0,0,{adminId:0,name:this.getTranslate("tasks.task_filter.all"),family:"",email:"0"}),-1===this.projectsList.findIndex(t=>0===t.projectId)&&this.projectsList.splice(0,0,{projectId:0,projectName:this.getTranslate("tasks.task_filter.all")})},500)}createForm(){return new Promise(t=>{this.form=this.fb.group({userId:new a.g(0,a.G.required),userImg:new a.g("0"),email:new a.g(this.loggedInUser.email),taskName:new a.g(""),projectId:new a.g(0),dateStart:new a.g(""),dateStop:new a.g(""),type:new a.g("byCreateDate",a.G.required),adminId:new a.g(0),page:new a.g("-1"),status:new a.g(0),percentageStatus:new a.g(!1)}),t(!0)})}dateToGregorian(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}checkFormValidation(){"byProject"!==this.form.get("type").value&&"byUser"!==this.form.get("type").value&&this.dateRequiredValidation(),this._subscription.add(this.form.valueChanges.subscribe(t=>{const e=this.form.get("projectId"),i=this.form.get("adminId");switch(t.type){case"byProject":this.resetFormValidation(),0===e.value&&(e.setErrors({incorrect:!0}),e.markAsTouched());break;case"byCreateDate":case"byStartDate":case"byStopDate":case"byUserStartDate":case"byUserStopDate":this.dateRequiredValidation();break;case"byUser":this.resetFormValidation(),0===i.value&&(i.setErrors({incorrect:!0}),i.markAsTouched());break;default:this.resetFormValidation()}}))}dateRequiredValidation(){const t=this.form.get("dateStart"),e=this.form.get("dateStop");this.resetFormValidation(),(""===t.value||""===e.value||""===t.value&&""!==e.value||""!==t.value&&""===e.value)&&(t.setErrors({incorrect:!0}),e.setErrors({incorrect:!0}),t.markAsTouched(),e.markAsTouched())}resetFormValidation(){this.form.get("projectId").setErrors(null),this.form.get("dateStart").setErrors(null),this.form.get("dateStop").setErrors(null),this.form.get("adminId").setErrors(null)}submit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});const t=Object.assign({},this.form.value);this.filterData=Object.assign({},this.form.value),0===t.adminId&&delete t.adminId,0===t.projectId&&delete t.projectId,""===t.taskName&&delete t.taskName,""===t.dateStart&&delete t.dateStart,""===t.dateStop&&delete t.dateStop,!1===t.percentageStatus&&delete t.percentageStatus,0===t.status&&delete t.status,this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.filterTask(t).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===t.result?(this.dialogRef.close({result:1,filterData:this.filterData,content:t.content}),this.messageService.showMessage(t.message)):this.form.enable()},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)}))}getTranslate(t){return this.translate.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.a),h.Qb(u.a),h.Qb(a.f),h.Qb(h.s),h.Qb(o.e),h.Qb(f.a),h.Qb(p.a),h.Qb(v.a),h.Qb(b.a),h.Qb(d.h),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-filter"]],features:[h.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",3,"dir",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"height-full-minus-30","full-width"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[1,"display-flex","margin-r-l-reverse"],[1,"half-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","type","required","","tabIndex","1"],["class","font-full-em",3,"value",4,"ngFor","ngForOf"],["formControlName","taskName","matInput","","tabindex","2","type","text",1,"full-width",3,"placeholder"],[4,"ngIf"],["formControlName","projectId","tabIndex","3"],["class","width-20 height-20 round-corner-all pos-rel top-three-tenth","matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",3,"ngClass","src",4,"ngIf"],["formControlName","adminId","tabIndex","4"],[1,"display-flex","margin-r-l-reverse","margin-b-full"],["formControlName","dateStart","matInput","","readonly","","tabindex","5",3,"matDatepicker","click","dateChange","focus"],["picker1",""],["aria-label","Clear","class","close-icon pos-rel top-half","mat-button","","mat-icon-button","","matSuffix","","type","button",3,"ngClass","click",4,"ngIf"],["formControlName","dateStop","matInput","","readonly","","tabindex","6",3,"matDatepicker","click","dateChange","focus"],["picker2",""],[1,"display-flex","margin-r-l-reverse","margin-t-full-2"],["formControlName","percentageStatus",3,"color"],[1,"font-9-em"],["formControlName","status",3,"color"],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"font-full-em",3,"value"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","src"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","","type","button",1,"close-icon","pos-rel","top-half",3,"ngClass","click"]],template:function(t,e){1&t&&h.Hc(0,lt,83,54,"div",0),2&t&&h.oc("ngIf",e.form)},directives:[r.t,y.b,a.I,a.t,a.k,k.c,k.g,C.a,a.s,a.i,a.D,r.s,a.c,w.b,x.f,x.d,S.a,I.b,T.a,D.o,k.b,k.i,r.q,k.j],pipes:[o.d],encapsulation:2}),t})();function ht(t,e){if(1&t){const t=h.Xb();h.Wb(0,"mat-option",22),h.ec("onSelectionChange",(function(i){h.zc(t);const r=e.$implicit;return h.ic().updateImage(i,r)})),h.Wb(1,"div",23),h.Rb(2,"img",24),h.Wb(3,"span",25),h.Jc(4),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,i=h.ic();h.oc("value",t.adminId),h.Cb(2),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")("src","assets/profileImg/"+t.email+".jpg",h.Bc),h.Cb(2),h.Kc(t.name+" "+t.family)}}function ut(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.assign_to_error")," "))}function ft(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",26),h.ec("click",(function(){return h.zc(t),h.ic().form.get("dateStart").setValue("")})),h.Wb(1,"mat-icon"),h.Jc(2,"close"),h.Vb(),h.Vb()}}function pt(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"global.date_error")," "))}function bt(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.form.assign_to_error")," "))}function gt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",26),h.ec("click",(function(){return h.zc(t),h.ic().form.get("dateStop").setValue("")})),h.Wb(1,"mat-icon"),h.Jc(2,"close"),h.Vb(),h.Vb()}}function mt(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"global.date_error")," "))}let vt=(()=>{class t extends l.a{constructor(t,e,i,r,n,o){super(i,r),this.data=t,this.api=e,this.injector=i,this.userInfoService=r,this.loadingIndicatorService=n,this.dialogRef=o,this._subscription=new c.Subscription,this.usersList=this.data.usersList,this.loginData=this.data.loginData,this.rtlDirection=this.data.rtlDirection}ngOnInit(){this.createForm().then(()=>{this._subscription.add(this.form.get("adminId").valueChanges.subscribe(t=>{const e=this.usersList.filter(e=>e.adminId===t).pop();e&&this.form.get("userImg").setValue(e.email)}))})}createForm(){return new Promise(t=>{this.form=new a.j({adminId:new a.g(null,a.G.required),dateStart:new a.g("",a.G.required),dateStop:new a.g("",a.G.required),userImg:new a.g("0"),email:new a.g(this.loggedInUser.email)}),t()})}updateImage(t,e){t.isUserInput&&(this.userSelected=e)}dateToGregorian(t,e){this.form.get(t).setValue(m(e.value._d).format("YYYY-MM-DD"))}closeDialog(t){this.dialogRef.close(t)}submit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});const t=Object.assign({},this.form.value);this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.boardsCalendarDurationTask(t).subscribe(e=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"});try{if(1===e.result){let i=[];e.content[0].map(t=>{const e={title:t.timediff,start:new Date(t.startDate),end:new Date(t.startDate)};i.push(e)}),this.sumTime=e.content[1][0].timeSum,this.calendarDifferentEvents=i,this.dialogRef.close({sumTime:this.sumTime,calendarEvent:i,dateStart:t.dateStart,userSelected:this.userSelected})}else this.form.enable()}catch(i){console.log(i)}},()=>{this.form.enable(),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"})}))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.a),h.Qb(u.a),h.Qb(h.s),h.Qb(p.a),h.Qb(g.a),h.Qb(d.h))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-calendar-filter"]],inputs:{sumTime:"sumTime",calendarComponent:"calendarComponent"},features:[h.zb],decls:49,vars:32,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"height-full-minus-30","full-width"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","margin-b-half"],[1,"display-flex","margin-r-l-reverse"],[1,"full-width","padding-r-l"],[1,"full-width","font-8-em"],["matPrefix","",1,"width-20","height-20","round-corner-all","pos-rel","top-three-tenth",3,"ngClass","srcset"],["formControlName","adminId","tabIndex","4"],["class","font-full-em",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"half-width","padding-r-l"],["formControlName","dateStart","matInput","","readonly","","tabindex","5",3,"matDatepicker","click","dateChange","focus"],["picker1",""],["aria-label","Clear","class","close-icon pos-rel top-half float-left","mat-button","","mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["formControlName","dateStop","matInput","","readonly","","tabindex","6",3,"matDatepicker","click","dateChange","focus"],["picker2",""],[1,"height-30","full-width","display-flex","flex-direction-row-reverse"],["disabled","","mat-raised-button","","tabindex","13","type","submit",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"font-full-em",3,"value","onSelectionChange"],[1,"display-flex","align-items-center"],["matPrefix","","onerror","this.src='assets/profileImg/0.jpg'",1,"width-20","height-20","round-corner-all","pos-rel",3,"ngClass","src"],[1,"line-height-40"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","","type","button",1,"close-icon","pos-rel","top-half","float-left",3,"click"]],template:function(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",0),h.Wb(1,"form",1),h.ec("submit",(function(){return e.submit()})),h.Wb(2,"div",2),h.Wb(3,"h1",3),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Wb(6,"div",4),h.Wb(7,"div",5),h.Wb(8,"mat-form-field",6),h.Rb(9,"img",7),h.Wb(10,"mat-label"),h.Jc(11),h.jc(12,"translate"),h.Vb(),h.Wb(13,"mat-select",8),h.Hc(14,ht,5,4,"mat-option",9),h.Vb(),h.Hc(15,ut,3,3,"mat-error",10),h.Vb(),h.Vb(),h.Vb(),h.Wb(16,"div",4),h.Wb(17,"div",11),h.Wb(18,"mat-form-field",6),h.Wb(19,"mat-label"),h.Jc(20),h.jc(21,"translate"),h.Vb(),h.Wb(22,"input",12),h.ec("click",(function(){return h.zc(t),h.vc(24).open()}))("dateChange",(function(t){return e.dateToGregorian("dateStart",t)}))("focus",(function(){return h.zc(t),h.vc(24).open()})),h.Vb(),h.Rb(23,"mat-datepicker",null,13),h.Hc(25,ft,3,0,"button",14),h.Hc(26,pt,3,3,"mat-error",10),h.Hc(27,bt,3,3,"mat-error",10),h.Vb(),h.Vb(),h.Wb(28,"div",11),h.Wb(29,"mat-form-field",6),h.Wb(30,"mat-label"),h.Jc(31),h.jc(32,"translate"),h.Vb(),h.Wb(33,"input",15),h.ec("click",(function(){return h.zc(t),h.vc(35).open()}))("dateChange",(function(t){return e.dateToGregorian("dateStop",t)}))("focus",(function(){return h.zc(t),h.vc(35).open()})),h.Vb(),h.Rb(34,"mat-datepicker",null,16),h.Hc(36,gt,3,0,"button",14),h.Hc(37,mt,3,3,"mat-error",10),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(38,"div",17),h.Wb(39,"button",18),h.Wb(40,"mat-icon",19),h.Jc(41,"check"),h.Vb(),h.Wb(42,"span",20),h.Jc(43),h.jc(44,"translate"),h.Vb(),h.Vb(),h.Wb(45,"button",21),h.ec("click",(function(){return e.closeDialog(!1)})),h.Wb(46,"span",20),h.Jc(47),h.jc(48,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=h.vc(24),i=h.vc(35);h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(1),h.oc("formGroup",e.form),h.Cb(3),h.Lc(" ",h.kc(5,20,"tasks.task_filter.tasks_filter_calendar")," "),h.Cb(5),h.oc("ngClass",e.rtlDirection?"margin-l-half":"margin-r-half")("srcset","assets/profileImg/"+e.form.get("userImg").value+".jpg",h.Bc),h.Cb(2),h.Kc(h.kc(12,22,"tasks.form.assign_to")),h.Cb(3),h.oc("ngForOf",e.usersList),h.Cb(1),h.oc("ngIf",!e.form.get("adminId").valid&&e.form.get("adminId").touched),h.Cb(5),h.Kc(h.kc(21,24,"global.from_date")),h.Cb(2),h.oc("matDatepicker",t),h.Cb(3),h.oc("ngIf",e.form.get("dateStart").touched&&e.form.get("dateStart").value.length),h.Cb(1),h.oc("ngIf",!e.form.get("dateStart").valid&&e.form.get("dateStart").touched),h.Cb(1),h.oc("ngIf",e.form.get("dateStart").value>e.form.get("dateStop").value),h.Cb(4),h.Kc(h.kc(32,26,"global.to_date")),h.Cb(2),h.oc("matDatepicker",i),h.Cb(3),h.oc("ngIf",e.form.get("dateStop").touched&&e.form.get("dateStop").value.length),h.Cb(1),h.oc("ngIf",!e.form.get("dateStop").valid&&e.form.get("dateStop").touched),h.Cb(2),h.oc("disabled",!e.form.valid),h.Cb(4),h.Kc(h.kc(44,28,"global.submit")),h.Cb(4),h.Kc(h.kc(48,30,"global.dismiss"))}},directives:[y.b,a.I,a.t,a.k,k.c,k.i,r.q,k.g,C.a,a.s,a.i,r.s,r.t,a.c,w.b,x.f,x.d,I.b,T.a,D.o,k.b,k.j],pipes:[o.d],encapsulation:2}),t})();var yt=i("LyM2"),kt=i("0d0Z");const wt=["bottomSheet"];function Ct(t,e){if(1&t&&(h.Wb(0,"mat-icon",17),h.Jc(1),h.Vb(),h.Wb(2,"span",8),h.Jc(3),h.Vb()),2&t){const t=h.ic().$implicit;h.Cb(1),h.Lc(" ",t.icon," "),h.Cb(2),h.Kc(t.name)}}function At(t,e){1&t&&(h.Wb(0,"mat-tab"),h.Hc(1,Ct,4,2,"ng-template",16),h.Vb())}function xt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",18),h.ec("click",(function(){return h.zc(t),h.ic().resetFilter()})),h.Wb(1,"mat-icon",19),h.Jc(2,"close"),h.Vb(),h.Wb(3,"span",20),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Vb()}2&t&&(h.Cb(4),h.Kc(h.kc(5,1,"global.reset_filter")))}function St(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",21),h.ec("click",(function(){return h.zc(t),h.ic().addNewTask()})),h.Wb(1,"mat-icon",7),h.Jc(2,"add"),h.Vb(),h.Wb(3,"span",8),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.oc("disabled",!t.taskEssentialInfo),h.Cb(4),h.Kc(h.kc(5,2,"tasks.main.add_new_task"))}}function Dt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",22),h.Wb(1,"app-task-board",23),h.ec("pushTaskEssentialInfo",(function(e){return h.zc(t),h.ic().getTaskEssentialInfo(e)}))("triggerBottomSheet",(function(e){return h.zc(t),h.ic().openButtonSheet(e)})),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.Cb(1),h.oc("filterBoards",t.filteredBoardsData)("pushTaskToBoard",t.pushTaskToBoard)("refreshData",t.refreshBoardData)("rtlDirection",t.rtlDirection)}}function It(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",22),h.Wb(1,"app-task-calendar",24),h.ec("onTabLoaded",(function(e){return h.zc(t),h.ic().doSomething(e)})),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.Cb(1),h.oc("calendarParameters",t.calendarParameters)("rtlDirection",t.rtlDirection)}}function Tt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",25),h.Wb(1,"app-task-current",26),h.ec("pushTaskToBoard",(function(e){return h.zc(t),h.ic().getTaskToBoardData(e)}))("triggerBottomSheet",(function(e){return h.zc(t),h.ic().openButtonSheet(e)})),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.Cb(1),h.oc("rtlDirection",t.rtlDirection)("taskEssentialInfo",t.taskEssentialInfo)}}function Vt(t,e){1&t&&(h.Wb(0,"div",27),h.Wb(1,"div",28),h.hc(),h.Wb(2,"svg",29),h.Wb(3,"rect",30),h.Rb(4,"animate",31),h.Rb(5,"animate",32),h.Vb(),h.Wb(6,"rect",33),h.Rb(7,"animate",34),h.Rb(8,"animate",35),h.Vb(),h.Wb(9,"rect",36),h.Rb(10,"animate",37),h.Rb(11,"animate",38),h.Vb(),h.Vb(),h.gc(),h.Wb(12,"span",39),h.Jc(13),h.jc(14,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Cb(13),h.Kc(h.kc(14,1,"global.loading")))}const _t=function(t){return{"margin-r-l":t}};let jt=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a){super(e,r),this.dialog=t,this.injector=e,this.translate=i,this.userInfoService=r,this.viewDirection=n,this.currentTaskService=o,this.windowManagerService=s,this.loadingIndicatorService=a,this.loadingIndicator={status:!1,serviceName:"project"},this.doResetFilter=!1,this.activeTab=0,this.refreshBoardData=!1,this.filterData=null,this.tabs=[],this.calendarParameters={},this.currentTasks=null,this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>{this.rtlDirection=t,this.changeMainTabLanguage()})),this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t)),this._subscription.add(this.currentTaskService.currentTask.subscribe(t=>this.currentTasks=t))}ngAfterViewInit(){this.changeMainTabLanguage(),this.filterData={userId:0,userImg:"0",adminId:0,dateStart:"",dateStop:"",projectId:0,taskName:"",type:"",email:this.loggedInUser.email,status:0}}changeMainTabLanguage(){setTimeout(()=>{this.tabs=[{name:this.getTranslate("tasks.main.boards"),icon:"view_week",id:"boards"},{name:this.getTranslate("tasks.main.calendar"),icon:"event_available",id:"calendar"}]},200)}addNewTask(){const t=this.dialog.open(Y,{data:{action:"add",usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList},autoFocus:!1,width:"50%",height:"560px"});this.windowManagerService.dialogOnTop(t.id),this._subscription.add(t.afterClosed().subscribe(t=>{t&&(this.refreshBoardData=!0,setTimeout(()=>this.refreshBoardData=!1,500))}))}tabChange(t){this.activeTab=t.index,this.doResetFilter=!1}getTaskEssentialInfo(t){this.taskEssentialInfo=t}getTaskToBoardData(t){this.pushTaskToBoard=t}showCalendarFilter(){const t=this.dialog.open(vt,{data:{filterData:this.filterData,usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList,loginData:this.loginData,rtlDirection:this.rtlDirection},autoFocus:!1,width:"500px",height:"250px"});this.windowManagerService.dialogOnTop(t.id),this._subscription.add(t.afterClosed().subscribe(t=>{t&&(this.calendarParameters=t)}))}showTaskFilter(){const t=this.dialog.open(dt,{data:{filterData:this.filterData,usersList:this.taskEssentialInfo.usersList,projectsList:this.taskEssentialInfo.projectsList},autoFocus:!1,width:"500px",height:"350px"});this.windowManagerService.dialogOnTop(t.id),this._subscription.add(t.afterClosed().subscribe(t=>{t&&1===t.result&&(this.filterData=Object.assign({},t.filterData),this.filteredBoardsData={resp:t},this.doResetFilter=!0)}))}showFilter(){void 0!==this.checksTab&&"calendar_task"!=this.checksTab&&this.activeTab&&"calendar_task_rate"==this.checksTab&&this.activeTab?this.showCalendarFilter():this.showTaskFilter()}resetFilter(){this.refreshBoardData=!0,setTimeout(()=>{this.refreshBoardData=!1,this.doResetFilter=!1},200)}openButtonSheet(t){t.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(t)}getTranslate(t){return this.translate.instant(t)}doSomething(t){this.checksTab=t}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(h.s),h.Qb(o.e),h.Qb(p.a),h.Qb(v.a),h.Qb(yt.a),h.Qb(kt.a),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-main"]],viewQuery:function(t,e){var i;1&t&&h.Pc(wt,!0),2&t&&h.uc(i=h.fc())&&(e.bottomSheet=i.first)},features:[h.zb],decls:21,vars:18,consts:[[1,"full-width","full-height","pos-abs","left-0","right-0","top-0",3,"dir"],[1,"title-container","pos-rel","height-60","overflow-hide","full-width","display-flex","align-items-end"],["color","accent","disableRipple","",1,"padding-r-l","z-index-0","height-30",3,"selectedTabChange"],[4,"ngFor","ngForOf"],[1,"pos-abs","top-full","display-flex","flex-space-between","align-items-center",3,"ngClass"],["class","no-bg no-border height-35 margin-l-full cursor-pointer",3,"click",4,"ngIf"],["mat-raised-button","",1,"white-gradient","padding-mini-r-l","text-gray-800","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","ngClass","click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["class","green-gradient padding-mini-r-l text-white line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","",3,"disabled","click",4,"ngIf"],[1,"content-container","padding-t-b","full-width",3,"ngClass"],[3,"ngSwitch"],["class","full-height",4,"ngSwitchCase"],["class","current-task-container bg-white height-50 full-width padding-r-l line-height-50",4,"ngIf"],["bottomSheet",""],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],["class","display-flex","mat-tab-label",""],[1,"tab-icon","font-full-em","width-15","height-15"],[1,"no-bg","no-border","height-35","margin-l-full","cursor-pointer",3,"click"],[1,"font-8-rem","line-height-25","width-18","height-18"],[1,"font-8-rem","line-height-25"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],[1,"full-height"],[3,"filterBoards","pushTaskToBoard","refreshData","rtlDirection","pushTaskEssentialInfo","triggerBottomSheet"],[3,"calendarParameters","rtlDirection","onTabLoaded"],[1,"current-task-container","bg-white","height-50","full-width","padding-r-l","line-height-50"],[3,"rtlDirection","taskEssentialInfo","pushTaskToBoard","triggerBottomSheet"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"div",1),h.Wb(2,"mat-tab-group",2),h.ec("selectedTabChange",(function(t){return e.tabChange(t)})),h.Hc(3,At,2,0,"mat-tab",3),h.Vb(),h.Wb(4,"div",4),h.Hc(5,xt,6,3,"button",5),h.Wb(6,"button",6),h.ec("click",(function(){return e.showFilter()})),h.Wb(7,"mat-icon",7),h.Jc(8,"filter_list"),h.Vb(),h.Wb(9,"span",8),h.Jc(10),h.jc(11,"translate"),h.Vb(),h.Vb(),h.Hc(12,St,6,4,"button",9),h.Vb(),h.Vb(),h.Wb(13,"div",10),h.Ub(14,11),h.Hc(15,Dt,2,4,"div",12),h.Hc(16,It,2,2,"div",12),h.Tb(),h.Vb(),h.Hc(17,Tt,2,2,"div",13),h.Rb(18,"app-task-bottom-sheet",null,14),h.Hc(20,Vt,15,3,"div",15),h.Vb()),2&t&&(h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(3),h.oc("ngForOf",e.tabs),h.Cb(1),h.oc("ngClass",e.rtlDirection?"left-full":"right-full"),h.Cb(1),h.oc("ngIf",e.doResetFilter&&0===e.activeTab),h.Cb(1),h.oc("disabled",!e.taskEssentialInfo)("ngClass",h.rc(16,_t,!e.activeTab)),h.Cb(4),h.Kc(h.kc(11,14,"global.filter")),h.Cb(2),h.oc("ngIf",!e.activeTab),h.Cb(1),h.oc("ngClass",e.currentTasks&&e.currentTasks.length?"height-full-minus-110":"height-full-minus-60"),h.Cb(1),h.oc("ngSwitch",e.activeTab),h.Cb(1),h.oc("ngSwitchCase",0),h.Cb(1),h.oc("ngSwitchCase",1),h.Cb(1),h.oc("ngIf",e.currentTasks&&e.currentTasks.length),h.Cb(3),h.oc("ngIf",e.loadingIndicator.status&&"project"===e.loadingIndicator.serviceName))},encapsulation:2}),t})();function Lt(t,e){1&t&&(h.Wb(0,"mat-error"),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Lc(" ",h.kc(2,1,"tasks.task_stop.description_error")," "))}function Bt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",1),h.Wb(1,"form",2),h.ec("submit",(function(){return h.zc(t),h.ic().submit()})),h.Wb(2,"div",3),h.Wb(3,"h1",4),h.Jc(4),h.jc(5,"translate"),h.Vb(),h.Wb(6,"div",5),h.Wb(7,"div",6),h.Wb(8,"span"),h.Jc(9),h.jc(10,"translate"),h.Vb(),h.Wb(11,"span",7),h.Jc(12),h.Vb(),h.Vb(),h.Vb(),h.Wb(13,"div",8),h.Wb(14,"div",9),h.Wb(15,"div",10),h.Jc(16),h.jc(17,"translate"),h.Wb(18,"span"),h.Jc(19),h.Vb(),h.Jc(20," \u066a "),h.Vb(),h.Rb(21,"mat-slider",11),h.Vb(),h.Vb(),h.Wb(22,"div",5),h.Wb(23,"div",6),h.Wb(24,"mat-form-field",12),h.Wb(25,"mat-label"),h.Jc(26),h.jc(27,"translate"),h.Vb(),h.Rb(28,"textarea",13),h.jc(29,"translate"),h.Hc(30,Lt,3,3,"mat-error",14),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(31,"div",15),h.Wb(32,"button",16),h.Wb(33,"mat-icon",17),h.Jc(34,"check"),h.Vb(),h.Wb(35,"span",18),h.Jc(36),h.jc(37,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.oc("dir",t.rtlDirection?"rtl":"ltr"),h.Cb(1),h.oc("formGroup",t.form),h.Cb(3),h.Lc(" ",h.kc(5,19,"tasks.task_stop.stop_description")," "),h.Cb(5),h.Lc("",h.kc(10,21,"tasks.form.task_name"),": "),h.Cb(3),h.Kc(t.task.taskName),h.Cb(3),h.oc("ngClass",t.rtlDirection?"right-full":"left-full"),h.Cb(1),h.Lc(" ",h.kc(17,23,"tasks.boards.task_percentage")," "),h.Cb(3),h.Kc(t.form.get("percentage").value),h.Cb(2),h.oc("disabled","done"===t.task.boardStatus)("max",100)("min",0)("step",5)("thumbLabel",!0)("tickInterval",2),h.Cb(5),h.Kc(h.kc(27,25,"tasks.task_stop.description")),h.Cb(2),h.pc("placeholder",h.kc(29,27,"tasks.task_stop.description")),h.Cb(2),h.oc("ngIf",!t.form.get("description").valid&&t.form.get("description").touched),h.Cb(2),h.oc("disabled",!t.form.valid),h.Cb(4),h.Kc(h.kc(37,29,"global.submit"))}}let Wt=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a,l,d){super(i,a),this.api=t,this.fb=e,this.injector=i,this.viewDirection=r,this.refreshLoginService=n,this.messageService=o,this.loadingIndicatorService=s,this.userInfoService=a,this.dialogRef=l,this.data=d,this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t)),this.task=d}ngOnInit(){this.createForm().then(()=>{this.form.patchValue({taskId:this.task.taskId,percentage:this.task.percentage})})}createForm(){return new Promise(t=>{this.form=this.fb.group({taskId:new a.g(0),description:new a.g("",a.G.required),percentage:new a.g(0,a.G.required),email:new a.g(this.loggedInUser.email,a.G.required)}),t(!0)})}submit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.form.disable(),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.taskStop(this.form.value).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===t.result?(this.messageService.showMessage(t.message),this.dialogRef.close(!0)):this.form.enable()},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.form.enable(),this.refreshLoginService.openLoginDialog(t)}))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(u.a),h.Qb(a.f),h.Qb(h.s),h.Qb(v.a),h.Qb(b.a),h.Qb(f.a),h.Qb(g.a),h.Qb(p.a),h.Qb(d.h),h.Qb(d.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-stop"]],features:[h.zb],decls:1,vars:1,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99 overflow-hide",3,"dir",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99","overflow-hide",3,"dir"],[1,"full-height",3,"formGroup","submit"],[1,"full-width"],[1,"margin-b-full","font-full-em","text-weight-500"],[1,"row","margin-b-full"],[1,"col-md-12"],[1,"text-orange-700"],[1,"row"],[1,"col-md-12","no-padding-r-l"],[1,"font-9-em","pos-abs","top-half","right-full",3,"ngClass"],["formControlName","percentage","tabIndex","1","tabindex","3",1,"full-width","no-padding-r-l","pos-rel","top-half",3,"disabled","max","min","step","thumbLabel","tickInterval"],[1,"full-width","height-110","font-9-em"],["formControlName","description","matInput","","required","","tabindex","2",3,"placeholder"],[4,"ngIf"],[1,"height-30","full-width","display-flex","justify-content-end"],["mat-raised-button","","tabindex","3","type","submit",1,"green-gradient","float-left","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&h.Hc(0,Bt,38,31,"div",0),2&t&&h.oc("ngIf",e.form)},directives:[r.t,y.b,a.I,a.t,a.k,r.q,A.a,a.s,a.i,k.c,k.g,a.c,w.b,a.D,I.b,T.a,k.b],pipes:[o.d],styles:[""]}),t})();var Ft=i("8Tul"),Et=i("AytR"),Nt=i("tk/3");let Ot=(()=>{class t{constructor(t){this.http=t,this.accessToken="",this.API_URL=Et.a.CONTAINER_URL+"/project",this.headers={headers:new Nt.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}getTodoList(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(`${this.API_URL}/todo/?taskId=${t}`,this.headers)}createTodo(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/todo/add",t,this.headers)}updateTodo(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/todo",t,this.headers)}deleteTodo(t){return this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.delete(`${this.API_URL}/todo/?todoId=${t.todoId}&taskId=${t.taskId}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(h.ac(Nt.a))},t.\u0275prov=h.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Mt=i("7RJT");let Rt=(()=>{class t{constructor(){this._doRefresh=!1,this.doRefresh=new Mt.BehaviorSubject(this._doRefresh),this.currentDoRefresh=this.doRefresh.asObservable()}changeCurrentDoRefresh(t){this.doRefresh.next(t),t&&setTimeout(()=>this.changeCurrentDoRefresh(!1),500)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zt=i("MutI"),Qt=i("K3ar");const Pt=function(t){return{"text-line-through":t}};function Ht(t,e){if(1&t){const t=h.Xb();h.Wb(0,"mat-list-item",15),h.ec("click",(function(){h.zc(t);const i=e.$implicit;return h.ic(2).checkTodo(i)})),h.Wb(1,"mat-icon",16),h.Jc(2),h.Vb(),h.Wb(3,"div",17),h.Jc(4),h.Vb(),h.Wb(5,"div",18),h.Jc(6),h.jc(7,"jalali"),h.Vb(),h.Wb(8,"button",19),h.ec("click",(function(i){h.zc(t);const r=e.$implicit,n=h.ic(2);return i.stopPropagation(),n.updateTodo(r)})),h.Wb(9,"mat-icon",20),h.Jc(10,"edit "),h.Vb(),h.Vb(),h.Wb(11,"button",21),h.ec("click",(function(i){h.zc(t);const r=e.$implicit,n=h.ic(2);return i.stopPropagation(),n.deleteTodo(r)})),h.Wb(12,"mat-icon",22),h.Jc(13,"close"),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,i=h.ic(2);h.oc("ngClass",t.isChecked?"text-green-200":"text-gray-700"),h.Cb(2),h.Lc(" ",t.isChecked?"check_circle_outline":"radio_button_unchecked"," "),h.Cb(1),h.oc("ngClass",h.rc(9,Pt,t.isChecked)),h.Cb(1),h.Kc(t.text),h.Cb(2),h.Kc(h.lc(7,6,t.creationDate,i.rtlDirection)),h.Cb(2),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half")}}function Gt(t,e){if(1&t&&(h.Wb(0,"div",12),h.Wb(1,"mat-list",13),h.Hc(2,Ht,14,11,"mat-list-item",14),h.Vb(),h.Vb()),2&t){const t=h.ic();h.Cb(2),h.oc("ngForOf",t.todoList)}}function Jt(t,e){1&t&&(h.Wb(0,"div",23),h.Wb(1,"div",24),h.hc(),h.Wb(2,"svg",25),h.Wb(3,"rect",26),h.Rb(4,"animate",27),h.Rb(5,"animate",28),h.Vb(),h.Wb(6,"rect",29),h.Rb(7,"animate",30),h.Rb(8,"animate",31),h.Vb(),h.Wb(9,"rect",32),h.Rb(10,"animate",33),h.Rb(11,"animate",34),h.Vb(),h.Vb(),h.gc(),h.Wb(12,"span",35),h.Jc(13),h.jc(14,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Cb(13),h.Kc(h.kc(14,1,"global.loading")))}let Ut=(()=>{class t{constructor(t,e,i,r,n,o,s,a,l){this.dialog=t,this.fb=e,this.api=i,this.messageService=r,this.translateService=n,this.refreshLoginService=o,this.refreshBoardService=s,this.windowManagerService=a,this.loadingIndicatorService=l,this.taskId=0,this.edit=!1,this.loadingIndicator={status:!1,serviceName:"todo"},this.todoList=[],this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t))}ngOnInit(){this.createForm(),this.getTodoList()}createForm(){this.form=this.fb.group({todo:this.fb.group({todoId:[0],taskId:[0],email:[""],isChecked:[0],text:[""],creationDate:[""]})})}getTodoList(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable(),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getTodoList(this.taskId).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===t.result&&(this.todoList=t.contents,this.form.enable(),this.sortTodo())},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),this.refreshLoginService.openLoginDialog(t)}))}checkTodo(t){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();const e=Object.assign(Object.assign({},t),{isChecked:t.isChecked?0:1});this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.updateTodo(e).subscribe(t=>{if(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===t.result){const e=t.content;this.todoList=this.todoList.map(t=>(t.todoId===e.todoId&&(t=Object.assign({},e)),t)),this.form.enable(),this.sortTodo()}this.messageService.showMessage(t.message)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),this.refreshLoginService.openLoginDialog(t)}))}updateTodo(t){this.edit=!0,this.form.get("todo").setValue(t)}deleteTodo(t){this.form.disable();const e={todoId:t.todoId,taskId:this.taskId},i=this.dialog.open(Ft.a,{data:{title:this.getTranslate("tasks.task_detail.delete_title"),message:this.getTranslate("tasks.task_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(i.id),this._subscription.add(i.afterClosed().subscribe(i=>{i&&(this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.deleteTodo(e).subscribe(e=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===e.result&&(this.todoList=this.todoList.filter(e=>e.todoId!==t.todoId),this.form.enable()),this.messageService.showMessage(e.message)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),this.refreshLoginService.openLoginDialog(t)})))}))}addTodo(){if(""!==this.form.get("todo").value.text){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();const t={taskId:this.taskId,email:this.loggedInUser.email,isChecked:0,text:this.form.get("todo").value.text};this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.createTodo(t).subscribe(t=>{if(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===t.result){this.todoList.push(t.content);const e=this.form.get("todo").value;this.form.get("todo").setValue(Object.assign(Object.assign({},e),{text:""})),this.form.enable(),this.sortTodo()}this.messageService.showMessage(t.message)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),this.refreshLoginService.openLoginDialog(t)}))}}saveTodo(){if(""!==this.form.get("todo").value.text){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"todo"}),this.form.disable();const t={todoId:this.form.get("todo").value.todoId,taskId:this.taskId,email:this.loggedInUser.email,isChecked:this.form.get("todo").value.isChecked,text:this.form.get("todo").value.text};this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.updateTodo(t).subscribe(t=>{if(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),1===t.result){const e=t.content;this.todoList=this.todoList.map(t=>(t.todoId===e.todoId&&(t=Object.assign({},e)),t));const i=this.form.get("todo").value;this.form.get("todo").setValue(Object.assign(Object.assign({},i),{text:""})),this.edit=!1,this.form.enable(),this.sortTodo()}this.messageService.showMessage(t.message)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"todo"}),this.refreshLoginService.openLoginDialog(t)}))}}sortTodo(){this.todoList.sort((t,e)=>{const i=t.isChecked,r=e.isChecked;let n=0;return i>r?n=1:i<r&&(n=-1),n})}getTranslate(t){return this.translateService.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(a.f),h.Qb(Ot),h.Qb(f.a),h.Qb(o.e),h.Qb(b.a),h.Qb(Rt),h.Qb(kt.a),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-todo"]],inputs:{taskId:"taskId",rtlDirection:"rtlDirection",loginData:"loginData",loggedInUser:"loggedInUser"},decls:19,vars:16,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"margin-b-full","text-gray-800","font-full-em","text-weight-500","no-margin","height-45","padding-full"],[1,"text-gray-500","font-7-em","text-italic",3,"ngClass"],[1,"todo-content-container","padding-full","padding-b-half"],[1,"full-height",3,"formGroup"],["class","todo-list-container padding-b-full overflow-y-auto overflow-x-hide",4,"ngIf"],[1,"enter-todo-container","margin-t-full"],["formGroupName","todo"],["appearance","outline","color","primary",1,"full-width","height-45","font-9-em"],["formControlName","text","matInput","","name","inputValue",3,"placeholder","keydown"],["mat-raised-button","","matSuffix","","type","button",3,"disabled","click"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"todo-list-container","padding-b-full","overflow-y-auto","overflow-x-hide"],[1,"no-padding"],["class","height-auto cursor-pointer border-bottom",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"height-auto","cursor-pointer","border-bottom",3,"ngClass","click"],["mat-list-icon","",1,"no-padding"],["mat-line","",1,"no-text-eclipse","font-8-em","height-auto","padding-mini-t-b",3,"ngClass"],["mat-line","",1,"text-italic","font-7-em"],["type","button",1,"display-block","cursor-pointer","width-18","height-18","text-center","no-padding","no-border","no-bg",3,"ngClass","click"],[1,"no-padding","width-18","height-18","line-height-15","font-full-rem","text-green-600"],["type","button",1,"display-block","cursor-pointer","width-18","height-18","text-center","no-padding","no-border","no-bg",3,"click"],[1,"no-padding","width-18","height-18","line-height-15","font-full-rem","text-red-600"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"h1",1),h.Jc(2),h.jc(3,"translate"),h.Wb(4,"span",2),h.Jc(5),h.jc(6,"translate"),h.Vb(),h.Vb(),h.Wb(7,"div",3),h.Wb(8,"form",4),h.Hc(9,Gt,3,1,"div",5),h.Wb(10,"div",6),h.Wb(11,"div",7),h.Wb(12,"mat-form-field",8),h.Wb(13,"input",9),h.ec("keydown",(function(t){return"Enter"===t.code?e.edit?e.saveTodo():e.addTodo():""})),h.jc(14,"translate"),h.Vb(),h.Wb(15,"button",10),h.ec("click",(function(){return e.edit?e.saveTodo():e.addTodo()})),h.Wb(16,"mat-icon"),h.Jc(17,"check"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Hc(18,Jt,15,3,"div",11),h.Vb()),2&t&&(h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(2),h.Lc(" ",h.kc(3,10,"tasks.task_todo.todo_list")," "),h.Cb(2),h.oc("ngClass",e.rtlDirection?"margin-r-half":"margin-l-half"),h.Cb(1),h.Mc(" ",e.todoList.length?e.todoList.length:""," ",h.kc(6,12,e.todoList.length?"global.items":"")," "),h.Cb(3),h.oc("formGroup",e.form),h.Cb(1),h.oc("ngIf",e.todoList.length),h.Cb(4),h.pc("placeholder",h.kc(14,14,"tasks.task_todo.add_an_item")),h.Cb(2),h.oc("disabled",""===e.form.get("todo").value.text),h.Cb(3),h.oc("ngIf",e.loadingIndicator.status&&"todo"===e.loadingIndicator.serviceName))},directives:[y.b,r.q,a.I,a.t,a.k,r.t,a.l,k.c,a.c,w.b,a.s,a.i,I.b,k.j,T.a,zt.a,r.s,zt.d,zt.c,D.k],pipes:[o.d,Qt.a],styles:[".todo-content-container[_ngcontent-%COMP%]{height:calc(100% - 60px)}.text-line-through[_ngcontent-%COMP%]{text-decoration:line-through}.todo-list-container[_ngcontent-%COMP%]{max-height:calc(100% - 45px - 1em)}.border-bottom[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}"]}),t})();var qt=i("IvIE"),Kt=i("mrSG"),Xt=i("5+WD"),Yt=i("jaxi"),$t=i("Qu3c"),Zt=i("M9IT"),te=i("+0xr");let ee=(()=>{class t{constructor(t,e,i,r,n){this.data=t,this.windowManagerService=e,this.dialog=i,this.dialogRef=r,this.viewDirection=n,this.taskId=0,this.cancel=new h.o,this.usersList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnInit(){this.taskDescription=this.data.description,this.NameDescription=this.data.task.taskName,this.taskPercentage=this.data.task.percentage,this.DateStop=this.data.task.taskDateStop}close(){this.dialogRef.close()}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.a),h.Qb(kt.a),h.Qb(d.b),h.Qb(d.h),h.Qb(v.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-description"]],viewQuery:function(t,e){var i;1&t&&h.Fc(Zt.a,!0),2&t&&h.uc(i=h.fc())&&(e.paginator=i.first)},inputs:{rtlDirection:"rtlDirection",loginData:"loginData",taskId:"taskId",editable:"editable",usersList:"usersList"},outputs:{cancel:"cancel"},decls:24,vars:20,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99"],[1,"full-height",3,"dir"],[1,"height-45","overflow-x-hide","overflow-y-auto","full-width"],[1,"margin-b-full","font-full-em","text-pink-600","text-weight-500","margin-b-half",3,"ngClass"],[1,"pos-abs","top-full","cursor-pointer","text-gray-600",3,"ngClass","click"],[1,"text-grey-500"],[1,"height-full-minus-90"],[1,"half-width","display-block","text-gray-600","font-7-em","margin-b-full","display-flex",3,"ngClass"],[1,"width-18","height-18","font-full-plus-three-tenth-em","line-height-20"],[1,"half-width","display-block","text-gray-600","font-7-em","margin-b-full",3,"ngClass"],[3,"ngClass"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal","full-width",3,"ngClass","click"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"div",1),h.Wb(2,"div",2),h.Wb(3,"h1",3),h.Jc(4),h.Vb(),h.Wb(5,"a",4),h.ec("click",(function(){return e.close()})),h.Wb(6,"mat-icon",5),h.Jc(7,"close"),h.Vb(),h.Vb(),h.Vb(),h.Wb(8,"div",6),h.Wb(9,"span",7),h.Wb(10,"mat-icon",8),h.Jc(11,"access_alarm"),h.Vb(),h.Jc(12),h.jc(13,"jalali"),h.Vb(),h.Wb(14,"span",9),h.Jc(15),h.jc(16,"translate"),h.Vb(),h.Wb(17,"p",10),h.Jc(18),h.Vb(),h.Vb(),h.Wb(19,"div",11),h.Wb(20,"button",12),h.ec("click",(function(){return e.close()})),h.Wb(21,"span",13),h.Jc(22),h.jc(23,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Cb(1),h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(2),h.oc("ngClass",e.rtlDirection?"text-right":"text-left"),h.Cb(1),h.Lc(" ",e.NameDescription," "),h.Cb(1),h.oc("ngClass",e.rtlDirection?"left-full ":"right-full"),h.Cb(4),h.oc("ngClass",e.rtlDirection?"text-right float-right":"text-left float-left"),h.Cb(3),h.Lc(": ",h.lc(13,13,e.DateStop,e.rtlDirection)," "),h.Cb(2),h.oc("ngClass",e.rtlDirection?"text-right float-right":"text-left float-left"),h.Cb(1),h.Mc("",h.kc(16,16,"tasks.boards.task_percentage")," : ",e.taskPercentage,"% "),h.Cb(2),h.oc("ngClass",e.rtlDirection?"text-right":"text-left"),h.Cb(1),h.Kc(e.taskDescription),h.Cb(2),h.oc("ngClass",e.rtlDirection?"text-left":"text-right"),h.Cb(2),h.Kc(h.kc(23,18,"global.dismiss")))},directives:[y.b,r.q,T.a],pipes:[Qt.a,o.d],encapsulation:2}),t})();function ie(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.form.start_at")))}function re(t,e){if(1&t&&(h.Wb(0,"td",16),h.Wb(1,"span",17),h.Jc(2),h.jc(3,"jalali"),h.Vb(),h.Vb()),2&t){const t=e.$implicit,i=h.ic();h.Cb(2),h.Kc(h.lc(3,1,t.taskDateStart,i.rtlDirection))}}function ne(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.form.stop_at")))}function oe(t,e){if(1&t&&(h.Wb(0,"td",16),h.Wb(1,"span",17),h.Jc(2),h.jc(3,"jalali"),h.Vb(),h.Vb()),2&t){const t=e.$implicit,i=h.ic();h.Cb(2),h.Kc(h.lc(3,1,t.taskDateStop,i.rtlDirection))}}function se(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.form.task_admin_start")))}function ae(t,e){if(1&t&&(h.Wb(0,"td",16),h.Wb(1,"span",17),h.Jc(2),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.Cb(2),h.Kc(t.adminIdStartTask)}}function ce(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.form.task_admin_stop")))}function le(t,e){if(1&t&&(h.Wb(0,"td",16),h.Wb(1,"span",17),h.Jc(2),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.Cb(2),h.Kc(t.adminIdStopTask)}}function de(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.boards.task_percentage")))}function he(t,e){if(1&t&&(h.Wb(0,"td",16),h.Wb(1,"span",17),h.Jc(2),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.Cb(2),h.Lc("",t.percentage,"%")}}function ue(t,e){1&t&&(h.Wb(0,"th",15),h.Jc(1),h.jc(2,"translate"),h.Vb()),2&t&&(h.Cb(1),h.Kc(h.kc(2,1,"tasks.form.task_description")))}function fe(t,e){1&t&&(h.Wb(0,"span"),h.Wb(1,"a",20),h.Jc(2),h.Vb(),h.Vb()),2&t&&(h.Cb(2),h.Lc(" ","-"," "))}function pe(t,e){if(1&t){const t=h.Xb();h.Wb(0,"a",21),h.ec("click",(function(){h.zc(t);const e=h.ic().$implicit;return h.ic().descriptionTask(e.description)})),h.Wb(1,"span",22),h.Jc(2),h.jc(3,"translate"),h.Vb(),h.Vb()}2&t&&(h.Cb(2),h.Kc(h.kc(3,1,"tasks.task_detail.overview_description")))}function be(t,e){if(1&t&&(h.Wb(0,"td",16),h.Hc(1,fe,3,1,"span",18),h.Hc(2,pe,4,3,"a",19),h.Vb()),2&t){const t=e.$implicit;h.Cb(1),h.oc("ngIf",!t.description.length),h.Cb(1),h.oc("ngIf",t.description.length)}}function ge(t,e){1&t&&h.Rb(0,"tr",23)}function me(t,e){1&t&&h.Rb(0,"tr",24)}function ve(t,e){1&t&&(h.Wb(0,"div",25),h.Wb(1,"div",26),h.hc(),h.Wb(2,"svg",27),h.Wb(3,"rect",28),h.Rb(4,"animate",29),h.Rb(5,"animate",30),h.Vb(),h.Wb(6,"rect",31),h.Rb(7,"animate",32),h.Rb(8,"animate",33),h.Vb(),h.Wb(9,"rect",34),h.Rb(10,"animate",35),h.Rb(11,"animate",36),h.Vb(),h.Vb(),h.gc(),h.Wb(12,"span",37),h.Jc(13),h.jc(14,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Cb(13),h.Kc(h.kc(14,1,"global.loading")))}let ye=(()=>{class t{constructor(t,e,i,r,n,o,s){this.api=t,this.dialog=e,this.translate=i,this.refreshLoginService=r,this.loadingIndicatorService=n,this.windowManagerService=o,this.matPaginatorIntl=s,this.usersList=[],this.taskReports=[],this.displayedColumns=["taskDateStart","taskDateStop","adminIdStartTask","adminIdStopTask","percentage","description"],this.pageLimit=[10,25,50,100],this.dataSource=new te.o(this.taskReports),this.loadingIndicator={status:!1,serviceName:"project-report-report"},this.dataChange=!1,this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t))}ngOnInit(){this.getTaskReport(),this.matPaginatorIntl.itemsPerPageLabel=this.getTranslate("global.pagination.item_per_page"),this.matPaginatorIntl.getRangeLabel=(t,e,i)=>{if(0===i||0===e)return`0 ${this.getTranslate("global.pagination.from")} ${i}`;const r=t*e;return`${r+1} - ${r<(i=Math.max(i,0))?Math.min(r+e,i):r+e} ${this.getTranslate("global.pagination.from")} ${i}`}}getTaskReport(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project-report"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getTaskReport(this.task.taskId).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-report"}),1===t.result&&(this.taskReports=t.contents,this.taskReports.map(t=>{if(t.adminIdStartTask){const e=this.usersList.filter(e=>e.adminId===t.adminIdStartTask).pop();t.adminIdStartTask=e?`${e.name} ${e.family}`:"-"}if(t.adminIdStopTask){const e=this.usersList.filter(e=>e.adminId===t.adminIdStopTask).pop();t.adminIdStopTask=e?`${e.name} ${e.family}`:"-"}}),this.dataSource=new te.o(this.taskReports),this.dataSource.paginator=this.paginator)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-report"}),this.refreshLoginService.openLoginDialog(t)}))}getTranslate(t){return this.translate.instant(t)}descriptionTask(t){const e=this.dialog.open(ee,{data:{task:this.task,description:t},autoFocus:!1,width:"500px",height:"250px"});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe(t=>{t&&(this.dataChange=!0,setTimeout(()=>{this.dataChange=!1},500))}))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(u.a),h.Qb(d.b),h.Qb(o.e),h.Qb(b.a),h.Qb(g.a),h.Qb(kt.a),h.Qb(Zt.b))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-report"]],viewQuery:function(t,e){var i;1&t&&h.Fc(Zt.a,!0),2&t&&h.uc(i=h.fc())&&(e.paginator=i.first)},inputs:{rtlDirection:"rtlDirection",loginData:"loginData",task:"task",usersList:"usersList"},decls:25,vars:6,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"full-width","full-height","overflow-y-auto","overflow-x-hide"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","taskDateStart"],["class","font-7-em","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","taskDateStop"],["matColumnDef","adminIdStartTask"],["matColumnDef","adminIdStopTask"],["matColumnDef","percentage"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"full-width",3,"pageSizeOptions"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],["mat-header-cell","",1,"font-7-em"],["mat-cell",""],[1,"font-7-em","display-block","width-60"],[4,"ngIf"],["class","padding-mini-r-l  line-height-30 font-9-em overflow-hide text-weight-normal no-box-shadow cursor-pointer",3,"click",4,"ngIf"],[1,"font-7-em","display-block"],[1,"padding-mini-r-l","line-height-30","font-9-em","overflow-hide","text-weight-normal","no-box-shadow","cursor-pointer",3,"click"],[1,"padding-mini-r-l","text-blue"],["mat-header-row",""],["mat-row",""],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"div",1),h.Wb(2,"table",2),h.Ub(3,3),h.Hc(4,ie,3,3,"th",4),h.Hc(5,re,4,4,"td",5),h.Tb(),h.Ub(6,6),h.Hc(7,ne,3,3,"th",4),h.Hc(8,oe,4,4,"td",5),h.Tb(),h.Ub(9,7),h.Hc(10,se,3,3,"th",4),h.Hc(11,ae,3,1,"td",5),h.Tb(),h.Ub(12,8),h.Hc(13,ce,3,3,"th",4),h.Hc(14,le,3,1,"td",5),h.Tb(),h.Ub(15,9),h.Hc(16,de,3,3,"th",4),h.Hc(17,he,3,1,"td",5),h.Tb(),h.Ub(18,10),h.Hc(19,ue,3,3,"th",4),h.Hc(20,be,3,2,"td",5),h.Tb(),h.Hc(21,ge,1,0,"tr",11),h.Hc(22,me,1,0,"tr",12),h.Vb(),h.Rb(23,"mat-paginator",13),h.Vb(),h.Hc(24,ve,15,3,"div",14),h.Vb()),2&t&&(h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(2),h.oc("dataSource",e.dataSource),h.Cb(19),h.oc("matHeaderRowDef",e.displayedColumns),h.Cb(1),h.oc("matRowDefColumns",e.displayedColumns),h.Cb(1),h.oc("pageSizeOptions",e.pageLimit),h.Cb(1),h.oc("ngIf",e.loadingIndicator.status&&"project-report"===e.loadingIndicator.serviceName))},directives:[y.b,te.n,te.c,te.i,te.b,te.k,te.m,Zt.a,r.t,te.h,te.a,te.j,te.l],pipes:[o.d,Qt.a],encapsulation:2}),t})();function ke(t,e){if(1&t&&(h.Wb(0,"mat-list-item",9),h.Wb(1,"mat-icon",10),h.Jc(2),h.Vb(),h.Wb(3,"div",11),h.Jc(4),h.Vb(),h.Wb(5,"div",12),h.Jc(6),h.jc(7,"jalali"),h.Vb(),h.Vb()),2&t){const t=e.$implicit,i=h.ic(2);h.Cb(2),h.Lc(" ",t.activityIcon," "),h.Cb(2),h.Kc(t.commentText),h.Cb(2),h.Kc(h.lc(7,3,t.creationDate,i.rtlDirection))}}function we(t,e){if(1&t&&(h.Wb(0,"mat-list",7),h.Hc(1,ke,8,6,"mat-list-item",8),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("ngForOf",t.activityList)}}function Ce(t,e){1&t&&(h.Wb(0,"div",13),h.Wb(1,"div",14),h.hc(),h.Wb(2,"svg",15),h.Wb(3,"rect",16),h.Rb(4,"animate",17),h.Rb(5,"animate",18),h.Vb(),h.Wb(6,"rect",19),h.Rb(7,"animate",20),h.Rb(8,"animate",21),h.Vb(),h.Wb(9,"rect",22),h.Rb(10,"animate",23),h.Rb(11,"animate",24),h.Vb(),h.Vb(),h.gc(),h.Wb(12,"span",25),h.Jc(13),h.jc(14,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Cb(13),h.Kc(h.kc(14,1,"global.loading")))}let Ae=(()=>{class t{constructor(t,e,i,r){this.api=t,this.refreshLoginService=e,this.loadingIndicatorService=i,this.translate=r,this.activityList=[],this.loadingIndicator={status:!1,serviceName:"project-activity"},this.single=[],this.gradient=!1,this.showLegend=!1,this.showLabels=!0,this.isDoughnut=!1,this.colorScheme={domain:["#4caf50","#b71c1c"]},this._subscription=new c.Subscription,this._subscription.add(this.loadingIndicatorService.currentLoadingStatus.subscribe(t=>this.loadingIndicator=t))}ngAfterViewInit(){this.getActivities().then(t=>{setTimeout(()=>this.activityList=t),this.single=[{name:this.getTranslate("tasks.activity.completed"),value:this.task.percentage},{name:this.getTranslate("tasks.activity.not_completed"),value:100-this.task.percentage}]})}getActivities(){return new Promise(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project-activity"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getActivities(this.task.taskId).subscribe(e=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-activity"}),1===e.result&&t(e.contents)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project-activity"}),this.refreshLoginService.openLoginDialog(t)}))})}getTranslate(t){return this.translate.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(u.a),h.Qb(b.a),h.Qb(g.a),h.Qb(o.e))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-activity"]],inputs:{task:"task",rtlDirection:"rtlDirection",loginData:"loginData"},decls:12,vars:17,consts:[[1,"pos-abs","left-0","right-0","top-0","bottom-0","full-width","full-height",3,"dir"],[1,"margin-b-full","padding-r-l","full-width","text-gray-800","font-full-em","text-weight-500","no-margin","height-35",3,"ngClass"],["dir","ltr",1,"full-width","padding-b-full-2","height-200"],[3,"doughnut","gradient","labels","legend","results","scheme"],[1,"activity-content-container","padding-r-l","overflow-y-auto","overflow-x-hide"],["class","no-padding",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"no-padding"],["class","height-30 no-padding cursor-pointer margin-b-half",4,"ngFor","ngForOf"],[1,"height-30","no-padding","cursor-pointer","margin-b-half"],["mat-list-icon","",1,"no-padding","width-15","height-15","font-8-rem","text-center","line-height-15"],["mat-line","",1,"text-gray-600","font-8-rem"],["mat-line","",1,"text-italic","font-7-em"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"h1",1),h.Jc(2),h.jc(3,"translate"),h.Vb(),h.Wb(4,"div",2),h.Rb(5,"ngx-charts-pie-chart",3),h.Vb(),h.Wb(6,"h1",1),h.Jc(7),h.jc(8,"translate"),h.Vb(),h.Wb(9,"div",4),h.Hc(10,we,2,1,"mat-list",5),h.Vb(),h.Hc(11,Ce,15,3,"div",6),h.Vb()),2&t&&(h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(1),h.oc("ngClass",e.rtlDirection?"text-right":"text-left"),h.Cb(1),h.Lc(" ",h.kc(3,13,"tasks.activity.task_completion_percentage")," "),h.Cb(3),h.oc("doughnut",e.isDoughnut)("gradient",e.gradient)("labels",e.showLabels)("legend",e.showLegend)("results",e.single)("scheme",e.colorScheme),h.Cb(1),h.oc("ngClass",e.rtlDirection?"text-right":"text-left"),h.Cb(1),h.Lc(" ",h.kc(8,15,"tasks.activity.activity_list")," "),h.Cb(3),h.oc("ngIf",e.activityList.length),h.Cb(1),h.oc("ngIf",e.loadingIndicator.status&&"project-activity"===e.loadingIndicator.serviceName))},directives:[y.b,r.q,s.S,r.t,zt.a,r.s,zt.d,T.a,zt.c,D.k],pipes:[o.d,Qt.a],styles:[".activity-content-container[_ngcontent-%COMP%]{height:calc(100% - 270px)}"]}),t})();function xe(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",16),h.ec("click",(function(){return h.zc(t),h.ic(2).deleteTask()})),h.jc(1,"translate"),h.Wb(2,"mat-icon",11),h.Jc(3,"delete"),h.Vb(),h.Vb()}2&t&&h.pc("matTooltip",h.kc(1,1,"tasks.task_detail.delete_title"))}function Se(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",17),h.ec("click",(function(){return h.zc(t),h.ic(2).editableForm()})),h.Wb(1,"mat-icon",11),h.Jc(2,"edit"),h.Vb(),h.Vb()}}function De(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",18),h.Wb(1,"div",19),h.Wb(2,"app-task-form",20),h.ec("cancel",(function(e){return h.zc(t),h.ic(2).cancelBtn(e)}))("formOutput",(function(e){return h.zc(t),h.ic(2).updateForm(e)})),h.Vb(),h.Vb(),h.Wb(3,"div",21),h.Rb(4,"app-task-todo",22),h.Vb(),h.Vb()}if(2&t){const t=h.ic(2);h.Cb(1),h.oc("ngClass",t.rtlDirection?"float-right":"float-left"),h.Cb(1),h.oc("data",t.data)("editable",t.editable)("form",t.form),h.Cb(1),h.oc("ngClass",t.rtlDirection?"float-left":"float-right"),h.Cb(1),h.oc("loggedInUser",t.loggedInUser)("loginData",t.loginData)("rtlDirection",t.rtlDirection)("taskId",t.task.taskId)}}function Ie(t,e){if(1&t&&(h.Wb(0,"div",18),h.Wb(1,"div",24),h.Rb(2,"app-task-report",25),h.Vb(),h.Wb(3,"div",26),h.Rb(4,"app-task-activity",27),h.Vb(),h.Vb()),2&t){const t=h.ic(3);h.Cb(1),h.oc("ngClass",t.rtlDirection?" float-right":" float-left"),h.Cb(1),h.oc("loginData",t.loginData)("rtlDirection",t.rtlDirection)("task",t.task)("usersList",t.usersList),h.Cb(1),h.oc("ngClass",t.rtlDirection?" float-left":" float-right"),h.Cb(1),h.oc("loginData",t.loginData)("rtlDirection",t.rtlDirection)("task",t.task)}}function Te(t,e){if(1&t&&h.Hc(0,Ie,5,9,"div",23),2&t){const t=h.ic(2);h.oc("ngIf",t.task)}}const Ve=function(t){return{"view-mode":t}};function _e(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",1),h.Wb(1,"div",2),h.Wb(2,"h1",3),h.Wb(3,"span",4),h.Jc(4),h.Vb(),h.Jc(5),h.Vb(),h.Wb(6,"div",5),h.Wb(7,"mat-button-toggle-group",6,7),h.ec("change",(function(){h.zc(t);const e=h.vc(8);return h.ic().changeViewMode(e.value)})),h.Wb(9,"mat-button-toggle",8),h.Wb(10,"span"),h.Jc(11),h.jc(12,"translate"),h.Vb(),h.Vb(),h.Wb(13,"mat-button-toggle",8),h.Wb(14,"span"),h.Jc(15),h.jc(16,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(17,"div",9),h.Wb(18,"button",10),h.ec("click",(function(){return h.zc(t),h.ic().cancelBtn(!0)})),h.Wb(19,"mat-icon",11),h.Jc(20,"close"),h.Vb(),h.Vb(),h.Hc(21,xe,4,3,"button",12),h.Hc(22,Se,3,0,"button",13),h.Vb(),h.Vb(),h.Hc(23,De,5,9,"div",14),h.Hc(24,Te,1,1,"ng-template",null,15,h.Ic),h.Vb()}if(2&t){const t=h.vc(8),e=h.vc(25),i=h.ic();h.oc("dir",i.rtlDirection?"rtl":"ltr"),h.Cb(4),h.Lc("#",i.task.taskId,""),h.Cb(1),h.Lc(" ",i.task.taskName," "),h.Cb(2),h.oc("ngClass",h.rc(17,Ve,t))("value",i.viewModeTypes),h.Cb(2),h.oc("value","info"),h.Cb(2),h.Kc(h.kc(12,13,"tasks.task_detail.overview")),h.Cb(2),h.oc("value","report"),h.Cb(2),h.Kc(h.kc(16,15,"tasks.task_detail.reports")),h.Cb(6),h.oc("ngIf","info"===i.viewModeTypes),h.Cb(1),h.oc("ngIf","info"===i.viewModeTypes),h.Cb(1),h.oc("ngIf","info"===i.viewModeTypes)("ngIfElse",e)}}let je=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a,l,d,h,u){super(r,o),this.dialog=t,this.fb=e,this.api=i,this.injector=r,this.messageService=n,this.userInfoService=o,this.translateService=s,this.viewDirection=a,this.refreshLoginService=l,this.refreshBoardService=d,this.windowManagerService=h,this.loadingIndicatorService=u,this.editable=!1,this.task=null,this.projectsList=[],this.usersList=[],this.viewModeTypes="info",this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnInit(){this.data=this.bottomSheetData.data,this.usersList=this.data.usersList,this.projectsList=this.data.projectsList,this.task=this.data.task}ngAfterViewInit(){this.createForm().then(()=>{"detail"===this.data.action&&this.formPatchValue()})}createForm(){return new Promise(t=>{this.form=this.fb.group({taskId:new a.g(0),taskName:new a.g("",a.G.required),percentage:new a.g(0,a.G.required),assignTo:new a.g({adminId:0},a.G.required),email:new a.g("0"),taskDurationHours:new a.g(0,[a.G.required,a.G.pattern("^[0-9]+")]),taskDurationMinutes:new a.g(0,a.G.required),startAt:new a.g("",a.G.required),stopAt:new a.g("",a.G.required),startTime:new a.g("",a.G.required),stopTime:new a.g("",a.G.required),project:new a.g({},a.G.required),taskDesc:new a.g(""),boardStatus:new a.g("",a.G.required),taskDateStart:"0000-00-00 00:00:00",taskDateStop:"0000-00-00 00:00:00",status:new a.g(0),assigner:new a.g(this.loggedInUser.email,a.G.required),trackable:new a.g(0)}),t()})}updateForm(t){this.form=t,this.submit()}cancelBtn(t){this.form.disable(),t&&("detail"===this.data.action&&this.editable?this.formPatchValue():this.bottomSheetData.bottomSheetRef.close())}onKeydownHandler(){this.bottomSheetData.bottomSheetRef.close()}formPatchValue(){this.form.disable(),this.editable=!1;const t=this.task.startAt.split(" "),e=this.task.stopAt.split(" "),i=t[1].split(":"),r=e[1].split(":"),n=i[0]+":"+i[1],o=r[0]+":"+r[1],s=this.projectsList.filter(t=>t.projectId===this.task.project.projectId).pop(),a=this.usersList.filter(t=>t.email===this.task.assignTo.email).pop();this.form.patchValue({taskId:this.task.taskId,taskName:this.task.taskName,percentage:this.task.percentage,assignTo:a,taskDurationHours:this.task.taskDurationHours,taskDurationMinutes:this.task.taskDurationMinutes,startAt:t[0],startTime:n,stopAt:e[0],stopTime:o,project:s,taskDesc:this.task.taskDesc,email:a.email,boardStatus:this.data.boardStatus,taskDateStart:this.task.taskDateStart,taskDateStop:this.task.taskDateStop,assigner:this.task.assigner,status:this.task.status,trackable:this.task.trackable})}editableForm(){this.editable=!this.editable,this.editable?this.form.enable():this.form.disable()}deleteTask(){const t=this.dialog.open(Ft.a,{data:{title:this.getTranslate("tasks.task_detail.delete_title"),message:this.getTranslate("tasks.task_detail.delete_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(t.id),this._subscription.add(t.afterClosed().subscribe(t=>{t&&(this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.deleteTask(this.task).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.result?(this.bottomSheetData.bottomSheetRef.close(),this.messageService.showMessage(t.message),this.refreshBoardService.changeCurrentDoRefresh(!0)):this.messageService.showMessage(t.message)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)})))}))}submit(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"});const t=Object.assign({},this.form.value);t.startAt=t.startAt+" "+t.startTime+":00",t.stopAt=t.stopAt+" "+t.stopTime+":00",this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.form.disable(),this._subscription.add(this.api.updateTask(t).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),t.result?(this.bottomSheetData.bottomSheetRef.close(),this.messageService.showMessage(t.message),this.refreshBoardService.changeCurrentDoRefresh(!0)):this.form.enable()},t=>{this.form.enable(),this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)}))}getTranslate(t){return this.translateService.instant(t)}changeViewMode(t){this.viewModeTypes=t}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(a.f),h.Qb(u.a),h.Qb(h.s),h.Qb(f.a),h.Qb(p.a),h.Qb(o.e),h.Qb(v.a),h.Qb(b.a),h.Qb(Rt),h.Qb(kt.a),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&h.ec("keydown.escape",(function(t){return e.onKeydownHandler(t)}),!1,h.xc)},features:[h.zb],decls:1,vars:1,consts:[["class","full-page-size overflow-hide",3,"dir",4,"ngIf"],[1,"full-page-size","overflow-hide",3,"dir"],[1,"task-heading","clear-both","full-width","height-45","display-flex","flex-space-between"],[1,"no-margin","height-45","line-height-45","font-full-plus-one-tenth-em","text-eclipse","padding-r-l","text-pink-600","text-weight-500"],[1,"text-gray-700"],[1,"pos-abs","top-fourth-tenth","content-switcher"],[1,"full-width","mat-button-custom","line-height-20","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"display-flex","flex-direction-row-reverse"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-gray-600","no-padding",3,"click"],[1,"line-height-30"],["class","no-border cursor-pointer no-bg text-center width-45 height-45 text-red-400 no-padding","type","button",3,"matTooltip","click",4,"ngIf"],["class","no-border cursor-pointer no-bg text-center width-45 height-45 text-green-400 no-padding","type","button",3,"click",4,"ngIf"],["class","full-width height-full-minus-45",4,"ngIf","ngIfElse"],["reportView",""],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-red-400","no-padding",3,"matTooltip","click"],["type","button",1,"no-border","cursor-pointer","no-bg","text-center","width-45","height-45","text-green-400","no-padding",3,"click"],[1,"full-width","height-full-minus-45"],[1,"task-form-container","full-height","padding-full","overflow-hide","pos-rel",3,"ngClass"],[3,"data","editable","form","cancel","formOutput"],[1,"task-todo-container","full-height","padding-r-l","padding-mini-t-b","pos-rel",3,"ngClass"],[3,"loggedInUser","loginData","rtlDirection","taskId"],["class","full-width height-full-minus-45",4,"ngIf"],[1,"task-report-container","padding-r-l","padding-mini-t-b","full-height","pos-rel",3,"ngClass"],[3,"loginData","rtlDirection","task","usersList"],[1,"task-activity-container","full-height","padding-r-l","padding-mini-t-b","pos-rel",3,"ngClass"],[3,"loginData","rtlDirection","task"]],template:function(t,e){1&t&&h.Hc(0,_e,26,19,"div",0),2&t&&h.oc("ngIf",e.data)},directives:[r.t,y.b,Yt.b,r.q,Yt.a,T.a,$t.a,K,Ut,ye,Ae],pipes:[o.d],styles:["[_nghost-%COMP%]{width:100%;height:100%;background-color:#fff;position:absolute;left:0;top:0;bottom:0;right:0}.content-switcher[_ngcontent-%COMP%]{transform:translate(-50%);left:50%}.full-page-size[_ngcontent-%COMP%]{width:100vw;height:90vh;max-width:100%;max-height:100%}.task-heading[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1}.task-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:450px}.task-form-container[_ngcontent-%COMP%], .task-report-container[_ngcontent-%COMP%]{width:65%}.task-activity-container[_ngcontent-%COMP%], .task-todo-container[_ngcontent-%COMP%]{width:35%;background-color:#f5f5f5}.task-file-container[_ngcontent-%COMP%]{height:155px;border-top:1px solid #ddd;background-color:#eee}"]}),t})();var Le=i("gFX4");let Be=(()=>{class t{constructor(t){this.userInfoService=t,this._subscription=new c.Subscription,this._subscription.add(this.userInfoService.currentUserInfo.subscribe(t=>this.loggedInUser=t))}setupSocketConnection(t){return this.socket=Le(Et.a.SOCKET_URL,{query:{token:"cde",userEmail:this.loggedInUser.email,componentName:t}}),this.socket}}return t.\u0275fac=function(e){return new(e||t)(h.ac(p.a))},t.\u0275prov=h.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var We=i("zkoq"),Fe=i("Wp6s"),Ee=i("Xa2L");function Ne(t,e){if(1&t&&(h.Wb(0,"mat-grid-tile",4),h.Wb(1,"div",5),h.Wb(2,"span",6),h.Jc(3),h.jc(4,"translate"),h.Vb(),h.Wb(5,"span",7),h.Jc(6),h.Vb(),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.oc("colspan",t.cols)("rowspan",t.rows),h.Cb(3),h.Kc(h.kc(4,5,t.name)),h.Cb(2),h.oc("ngClass",t.id),h.Cb(1),h.Lc(" ",t.tasks.length," ")}}function Oe(t,e){if(1&t&&(h.Wb(0,"mat-grid-list",2),h.Hc(1,Ne,7,7,"mat-grid-tile",3),h.Vb()),2&t){const t=h.ic();h.oc("dir",t.rtlDirection?"rtl":"ltr"),h.Cb(1),h.oc("ngForOf",t.boards)}}function Me(t,e){if(1&t&&(h.Wb(0,"div",12),h.Rb(1,"img",13),h.Wb(2,"span",14),h.Jc(3),h.jc(4,"translate"),h.Vb(),h.Vb()),2&t){const t=h.ic().$implicit;h.Cb(1),h.oc("src","assets/board-empty-state/"+t.id+".png",h.Bc)("alt",t.id),h.Cb(2),h.Lc(" ",h.kc(4,3,"global.no_result")," ")}}const Re=function(t){return{"overdue-task":t}};function ze(t,e){if(1&t){const t=h.Xb();h.Wb(0,"mat-card",15),h.ec("click",(function(){h.zc(t);const i=e.$implicit,r=h.ic().$implicit;return h.ic(2).showTaskDetail(i,r.id)})),h.jc(1,"translate"),h.Wb(2,"mat-card-header",16),h.Wb(3,"mat-card-subtitle",17),h.Wb(4,"span",18),h.Wb(5,"mat-icon",19),h.Jc(6,"access_alarm"),h.Vb(),h.Jc(7),h.jc(8,"jalali"),h.Vb(),h.Wb(9,"span"),h.Jc(10),h.Vb(),h.Vb(),h.Wb(11,"mat-card-title",20),h.Jc(12),h.Vb(),h.Vb(),h.Wb(13,"mat-card-content",21),h.Wb(14,"mat-icon",19),h.Jc(15,"work "),h.Vb(),h.Jc(16),h.Vb(),h.Wb(17,"mat-card-footer",22),h.Rb(18,"img",23),h.Wb(19,"span",24),h.jc(20,"translate"),h.Wb(21,"span",25),h.Jc(22),h.Vb(),h.Rb(23,"mat-progress-spinner",26),h.Vb(),h.Wb(24,"span",27),h.jc(25,"translate"),h.Wb(26,"mat-icon",28),h.Jc(27," rule "),h.Vb(),h.Jc(28),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,i=h.ic(3);h.pc("matTooltip",t.overdue?h.kc(1,24,"tasks.boards.overdue"):null),h.oc("ngClass",h.rc(33,Re,t.overdue))("cdkDragData",t),h.Cb(5),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),h.Cb(2),h.Lc(" ",h.lc(8,26,t.stopAt,i.rtlDirection)," "),h.Cb(3),h.Lc(" #",t.taskId," "),h.Cb(2),h.Lc(" ",t.taskName," "),h.Cb(2),h.oc("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),h.Cb(2),h.Lc(" ",t.project.projectName," "),h.Cb(2),h.oc("src","assets/profileImg/"+t.assignTo.email+".jpg",h.Bc)("matTooltip",t.assignTo.name+" "+t.assignTo.family)("matTooltipPosition",i.rtlDirection?"left":"right")("alt",t.assignTo.name+" "+t.assignTo.family),h.Cb(1),h.pc("matTooltip",h.kc(20,29,"tasks.boards.task_percentage")),h.oc("ngClass",i.rtlDirection?"margin-r-full margin-l-auto":"margin-l-full margin-r-auto")("matTooltipPosition",i.rtlDirection?"left":"right"),h.Cb(3),h.Lc(" ",t.percentage," "),h.Cb(1),h.oc("ngClass",i.getColor(t.percentage))("diameter",25)("strokeWidth",2)("value",t.percentage),h.Cb(1),h.pc("matTooltip",h.kc(25,31,"tasks.boards.todo_count")),h.oc("matTooltipPosition",i.rtlDirection?"right":"left"),h.Cb(4),h.Lc(" ",t.todoCount," ")}}function Qe(t,e){if(1&t){const t=h.Xb();h.Wb(0,"mat-grid-tile",4),h.Wb(1,"div",9),h.ec("cdkDropListDropped",(function(e){return h.zc(t),h.ic(2).changeStatus(e)})),h.Hc(2,Me,5,5,"div",10),h.Hc(3,ze,29,35,"mat-card",11),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,i=h.ic(2);h.oc("colspan",t.cols)("rowspan",t.rows),h.Cb(1),h.pc("id",t.id),h.oc("cdkDropListData",t.tasks)("cdkDropListConnectedTo",i.connectedTo),h.Cb(1),h.oc("ngIf",!t.tasks.length),h.Cb(1),h.oc("ngForOf",t.tasks)}}function Pe(t,e){if(1&t&&(h.Wb(0,"mat-grid-list",8),h.Hc(1,Qe,4,7,"mat-grid-tile",3),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("ngForOf",t.boards)}}let He=(()=>{class t extends l.a{constructor(t,e,i,r,n,o,s,a,l,d,u){super(i,o),this.dialog=t,this.api=e,this.injector=i,this.socketService=r,this.messageService=n,this.userInfoService=o,this.currentTaskService=s,this.refreshLoginService=a,this.refreshBoardService=l,this.windowManagerService=d,this.loadingIndicatorService=u,this.triggerBottomSheet=new h.o,this.pushTaskEssentialInfo=new h.o,this.refreshData=!1,this.myTasks=[],this.rowHeight="0",this.connectedTo=[],this.boards=[],this.usersList=[],this.projectsList=[],this.currentTasks=null,this._subscription=new c.Subscription,this._subscription.add(this.currentTaskService.currentTask.subscribe(t=>this.currentTasks=t)),this._subscription.add(this.refreshBoardService.currentDoRefresh.subscribe(t=>{t&&this.getBoards()})),this._subscription.add(this.userInfoService.currentLoginData.subscribe(()=>this.getBoards()))}ngOnInit(){this.rowHeight="100%"}changeStatus(t){if(t.previousContainer===t.container)Object(Xt.h)(t.container.data,t.previousIndex,t.currentIndex);else{this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),Object(Xt.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);let e=t.item.data;this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.taskChangeStatus(e,t.container.id).subscribe(e=>Object(Kt.a)(this,void 0,void 0,(function*(){if(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),e.result){const i=e.content;this.messageService.showMessage(e.message),this.assignNewTaskToBoard(i,t.previousContainer.id,t.container.id)}})),t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)}))}}assignNewTaskToBoard(t,e,i){return Object(Kt.a)(this,void 0,void 0,(function*(){const r=yield this.projectsList.filter(e=>e.projectId===t.project.projectId).pop(),n=yield this.usersList.filter(e=>e.adminId===t.assignTo.adminId).pop();if(this.myTasks=[],yield this.boards.map(e=>{e.id===i&&e.tasks.map(e=>(e.taskId===t.taskId&&(t.assignTo=n,t.project=r,e=Object.assign(e,t)),e.assignTo.email===this.loggedInUser.email&&"inProgress"===i&&this.myTasks.push(e),e))}),this.myTasks.length)this.currentTaskService.changeCurrentTask(this.myTasks),this.myTasks=[];else if(this.currentTasks.length){if("inProgress"!==t.boardStatus){const e=this.currentTasks.findIndex(e=>e.taskId===t.taskId);this.currentTasks.splice(e,1),this.currentTaskService.changeCurrentTask(this.currentTasks)}}else this.currentTaskService.changeCurrentTask(null);"inProgress"!==e||"todo"!==i&&"done"!==i?"todo"===e&&"done"===i&&this.showTaskStopModal(t):this.showTaskStopModal(t)}))}showTaskStopModal(t){const e=this.dialog.open(Wt,{data:t,autoFocus:!1,width:"500px",height:"310px",disableClose:!0});this.windowManagerService.dialogOnTop(e.id),this._subscription.add(e.afterClosed().subscribe(t=>{}))}showTaskDetail(t,e){this.triggerBottomSheet.emit({component:je,height:"98%",width:"95%",data:{action:"detail",usersList:this.usersList,projectsList:this.projectsList,task:t,boardStatus:e}})}getBoards(){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.loginData&&this.loginData.token_type&&(this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.boards(this.loggedInUser.email).subscribe(t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===t.result&&this.putTasksToAllBoards(t)},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)})))}putTasksToAllBoards(t){let e=[],i=[],r=[];this.boards=[],this.connectedTo=[],this.usersList=t.content.users.list,this.projectsList=t.content.projects.list,this.pushTaskEssentialInfo.emit({usersList:this.usersList,projectsList:this.projectsList}),this.myTasks=[],t.content.boards.list.map(t=>{t.assignTo.email===this.loggedInUser.email&&"inProgress"===t.boardStatus&&this.myTasks.push(t);const n=t.stopAt,o=new Date,s=m(o).format("YYYY-MM-DD HH:mm:ss"),a=m.utc(n,"YYYY-MM-DD HH:mm:ss").isSameOrBefore(s);switch(t.boardStatus){case"todo":t.overdue=a,e.push(t);break;case"inProgress":t.overdue=a,i.push(t);break;case"done":r.push(t)}}),this.boards.push({id:"todo",cols:1,rows:1,name:"tasks.boards.todo",tasks:e}),this.boards.push({id:"inProgress",cols:1,rows:1,name:"tasks.boards.in_progress",tasks:i}),this.boards.push({id:"done",cols:1,rows:1,name:"tasks.boards.done",tasks:r});for(let n of this.boards)this.connectedTo.push(n.id);this.currentTaskService.changeCurrentTask(this.myTasks),this.myTasks=[]}getColor(t){return t<10&&t>=0?"spinner-color-red":t<=30&&t>10?"spinner-color-redorange":t<=50&&t>30?"spinner-color-orange":t<=80&&t>50?"spinner-color-lightgreen":t>80?"spinner-color-green":void 0}ngOnChanges(t){this.refreshData&&this.getBoards(),t.filterBoards&&!t.filterBoards.firstChange&&(this.filterBoards=t.filterBoards.currentValue,this.putTasksToAllBoards(this.filterBoards.resp)),t.pushTaskToBoard&&!t.pushTaskToBoard.firstChange&&(this.pushTaskToBoard=t.pushTaskToBoard.currentValue,this.assignNewTaskToBoard(this.pushTaskToBoard.task,this.pushTaskToBoard.prevContainer,this.pushTaskToBoard.newContainer))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(u.a),h.Qb(h.s),h.Qb(Be),h.Qb(f.a),h.Qb(p.a),h.Qb(yt.a),h.Qb(b.a),h.Qb(Rt),h.Qb(kt.a),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-board"]],inputs:{pushTaskToBoard:"pushTaskToBoard",rtlDirection:"rtlDirection",refreshData:"refreshData",filterBoards:"filterBoards"},outputs:{triggerBottomSheet:"triggerBottomSheet",pushTaskEssentialInfo:"pushTaskEssentialInfo"},features:[h.zb,h.Ab],decls:2,vars:2,consts:[["cols","3","gutterSize","10","rowHeight","40px",3,"dir",4,"ngIf"],["class","grid-height","cols","3","gutterSize","10","rowHeight","fit",4,"ngIf"],["cols","3","gutterSize","10","rowHeight","40px",3,"dir"],["class","board-container",3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"board-container",3,"colspan","rowspan"],[1,"board-name","pos-abs","top-0","right-0","full-width","padding-mini-t-b","padding-r-l","display-flex","flex-space-between"],[1,"font-9-em"],[1,"task-count","width-25","height-25","line-height-20","font-7-em","text-center","text-weight-500",3,"ngClass"],["cols","3","gutterSize","10","rowHeight","fit",1,"grid-height"],["cdkDropList","",1,"task-container","full-height","full-width","padding-full","overflow-x-hide","overflow-y-auto",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["class","flex-center full-width full-height pos-abs left-0 right-0 top-0 bottom-0 z-index-0",4,"ngIf"],["class","margin-b-full bg-white card-hover","cdkDrag","",3,"ngClass","cdkDragData","matTooltip","click",4,"ngFor","ngForOf"],[1,"flex-center","full-width","full-height","pos-abs","left-0","right-0","top-0","bottom-0","z-index-0"],[1,"width-250",3,"src","alt"],[1,"pos-abs","left-0","right-0","bottom-0","top-0","z-index-0","margin-auto","text-gray-400","font-8-rem","full-width","height-45","line-height-150","text-center"],["cdkDrag","",1,"margin-b-full","bg-white","card-hover",3,"ngClass","cdkDragData","matTooltip","click"],[1,"full-width"],[1,"full-width","height-30","text-gray-600","display-flex","flex-space-between","no-margin"],[1,"display-flex"],[1,"width-18","height-18","font-full-plus-three-tenth-em",3,"ngClass"],[1,"full-width","clear-both","text-pink-600","font-full-em","padding-t-half"],[1,"text-gray-600","margin-b-half","display-flex"],[1,"padding-mini-t-b","padding-r-l","height-45","display-flex","flex-space-between"],["onerror","this.src='assets/profileImg/0.jpg'",1,"width-25","height-25","round-corner-all","mat-elevation-z1",3,"src","matTooltip","matTooltipPosition","alt"],[1,"width-25","height-25","round-corner-all","mat-elevation-z1","pos-rel",3,"ngClass","matTooltip","matTooltipPosition"],[1,"font-6-em","text-gray-800","pos-abs","left-0","right-0","top-0","bottom-0","margin-auto","text-center","line-height-25","text-weight-500"],["color","accent",3,"ngClass","diameter","strokeWidth","value"],[1,"display-flex","padding-tiny-t-b",3,"matTooltip","matTooltipPosition"],[1,"width-18","height-18","font-full-plus-three-tenth-em","line-height-20","margin-mini-r-l"]],template:function(t,e){1&t&&(h.Hc(0,Oe,2,2,"mat-grid-list",0),h.Hc(1,Pe,2,1,"mat-grid-list",1)),2&t&&(h.oc("ngIf",e.boards.length),h.Cb(1),h.oc("ngIf",e.boards.length))},directives:[r.t,We.b,y.b,r.s,We.d,r.q,Xt.e,Fe.a,Xt.a,$t.a,Fe.f,Fe.l,T.a,Fe.m,Fe.d,Fe.e,Ee.a],pipes:[o.d,Qt.a],styles:[".board-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{align-self:start}.grid-height[_ngcontent-%COMP%]{height:calc(100% - 40px)}.task-count[_ngcontent-%COMP%]{border-radius:100px!important}.task-count.todo[_ngcontent-%COMP%]{border:2px solid #f44336;color:#f44336}.task-count.inProgress[_ngcontent-%COMP%]{border:2px solid #ffa000;color:#ffa000}.task-count.done[_ngcontent-%COMP%]{border:2px solid #388e3c;color:#388e3c}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.task-item[_ngcontent-%COMP%]:last-child{border:none}.tasks-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-card-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd}.mat-card-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #ddd}.overdue-task[_ngcontent-%COMP%]{border:1px solid #f44336;border-radius:5px;box-shadow:0 4px 10px -4px #f44336}"]}),t})();function Ge(t,e){if(1&t&&(h.Wb(0,"h3",10),h.Wb(1,"mat-icon",11),h.Jc(2),h.Vb(),h.Jc(3),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("ngClass",t.rtlDirection?"margin-l-half":"margin-r-half"),h.Cb(1),h.Kc(t.data.icon),h.Cb(1),h.Lc(" ",t.rtlDirection?t.data.name_fa:t.data.name," ")}}function Je(t,e){if(1&t&&(h.Wb(0,"h3",12),h.Wb(1,"mat-icon",11),h.Jc(2),h.Vb(),h.Jc(3),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("ngClass",t.rtlDirection?"margin-l-half":"margin-r-half"),h.Cb(1),h.Kc(t.data.icon),h.Cb(1),h.Lc(" ",t.rtlDirection?t.data.name_fa:t.data.name," ")}}function Ue(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",13),h.ec("click",(function(e){return h.zc(t),h.ic().minimize(),e.stopPropagation()})),h.Wb(1,"mat-icon",8),h.Jc(2," minimize "),h.Vb(),h.Vb()}}function qe(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",7),h.ec("click",(function(e){return h.zc(t),h.ic().restore(),e.stopPropagation()})),h.Wb(1,"mat-icon",8),h.Jc(2," filter_none "),h.Vb(),h.Vb()}}function Ke(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",7),h.ec("click",(function(e){return h.zc(t),h.ic().maximize(),e.stopPropagation()})),h.Wb(1,"mat-icon",8),h.Jc(2," crop_square "),h.Vb(),h.Vb()}}let Xe=(()=>{class t{constructor(t,e){this.windowManagerService=t,this.viewDirection=e,this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>this.rtlDirection=t))}ngOnInit(){this._subscription.add(this.windowManagerService.windowsList.subscribe(t=>{this.windowInstance=t.filter(t=>t.windowService.serviceTitle===this.data.serviceTitle).pop()}))}activeWindow(){this.windowManagerService.activeWindow(this.data)}minimize(){this.windowManagerService.minimizeWindow(this.data)}maximize(){this.windowManagerService.maximizeWindow(this.data)}restore(){this.windowManagerService.restoreWindow(this.data)}close(){this.windowManagerService.closeWindow(this.data)}centerWindow(){this.windowManagerService.centerWindow()}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(kt.a),h.Qb(v.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-window"]],decls:14,vars:7,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width",3,"dir","click"],["cdkDrag","","cdkDragBoundary",".dashboard-app-boundary","cdkDragRootElement",".cdk-overlay-pane",1,"window-heading","full-width","height-45","padding-mini-r-l","display-flex","align-items-center",3,"dblclick"],[3,"ngIfElse","ngIf"],["notDraggableHeading",""],[1,"window-actions","display-flex",3,"ngClass"],["class","width-30 height-30 text-center line-height-25 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],["class","width-30 height-30 text-center line-height-35 no-padding no-border no-bg cursor-pointer font-full-plus-two-tenth-em",3,"click",4,"ngIf"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"text-dark-mode-color","full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"window-content","pos-rel"],["cdkDragHandle","",1,"window-title","full-width","full-height","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"text-dark-mode-color","pos-rel",3,"ngClass"],[1,"window-title","full-width","font-full-plus-one-tenth-em","text-dark-mode-color","display-flex","align-items-center","no-margin"],[1,"width-30","height-30","text-center","line-height-25","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"]],template:function(t,e){if(1&t&&(h.Wb(0,"div",0),h.ec("click",(function(){return e.activeWindow()})),h.Wb(1,"div",1),h.ec("dblclick",(function(){return e.windowInstance.isMaximized?e.restore():e.maximize()})),h.Hc(2,Ge,4,3,"ng-template",2),h.Hc(3,Je,4,3,"ng-template",null,3,h.Ic),h.Wb(5,"div",4),h.Hc(6,Ue,3,0,"button",5),h.Hc(7,qe,3,0,"button",6),h.Hc(8,Ke,3,0,"button",6),h.Wb(9,"button",7),h.ec("click",(function(t){return e.close(),t.stopPropagation()})),h.Wb(10,"mat-icon",8),h.Jc(11,"close "),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(12,"div",9),h.Rb(13,"app-task-main"),h.Vb(),h.Vb()),2&t){const t=h.vc(4);h.oc("dir",e.rtlDirection?"rtl":"ltr"),h.Cb(2),h.oc("ngIfElse",t)("ngIf",e.windowInstance.isDraggable),h.Cb(3),h.oc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),h.Cb(1),h.oc("ngIf",!e.windowInstance.isMinimized),h.Cb(1),h.oc("ngIf",e.windowInstance.isMaximized||e.windowInstance.isMinimized),h.Cb(1),h.oc("ngIf",!e.windowInstance.isMaximized&&!e.windowInstance.isMinimized)}},directives:[y.b,Xt.a,r.t,r.q,T.a,jt,Xt.b],encapsulation:2}),t})();const Ye=function(t){return{"rotate-180":t}};function $e(t,e){if(1&t){const t=h.Xb();h.Wb(0,"button",4),h.ec("click",(function(){h.zc(t);const i=e.$implicit;return h.ic(2).showTask(i)})),h.Wb(1,"mat-icon",5),h.Jc(2,"play_arrow "),h.Vb(),h.Wb(3,"span",6),h.Jc(4),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,i=h.ic(2);h.oc("disabled",!i.taskEssentialInfo)("ngClass",i.rtlDirection?"margin-l-half":"margin-r-half"),h.Cb(1),h.oc("ngClass",h.rc(4,Ye,i.rtlDirection)),h.Cb(3),h.Kc(t.taskName)}}function Ze(t,e){if(1&t&&(h.Wb(0,"div",2),h.Hc(1,$e,5,6,"button",3),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("ngForOf",t.currentTasks)}}let ti=(()=>{class t{constructor(t,e){this.userInfoService=t,this.currentTaskService=e,this.triggerBottomSheet=new h.o,this.pushTaskToBoard=new h.o,this.projectsList=[],this.usersList=[],this.currentTasks=null,this.message="",this.notification=!1,this._subscription=new c.Subscription,this._subscription.add(this.currentTaskService.currentTask.subscribe(t=>this.currentTasks=t)),this._subscription.add(this.userInfoService.currentUserInfo.subscribe(t=>this.user=t))}ngOnInit(){}showTask(t){this.triggerBottomSheet.emit({component:je,height:"98%",width:"95%",data:{action:"detail",usersList:this.usersList,projectsList:this.projectsList,task:t,boardStatus:"inProgress"}})}ngOnChanges(t){t.taskEssentialInfo&&!t.taskEssentialInfo.firstChange&&(this.usersList=t.taskEssentialInfo.currentValue.usersList,this.projectsList=t.taskEssentialInfo.currentValue.projectsList)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(p.a),h.Qb(yt.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-current"]],inputs:{taskEssentialInfo:"taskEssentialInfo",rtlDirection:"rtlDirection"},outputs:{triggerBottomSheet:"triggerBottomSheet",pushTaskToBoard:"pushTaskToBoard"},features:[h.Ab],decls:2,vars:1,consts:[[1,"display-flex","flex-space-between","align-items-center","full-height"],["class","display-flex flex-space-between height-30 align-items-center",4,"ngIf"],[1,"display-flex","flex-space-between","height-30","align-items-center"],["class","blink-effect white-gradient text-gray-800 line-height-30 font-9-em overflow-hide text-weight-normal","mat-raised-button","",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"blink-effect","white-gradient","text-gray-800","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","ngClass","click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem",3,"ngClass"],[1,"padding-mini-r-l"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Hc(1,Ze,2,1,"div",1),h.Vb()),2&t&&(h.Cb(1),h.oc("ngIf",e.currentTasks))},directives:[r.t,r.s,I.b,r.q,T.a],styles:["#notification[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;width:200px;padding:20px;border-radius:5px;background-color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.hidden[_ngcontent-%COMP%]{display:none}.blink-effect[_ngcontent-%COMP%]{transition:all .4s!important;-webkit-animation:blink-effect 1s linear infinite;animation:blink-effect 1s linear infinite}@-webkit-keyframes blink-effect{0%{color:#888}33.33333%{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}to{color:#888;box-shadow:none}}@keyframes blink-effect{0%{color:#888}33.33333%{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}to{color:#888;box-shadow:none}}"]}),t})();var ei=i("iOEq"),ii=i("rBWh"),ri=i("XhcP");function ni(t,e){if(1&t){const t=h.Xb();h.Wb(0,"full-calendar",2),h.ec("eventClick",(function(e){return h.zc(t),h.ic().eventClick(e)}))("eventRender",(function(e){return h.zc(t),h.ic().eventRender(e)})),h.Vb()}if(2&t){const t=h.ic();h.oc("allDaySlot",!0)("buttonText",t.buttonLabels)("dir",t.rtlDirection?"rtl":"ltr")("displayEventTime",!0)("editable",!1)("eventLimitText","")("eventLimit",2)("events",t.calendarEvents)("firstDay",1)("handleWindowResize",!0)("header",t.header)("locale",t.rtlDirection?"fa":"en")("plugins",t.calendarPlugins)("selectOverlap",!1)("slotLabelFormat",t.slotLabelFormat)("views",t.views)}}let oi=(()=>{class t{constructor(t,e,i,r){this.dialog=t,this.viewDirection=e,this.taskCalendarService=i,this.translateService=r,this.triggerBottomSheet=new h.o,this.header={},this.buttonLabels={today:"",month:"",week:"",day:"",list:""},this.slotLabelFormat=[{hour:"2-digit",minute:"2-digit",hour12:!1}],this.views={},this.calendarPlugins=[ei.d],this.tasks=[],this.usersList=[],this._subscription=new c.Subscription,this._subscription.add(this.viewDirection.currentDirection.subscribe(t=>{this.rtlDirection=t,this.setupCalendar()}))}ngAfterViewInit(){this.setupCalendar()}setupCalendar(){this.views={dayGridMonthCustom:{type:"dayGridMonth",buttonText:this.getTranslate("tasks.calendar.month")}},this.getTranslateWords().then(t=>{this.buttonLabels={today:t.today,month:t.month,week:t.week,day:t.day,list:t.list}}),this.header=this.rtlDirection?{left:"timeGridMonth, timeGridWeek,timeGridDay",center:"title",right:"prev,next,today"}:{left:"today,prev,next",center:"title",right:"timeGridMonth, timeGridWeek,timeGridDay"}}getTranslateWords(){return new Promise(t=>Object(Kt.a)(this,void 0,void 0,(function*(){const e={today:"",month:"",week:"",day:"",list:""};yield this.getTranslate("tasks.calendar.today").then(t=>e.today=t),yield this.getTranslate("tasks.calendar.month").then(t=>e.month=t),yield this.getTranslate("tasks.calendar.week").then(t=>e.week=t),yield this.getTranslate("tasks.calendar.day").then(t=>e.day=t),yield this.getTranslate("tasks.calendar.list").then(t=>e.list=t),t(e)})))}eventRender(t){t.event.extendedProps.imageurl&&t.el.getElementsByClassName("fc-title")[0].insertAdjacentHTML("beforeBegin",'<img class="round-corner-all float-right" src="'+t.event.extendedProps.imageurl+'" width="20px" height="20px">')}eventClick(t){this.triggerBottomSheet.emit({component:je,height:"98%",width:"98%",data:{action:"detail",usersList:t.event.extendedProps.usersList,projectsList:t.event.extendedProps.projectsList,task:t.event.extendedProps,boardStatus:void 0}})}getTranslate(t){return new Promise(e=>{e(this.translateService.instant(t))})}ngAfterViewChecked(){document.getElementsByClassName("holiday-date").length||this.taskCalendarService.setHolidayHighlight(this.holidays)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(v.a),h.Qb(ii.a),h.Qb(o.e))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-calendar-weekday"]],inputs:{calendarEvents:"calendarEvents",loginData:"loginData",holidays:"holidays"},outputs:{triggerBottomSheet:"triggerBottomSheet"},decls:2,vars:3,consts:[["autosize","",1,"rate-calendar",3,"dir","ngClass"],["class","full-height","defaultView","dayGridMonth",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimitText","eventLimit","events","firstDay","handleWindowResize","header","locale","plugins","selectOverlap","slotLabelFormat","views","eventClick","eventRender",4,"ngIf"],["defaultView","dayGridMonth",1,"full-height",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimitText","eventLimit","events","firstDay","handleWindowResize","header","locale","plugins","selectOverlap","slotLabelFormat","views","eventClick","eventRender"]],template:function(t,e){1&t&&(h.Wb(0,"mat-drawer-container",0),h.Hc(1,ni,1,16,"full-calendar",1),h.Vb()),2&t&&(h.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"ca-rtl":"ca-ltr"),h.Cb(1),h.oc("ngIf",e.calendarEvents.length))},directives:[ri.b,y.b,r.q,r.t,qt.a],styles:[".fc{font-family:inherit!important}.ca-rtl .fc-button-group,.ca-rtl .fc-content,.ca-rtl .fc-toolbar{direction:rtl!important}.ca-ltr .fc-button-group,.ca-ltr .fc-content,.ca-ltr .fc-toolbar{direction:ltr!important}.fc th{text-align:center;padding:5px!important}.fc-button{background:none;color:#333;border:none;margin:0!important}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{border-radius:4px!important;background-image:linear-gradient(-20deg,#3949ab,#4fc3f7)!important}.fc-button-primary:hover{color:#3949ab;background:none;border:none}.fc-button-primary:disabled{color:#fff!important;background:#ccc}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:none!important;background:none!important;color:#3949ab!important}.fc-day-grid-event .fc-content{white-space:normal!important;display:flex;flex-direction:inherit!important}.fc-day-grid-event .fc-content .fc-title{font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;line-height:20px;padding-left:5px!important;padding-right:5px!important}.fc-day-grid-event .fc-content .fc-time{display:none}a.fc-more{margin:3px 9px;font-size:.85em;cursor:pointer;text-decoration:none;background:#eee;border-radius:100%;width:25px;line-height:25px;display:block;text-align:center;border:1px solid #e6e6e6;font-weight:700;direction:ltr;color:#656565}"],encapsulation:2}),t})();const si=["oBottomSheet"],ai=["container"];let ci=(()=>{class t{constructor(t,e){this.renderer=t,this.cfr=e}toggleBottomSheet(t,e=!0){this.container.clear();const i=this.oBottomSheet.nativeElement.parentNode.parentNode,r=this.oBottomSheet.nativeElement;if(e){this.renderer.addClass(i,"active"),this.renderer.setStyle(r,"height",t.height),this.renderer.setStyle(r,"width",t.width),this.renderer.setStyle(i,"z-index","5");const e=this.cfr.resolveComponentFactory(t.component);this.container.createComponent(e).instance.bottomSheetData=t}else this.renderer.removeClass(i,"active"),this.renderer.setStyle(r,"height","0"),this.renderer.setStyle(r,"width","0"),setTimeout(()=>this.renderer.setStyle(i,"z-index","-1"),100)}close(t){this.toggleBottomSheet(null,!1)}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(h.F),h.Qb(h.j))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-bottom-sheet"]],viewQuery:function(t,e){var i;1&t&&(h.Pc(si,!0),h.Pc(ai,!0,h.P)),2&t&&(h.uc(i=h.fc())&&(e.oBottomSheet=i.first),h.uc(i=h.fc())&&(e.container=i.first))},decls:6,vars:0,consts:[[1,"o-bottom-sheet-container","full-width","full-height"],[1,"o-bottom-sheet-backdrop","full-width","full-height",3,"click"],[1,"o-bottom-sheet-content","overflow-hide","pos-abs","margin-auto","bottom-0","right-0","left-0","round-corner-top-left","round-corner-top-right"],["oBottomSheet",""],[1,"o-bottom-sheet-comp"],["container",""]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"div",1),h.ec("click",(function(){return e.close()})),h.Vb(),h.Wb(2,"div",2,3),h.Rb(4,"div",4,5),h.Vb(),h.Vb())},styles:["[_nghost-%COMP%]{position:absolute;right:0;left:0;bottom:0;width:100%;height:100%;z-index:-1}[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{transition:background .2s!important;background:transparent}.active[_nghost-%COMP%]   .o-bottom-sheet-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}[_nghost-%COMP%]   .o-bottom-sheet-content[_ngcontent-%COMP%]{transition:height .1s!important;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:transparent;height:0;width:0}"]}),t})();var li=i("SZB9"),di=function(t,e){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function hi(t,e){function i(){this.constructor=t}di(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ui=function(){return(ui=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},fi=function(t){function e(e){var i=t.call(this)||this;return i.timeGrid=e,i}return hi(e,t),e.prototype.renderSegs=function(e,i,r){t.prototype.renderSegs.call(this,e,i,r),this.fullTimeFormat=Object(li.U)({hour:"numeric",minute:"2-digit",separator:this.context.options.defaultRangeSeparator})},e.prototype.attachSegs=function(t,e){for(var i=this.timeGrid.groupSegsByCol(t),r=0;r<i.length;r++)i[r]=this.sortEventSegs(i[r]);this.segsByCol=i,this.timeGrid.attachSegsByCol(i,this.timeGrid.fgContainerEls)},e.prototype.detachSegs=function(t){t.forEach((function(t){Object(li.Rb)(t.el)})),this.segsByCol=null},e.prototype.computeSegSizes=function(t){var e=this.timeGrid,i=this.segsByCol,r=e.colCnt;if(e.computeSegVerticals(t),i)for(var n=0;n<r;n++)this.computeSegHorizontals(i[n])},e.prototype.assignSegSizes=function(t){var e=this.timeGrid,i=this.segsByCol,r=e.colCnt;if(e.assignSegVerticals(t),i)for(var n=0;n<r;n++)this.assignSegCss(i[n])},e.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.renderSegHtml=function(t,e){var i,r,n,o=t.eventRange,s=o.def,a=o.ui,c=s.allDay,l=Object(li.J)(this.context,s,a),d=t.isStart&&Object(li.L)(this.context,s,a),h=t.isEnd&&Object(li.K)(this.context,s,a),u=this.getSegClasses(t,l,d||h,e),f=Object(li.W)(this.getSkinCss(a));if(u.unshift("fc-time-grid-event"),Object(li.Bb)(o.range)){if(t.isStart||t.isEnd){var p=t.start,b=t.end;i=this._getTimeText(p,b,c),r=this._getTimeText(p,b,c,this.fullTimeFormat),n=this._getTimeText(p,b,c,null,!1)}}else i=this.getTimeText(o),r=this.getTimeText(o,this.fullTimeFormat),n=this.getTimeText(o,null,!1);return'<a class="'+u.join(" ")+'"'+(s.url?' href="'+Object(li.sb)(s.url)+'"':"")+(f?' style="'+f+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+Object(li.sb)(n)+'" data-full="'+Object(li.sb)(r)+'"><span>'+Object(li.sb)(i)+"</span></div>":"")+(s.title?'<div class="fc-title">'+Object(li.sb)(s.title)+"</div>":"")+"</div>"+(h?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},e.prototype.computeSegHorizontals=function(t){var e,i,r;if(function(t){var e,i,r,n,o;for(e=0;e<t.length;e++)for(i=t[e],r=0;r<i.length;r++)for((n=i[r]).forwardSegs=[],o=e+1;o<t.length;o++)bi(n,t[o],n.forwardSegs)}(e=function(t){var e,i,r,n=[];for(e=0;e<t.length;e++){for(i=t[e],r=0;r<n.length&&bi(i,n[r]).length;r++);i.level=r,(n[r]||(n[r]=[])).push(i)}return n}(t)),i=e[0]){for(r=0;r<i.length;r++)pi(i[r]);for(r=0;r<i.length;r++)this.computeSegForwardBack(i[r],0,0)}},e.prototype.computeSegForwardBack=function(t,e,i){var r,n=t.forwardSegs;if(void 0===t.forwardCoord)for(n.length?(this.sortForwardSegs(n),this.computeSegForwardBack(n[0],e+1,i),t.forwardCoord=n[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-i)/(e+1),r=0;r<n.length;r++)this.computeSegForwardBack(n[r],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){var e=t.map(gi),i=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.eventOrderSpecs);return e.sort((function(t,e){return Object(li.F)(t,e,i)})),e.map((function(t){return t._seg}))},e.prototype.assignSegCss=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e];Object(li.B)(r.el,this.generateSegCss(r)),r.level>0&&r.el.classList.add("fc-time-grid-event-inset"),r.eventRange.def.title&&r.bottom-r.top<30&&r.el.classList.add("fc-short")}},e.prototype.generateSegCss=function(t){var e,i,r=this.context.options.slotEventOverlap,n=t.backwardCoord,o=t.forwardCoord,s=this.timeGrid.generateSegVerticalCss(t),a=this.context.isRtl;return r&&(o=Math.min(1,n+2*(o-n))),a?(e=1-o,i=n):(e=n,i=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*i+"%",r&&t.forwardPressure&&(s[a?"marginLeft":"marginRight"]=20),s},e}(li.k);function pi(t){var e,i,r=t.forwardSegs,n=0;if(void 0===t.forwardPressure){for(e=0;e<r.length;e++)pi(i=r[e]),n=Math.max(n,1+i.forwardPressure);t.forwardPressure=n}}function bi(t,e,i){void 0===i&&(i=[]);for(var r=0;r<e.length;r++)(n=t).bottom>(o=e[r]).top&&n.top<o.bottom&&i.push(e[r]);var n,o;return i}function gi(t){var e=Object(li.E)(t);return e.forwardPressure=t.forwardPressure,e.backwardCoord=t.backwardCoord,e}var mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.attachSegs=function(t,e){this.segsByCol=this.timeGrid.groupSegsByCol(t),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=e.sourceSeg},e.prototype.generateSegCss=function(e){var i=t.prototype.generateSegCss.call(this,e),r=this.sourceSeg;if(r&&r.col===e.col){var n=t.prototype.generateSegCss.call(this,r);i.left=n.left,i.right=n.right,i.marginLeft=n.marginLeft,i.marginRight=n.marginRight}return i},e}(fi),vi=function(t){function e(e){var i=t.call(this)||this;return i.timeGrid=e,i}return hi(e,t),e.prototype.attachSegs=function(t,e){var i,r=this.timeGrid;return"bgEvent"===t?i=r.bgContainerEls:"businessHours"===t?i=r.businessContainerEls:"highlight"===t&&(i=r.highlightContainerEls),r.attachSegsByCol(r.groupSegsByCol(e),i),e.map((function(t){return t.el}))},e.prototype.computeSegSizes=function(t){this.timeGrid.computeSegVerticals(t)},e.prototype.assignSegSizes=function(t){this.timeGrid.assignSegVerticals(t)},e}(li.l),yi=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],ki=function(t){function e(e,i){var r=t.call(this,e)||this;r.isSlatSizesDirty=!1,r.isColSizesDirty=!1,r.processOptions=Object(li.Fb)(r._processOptions),r.renderSkeleton=Object(li.Gb)(r._renderSkeleton),r.renderSlats=Object(li.Gb)(r._renderSlats,null,[r.renderSkeleton]),r.renderColumns=Object(li.Gb)(r._renderColumns,r._unrenderColumns,[r.renderSkeleton]),r.renderProps=i;var n=r.renderColumns,o=r.eventRenderer=new fi(r),s=r.fillRenderer=new vi(r);return r.mirrorRenderer=new mi(r),r.renderBusinessHours=Object(li.Gb)(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours"),[n]),r.renderDateSelection=Object(li.Gb)(r._renderDateSelection,r._unrenderDateSelection,[n]),r.renderFgEvents=Object(li.Gb)(o.renderSegs.bind(o),o.unrender.bind(o),[n]),r.renderBgEvents=Object(li.Gb)(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent"),[n]),r.renderEventSelection=Object(li.Gb)(o.selectByInstanceId.bind(o),o.unselectByInstanceId.bind(o),[r.renderFgEvents]),r.renderEventDrag=Object(li.Gb)(r._renderEventDrag,r._unrenderEventDrag,[n]),r.renderEventResize=Object(li.Gb)(r._renderEventResize,r._unrenderEventResize,[n]),r}return hi(e,t),e.prototype._processOptions=function(t){var e,i,r=t.slotDuration,n=t.snapDuration;r=Object(li.Q)(r),n=n?Object(li.Q)(n):r,null===(e=Object(li.Yb)(r,n))&&(n=r,e=1),this.slotDuration=r,this.snapDuration=n,this.snapsPerSlot=e,i=t.slotLabelFormat,Array.isArray(i)&&(i=i[i.length-1]),this.labelFormat=Object(li.U)(i||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),this.labelInterval=(i=t.slotLabelInterval)?Object(li.Q)(i):this.computeLabelInterval(r)},e.prototype.computeLabelInterval=function(t){var e,i,r;for(e=yi.length-1;e>=0;e--)if(i=Object(li.Q)(yi[e]),null!==(r=Object(li.Yb)(i,t))&&r>1)return i;return t},e.prototype.render=function(t,e){this.processOptions(e.options),this.colCnt=t.cells.length,this.renderSkeleton(e.theme),this.renderSlats(t.dateProfile),this.renderColumns(t.cells,t.dateProfile),this.renderBusinessHours(e,t.businessHourSegs),this.renderDateSelection(t.dateSelectionSegs),this.renderFgEvents(e,t.fgEventSegs),this.renderBgEvents(e,t.bgEventSegs),this.renderEventSelection(t.eventSelection),this.renderEventDrag(t.eventDrag),this.renderEventResize(t.eventResize)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender(),this.renderSkeleton.unrender()},e.prototype.updateSize=function(t){var e=this.fillRenderer,i=this.eventRenderer,r=this.mirrorRenderer;(t||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(t||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),e.computeSizes(t),i.computeSizes(t),r.computeSizes(t),e.assignSizes(t),i.assignSizes(t),r.assignSizes(t)},e.prototype._renderSkeleton=function(t){var e=this.el;e.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" style="display:none" />',this.rootBgContainerEl=e.querySelector(".fc-bg"),this.slatContainerEl=e.querySelector(".fc-slats"),this.bottomRuleEl=e.querySelector(".fc-divider")},e.prototype._renderSlats=function(t){this.slatContainerEl.innerHTML='<table class="'+this.context.theme.getClass("tableGrid")+'">'+this.renderSlatRowHtml(t)+"</table>",this.slatEls=Object(li.ib)(this.slatContainerEl,"tr"),this.slatPositions=new li.n(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(t){for(var e,i,r,n=this.context,o=n.dateEnv,s=n.theme,a=n.isRtl,c="",l=Object(li.Tb)(t.renderRange.start),d=t.minTime,h=Object(li.Q)(0);Object(li.C)(d)<Object(li.C)(t.maxTime);)e=o.add(l,d),i=null!==Object(li.Yb)(h,this.labelInterval),r='<td class="fc-axis fc-time '+s.getClass("widgetContent")+'">'+(i?"<span>"+Object(li.sb)(o.format(e,this.labelFormat))+"</span>":"")+"</td>",c+='<tr data-time="'+Object(li.jb)(e)+'"'+(i?"":' class="fc-minor"')+">"+(a?"":r)+'<td class="'+s.getClass("widgetContent")+'"></td>'+(a?r:"")+"</tr>",d=Object(li.v)(d,this.slotDuration),h=Object(li.v)(h,this.slotDuration);return c},e.prototype._renderColumns=function(t,e){var i=this.context,r=i.calendar,n=i.view,o=i.isRtl,s=i.theme,a=i.dateEnv,c=new ei.a(this.context);this.rootBgContainerEl.innerHTML='<table class="'+s.getClass("tableGrid")+'">'+c.renderHtml({cells:t,dateProfile:e,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=Object(li.ib)(this.el,".fc-day, .fc-disabled-day");for(var l=0;l<this.colCnt;l++)r.publiclyTrigger("dayRender",[{date:a.toDate(t[l].date),el:this.colEls[l],view:n}]);o&&this.colEls.reverse(),this.colPositions=new li.n(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e=this.context.isRtl,i=[];i.push(this.renderProps.renderIntroHtml());for(var r=0;r<this.colCnt;r++)i.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');e&&i.reverse(),t=this.contentSkeletonEl=Object(li.tb)('<div class="fc-content-skeleton"><table><tr>'+i.join("")+"</tr></table></div>"),this.colContainerEls=Object(li.ib)(t,".fc-content-col"),this.mirrorContainerEls=Object(li.ib)(t,".fc-mirror-container"),this.fgContainerEls=Object(li.ib)(t,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=Object(li.ib)(t,".fc-bgevent-container"),this.highlightContainerEls=Object(li.ib)(t,".fc-highlight-container"),this.businessContainerEls=Object(li.ib)(t,".fc-business-container"),e&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(t)},e.prototype.unrenderContentSkeleton=function(){Object(li.Rb)(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(t){var e,i=[];for(e=0;e<this.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i},e.prototype.attachSegsByCol=function(t,e){var i,r,n;for(i=0;i<this.colCnt;i++)for(r=t[i],n=0;n<r.length;n++)e[i].appendChild(r[n].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t,e){if(this.colContainerEls){var i,r=this.computeDateTop(e),n=[];for(i=0;i<t.length;i++){var o=Object(li.R)("div",{className:"fc-now-indicator fc-now-indicator-line"});o.style.top=r+"px",this.colContainerEls[t[i].col].appendChild(o),n.push(o)}if(t.length>0){var s=Object(li.R)("div",{className:"fc-now-indicator fc-now-indicator-arrow"});s.style.top=r+"px",this.contentSkeletonEl.appendChild(s),n.push(s)}this.nowIndicatorEls=n}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(li.Rb),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(t,e){return e||(e=Object(li.Tb)(t)),this.computeTimeTop(Object(li.Q)(t.valueOf()-e.valueOf()))},e.prototype.computeTimeTop=function(t){var e,i,r=this.slatEls.length,n=this.props.dateProfile,o=(t.milliseconds-Object(li.C)(n.minTime))/Object(li.C)(this.slotDuration);return o=Math.max(0,o),o=Math.min(r,o),e=Math.floor(o),i=o-(e=Math.min(e,r-1)),this.slatPositions.tops[e]+this.slatPositions.getHeight(e)*i},e.prototype.computeSegVerticals=function(t){var e,i,r,n=this.context.options.timeGridEventMinHeight;for(e=0;e<t.length;e++)(i=t[e]).top=this.computeDateTop(i.start,r=this.props.cells[i.col].date),i.bottom=Math.max(i.top+n,this.computeDateTop(i.end,r))},e.prototype.assignSegVerticals=function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],Object(li.B)(i.el,this.generateSegVerticalCss(i))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(t,e){var i=this.context.dateEnv,r=this.snapsPerSlot,n=this.slatPositions,o=this.colPositions,s=o.leftToIndex(t),a=n.topToIndex(e);if(null!=s&&null!=a){var c=n.tops[a],l=n.getHeight(a),d=a*r+Math.floor((e-c)/l*r),h=this.props.cells[s].date,u=Object(li.v)(this.props.dateProfile.minTime,Object(li.Hb)(this.snapDuration,d)),f=i.add(h,u);return{col:s,dateSpan:{range:{start:f,end:i.add(f,this.snapDuration)},allDay:!1},dayEl:this.colEls[s],relativeRect:{left:o.lefts[s],right:o.rights[s],top:c,bottom:c+l}}}},e.prototype._renderEventDrag=function(t){t&&(this.eventRenderer.hideByHash(t.affectedInstances),t.isEvent?this.mirrorRenderer.renderSegs(this.context,t.segs,{isDragging:!0,sourceSeg:t.sourceSeg}):this.fillRenderer.renderSegs("highlight",this.context,t.segs))},e.prototype._unrenderEventDrag=function(t){t&&(this.eventRenderer.showByHash(t.affectedInstances),t.isEvent?this.mirrorRenderer.unrender(this.context,t.segs,{isDragging:!0,sourceSeg:t.sourceSeg}):this.fillRenderer.unrender("highlight",this.context))},e.prototype._renderEventResize=function(t){t&&(this.eventRenderer.hideByHash(t.affectedInstances),this.mirrorRenderer.renderSegs(this.context,t.segs,{isResizing:!0,sourceSeg:t.sourceSeg}))},e.prototype._unrenderEventResize=function(t){t&&(this.eventRenderer.showByHash(t.affectedInstances),this.mirrorRenderer.unrender(this.context,t.segs,{isResizing:!0,sourceSeg:t.sourceSeg}))},e.prototype._renderDateSelection=function(t){t&&(this.context.options.selectMirror?this.mirrorRenderer.renderSegs(this.context,t,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",this.context,t))},e.prototype._unrenderDateSelection=function(t){t&&(this.context.options.selectMirror?this.mirrorRenderer.unrender(this.context,t,{isSelecting:!0}):this.fillRenderer.unrender("highlight",this.context))},e}(li.b),wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(t){return t.allDay?Object(li.rb)(t)?["timed","allDay"]:["allDay"]:["timed"]},e}(li.r),Ci=Object(li.U)({week:"short"}),Ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitter=new wi,e.renderSkeleton=Object(li.Gb)(e._renderSkeleton,e._unrenderSkeleton),e.renderHeadIntroHtml=function(){var t,i=e.context,r=i.theme,n=i.dateEnv,o=i.options,s=e.props.dateProfile.renderRange,a=Object(li.Y)(s.start,s.end);return o.weekNumbers?(t=n.format(s.start,Ci),'<th class="fc-axis fc-week-number '+r.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+Object(li.D)(o,n,{date:s.start,type:"week",forceOff:a>1},Object(li.sb)(t))+"</th>"):'<th class="fc-axis '+r.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},e.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+e.context.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"></td>"},e.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e.renderDayGridBgIntroHtml=function(){var t=e.context,i=t.options;return'<td class="fc-axis '+t.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"><span>"+Object(li.kb)(i)+"</span></td>"},e.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e}return hi(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i),this.renderSkeleton(i)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.renderSkeleton.unrender()},e.prototype._renderSkeleton=function(t){this.el.classList.add("fc-timeGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new li.o("hidden","auto");var e=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(e),e.classList.add("fc-time-grid-container");var i=Object(li.R)("div",{className:"fc-time-grid"});if(e.appendChild(i),this.timeGrid=new ki(i,{renderBgIntroHtml:this.renderTimeGridBgIntroHtml,renderIntroHtml:this.renderTimeGridIntroHtml}),t.options.allDaySlot){this.dayGrid=new ei.b(this.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:this.renderDayGridIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var r=this.el.querySelector(".fc-divider");this.dayGrid.bottomCoordPadding=r.getBoundingClientRect().height}},e.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeGrid-view"),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.context,e=t.theme,i=t.options;return'<table class="'+e.getClass("tableGrid")+'">'+(i.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+e.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+e.getClass("widgetContent")+'">'+(i.allDaySlot?'<div class="fc-day-grid"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(e,i,r){t.prototype.updateSize.call(this,e,i,r),this.timeGrid.updateSize(e),this.dayGrid&&this.dayGrid.updateSize(e)},e.prototype.updateBaseSize=function(t,e,i){var r,n,o,s=this;if(this.axisWidth=Object(li.Eb)(Object(li.ib)(this.el,".fc-axis")),this.timeGrid.colEls){var a=Object(li.ib)(this.el,".fc-row").filter((function(t){return!s.scroller.el.contains(t)}));this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),a.forEach(li.Vb),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.context.options.eventLimit)&&"number"!=typeof r&&(r=5),r&&this.dayGrid.limitRows(r)),i||(n=this.computeScrollerHeight(e),this.scroller.setHeight(n),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(a.forEach((function(t){Object(li.H)(t,o)})),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<n&&(this.timeGrid.bottomRuleEl.style.display=""))}else i||(n=this.computeScrollerHeight(e),this.scroller.setHeight(n))},e.prototype.computeScrollerHeight=function(t){return t-Object(li.Ub)(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(t){var e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(li.s);Ai.prototype.usesMinMaxTime=!0;var xi=function(t){function e(e){var i=t.call(this,e.el)||this;return i.buildDayRanges=Object(li.Fb)(Si),i.slicer=new Di,i.timeGrid=e,i}return hi(e,t),e.prototype.firstContext=function(t){t.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},e.prototype.render=function(t,e){var i=t.dateProfile,r=t.dayTable,n=this.dayRanges=this.buildDayRanges(r,i,this.context.dateEnv);this.timeGrid.receiveProps(ui({},this.slicer.sliceProps(t,i,null,e.calendar,this.timeGrid,n),{dateProfile:i,cells:r.cells[0]}),e)},e.prototype.renderNowIndicator=function(t){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(t,this.timeGrid,this.dayRanges),t)},e.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},e.prototype.queryHit=function(t,e){var i=this.timeGrid.positionToHit(t,e);if(i)return{component:this.timeGrid,dateSpan:i.dateSpan,dayEl:i.dayEl,rect:{left:i.relativeRect.left,right:i.relativeRect.right,top:i.relativeRect.top,bottom:i.relativeRect.bottom},layer:0}},e}(li.b);function Si(t,e,i){for(var r=[],n=0,o=t.headerDates;n<o.length;n++){var s=o[n];r.push({start:i.add(s,e.minTime),end:i.add(s,e.maxTime)})}return r}var Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.sliceRange=function(t,e){for(var i=[],r=0;r<e.length;r++){var n=Object(li.xb)(t,e[r]);n&&i.push({start:n.start,end:n.end,isStart:n.start.valueOf()===t.start.valueOf(),isEnd:n.end.valueOf()===t.end.valueOf(),col:r})}return i},e}(li.q),Ii=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayTable=Object(li.Fb)(Ti),e}return hi(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i);var r=this.props,n=r.dateProfile,o=r.dateProfileGenerator,s=i.nextDayThreshold,a=this.buildDayTable(n,o),c=this.splitter.splitProps(e);this.header&&this.header.receiveProps({dateProfile:n,dates:a.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},i),this.simpleTimeGrid.receiveProps(ui({},c.timed,{dateProfile:n,dayTable:a}),i),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(ui({},c.allDay,{dateProfile:n,dayTable:a,nextDayThreshold:s,isRigid:!1}),i),this.startNowIndicator(n,o)},e.prototype._renderSkeleton=function(e){t.prototype._renderSkeleton.call(this,e),e.options.columnHeader&&(this.header=new li.d(this.el.querySelector(".fc-head-container"))),this.simpleTimeGrid=new xi(this.timeGrid),this.dayGrid&&(this.simpleDayGrid=new ei.c(this.dayGrid))},e.prototype._unrenderSkeleton=function(){t.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.renderNowIndicator=function(t){this.simpleTimeGrid.renderNowIndicator(t)},e}(Ai);function Ti(t,e){var i=new li.e(t.renderRange,e);return new li.f(i,!1)}var Vi=Object(li.V)({defaultView:"timeGridWeek",views:{timeGrid:{class:Ii,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});let _i=(()=>{class t{constructor(){}pad(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ji=["calendar"],Li=["drawer"];function Bi(t,e){if(1&t&&(h.Wb(0,"div",7),h.Rb(1,"img",8),h.Wb(2,"div",9),h.Wb(3,"mat-icon",10),h.Jc(4,"person"),h.Vb(),h.Wb(5,"span",11),h.Jc(6),h.Vb(),h.Vb(),h.Wb(7,"div",9),h.Wb(8,"mat-icon",10),h.Jc(9,"mail_outline"),h.Vb(),h.Wb(10,"span",11),h.Jc(11),h.Vb(),h.Vb(),h.Wb(12,"div",9),h.Wb(13,"mat-icon",10),h.Jc(14,"av_timer"),h.Vb(),h.Wb(15,"span",11),h.Jc(16),h.jc(17,"translate"),h.Vb(),h.Vb(),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("alt",t.userSelected.name+" "+t.userSelected.family)("src","/assets/profileImg/"+t.userSelected.email+".jpg",h.Bc),h.Cb(4),h.oc("ngClass",t.rtlDirection?"padding-r-half":"padding-l-half"),h.Cb(1),h.Mc(" ",t.userSelected.name," ",t.userSelected.family," "),h.Cb(4),h.oc("ngClass",t.rtlDirection?"padding-r-half":"padding-l-half"),h.Cb(1),h.Lc(" ",t.userSelected.email," "),h.Cb(4),h.oc("ngClass",t.rtlDirection?"padding-r-half":"padding-l-half"),h.Cb(1),h.Mc(" ",h.kc(17,10,"tasks.task_filter.tasks_filter_calendar_hours"),": ",t.sumTime," ")}}let Wi=(()=>{class t{constructor(t,e,i,r,n){this.api=t,this.utilService=e,this.translateService=i,this.taskCalendarService=r,this.viewDirectionService=n,this.containerHeight=300,this.calendarPlugins=[ei.d,Vi],this.buttonLabels={},this.header={},this.slotLabelFormat=[{hour:"2-digit",minute:"2-digit",hour12:!1}],this.views={},this.isVisible=!1,this._subscription=new c.Subscription,this._subscription.add(this.viewDirectionService.currentDirection.subscribe(t=>{this.rtlDirection=t,this.setupCalendar()}))}ngAfterViewInit(){this.setupCalendar()}setupCalendar(){const t=document.querySelector("#rate-container");t&&(this.containerHeight=t.offsetHeight),this.views={dayGridMonthCustom:{type:"dayGridMonth",buttonText:this.getTranslate("tasks.calendar.month")}},this.buttonLabels={today:this.getTranslate("tasks.calendar.today"),month:this.getTranslate("tasks.calendar.month"),week:this.getTranslate("tasks.calendar.week"),day:this.getTranslate("tasks.calendar.day"),list:this.getTranslate("tasks.calendar.list")},this.header=this.rtlDirection?{left:"title",center:"",right:"prev,next today"}:{left:"today prev,next",center:"",right:"title"}}ngOnChanges(t){if(this.calendarComponent){let t=this.calendarComponent.getApi();this.dateStart&&(t.gotoDate(this.dateStart),this.drawer.open(),document.querySelector("#full_calendar").classList.add("margin-r-full")),this.isVisible=!0}}ngDoCheck(){this.containerHeight=document.getElementById("rate-container").offsetHeight}ngAfterViewChecked(){document.getElementsByClassName("holiday-date").length||this.taskCalendarService.setHolidayHighlight(this.holidays)}getTranslate(t){return this.translateService.instant(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(u.a),h.Qb(_i),h.Qb(o.e),h.Qb(ii.a),h.Qb(v.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-calendar-rate"]],viewQuery:function(t,e){var i;1&t&&(h.Pc(ji,!0),h.Pc(Li,!0)),2&t&&(h.uc(i=h.fc())&&(e.calendarComponent=i.first),h.uc(i=h.fc())&&(e.drawer=i.first))},inputs:{usersList:"usersList",loginData:"loginData",calendarDifferentEvents:"calendarDifferentEvents",sumTime:"sumTime",dateStart:"dateStart",userSelected:"userSelected",holidays:"holidays"},features:[h.Ab],decls:7,vars:19,consts:[["autosize","","id","rate-container",1,"rate-calendar","display-flex","flex-space-between","padding-tiny-t-b"],["mode","side",1,"round-corner","mat-elevation-z1","padding-tiny-r-l",3,"disableClose"],["drawer",""],["class","padding-half",4,"ngIf"],[1,"padding-mini-r-l","full-height",3,"dir","ngClass"],["defaultView","dayGridMonth","id","full_calendar",1,"full-height",3,"allDaySlot","buttonText","dir","displayEventTime","editable","eventLimit","events","firstDay","handleWindowResize","header","height","locale","plugins","slotLabelFormat","views"],["calendar",""],[1,"padding-half"],[1,"width-70","height-70","display-block","margin-t-b","margin-auto","text-center","round-corner-all","margin-auto","pos-rel","top-six-tenth","mat-elevation-z2",3,"alt","src"],[1,"padding-t-b","display-flex","align-items-center"],[1,"width-20","height-20","line-height-20","font-full-plus-half-em"],[3,"ngClass"]],template:function(t,e){1&t&&(h.Wb(0,"mat-drawer-container",0),h.Wb(1,"mat-drawer",1,2),h.Hc(3,Bi,18,12,"div",3),h.Vb(),h.Wb(4,"div",4),h.Rb(5,"full-calendar",5,6),h.Vb(),h.Vb()),2&t&&(h.Cb(1),h.oc("disableClose",!0),h.Cb(2),h.oc("ngIf",e.userSelected&&e.userSelected.email),h.Cb(1),h.oc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"ca-rtl":"ca-ltr"),h.Cb(1),h.oc("allDaySlot",!1)("buttonText",e.buttonLabels)("dir",e.rtlDirection?"rtl":"ltr")("displayEventTime",!1)("editable",!1)("eventLimit",2)("events",e.calendarDifferentEvents)("firstDay",1)("handleWindowResize",!0)("header",e.header)("height",e.containerHeight)("locale",e.rtlDirection?"fa":"en")("plugins",e.calendarPlugins)("slotLabelFormat",e.slotLabelFormat)("views",e.views))},directives:[ri.b,ri.a,r.t,y.b,r.q,qt.a,T.a],pipes:[o.d],styles:[".fc{font-family:inherit!important}.ca-rtl .fc-toolbar{direction:rtl!important}.ca-rtl .fc-button-group{direction:rtl}.ca-ltr .fc-toolbar{direction:ltr!important}.ca-ltr .fc-button-group{direction:ltr}"],encapsulation:2}),t})();const Fi=["bottomSheet"],Ei=["calendar"];function Ni(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",5),h.Wb(1,"app-task-calendar-weekday",7),h.ec("triggerBottomSheet",(function(e){return h.zc(t),h.ic().openButtonSheet(e)})),h.Vb(),h.Rb(2,"app-task-bottom-sheet",null,8),h.Vb()}if(2&t){const t=h.ic();h.Cb(1),h.oc("calendarEvents",t.calendarEvents)("holidays",t.holidays)("loginData",t.loginData)}}function Oi(t,e){if(1&t&&(h.Wb(0,"div",5),h.Rb(1,"app-task-calendar-rate",9),h.Vb()),2&t){const t=h.ic();h.Cb(1),h.oc("calendarDifferentEvents",t.calendarParameters.calendarEvent)("dateStart",t.calendarParameters.dateStart)("holidays",t.holidays)("loginData",t.loginData)("sumTime",t.calendarParameters.sumTime)("userSelected",t.calendarParameters.userSelected)("usersList",t.usersList)}}const Mi=function(t){return{"view-mode":t}};let Ri=(()=>{class t extends l.a{constructor(t,e,i,r,n,o){super(i,r),this.dialog=t,this.api=e,this.injector=i,this.userInfoService=r,this.refreshLoginService=n,this.loadingIndicatorService=o,this.refreshData=!1,this.onTabLoaded=new h.o,this.tasks=[],this.usersList=[],this.projectsList=[],this.calendarEvents=[],this.holidays=[],this.colorArray=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#dbc00d","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#ff9800","#607d8b","#444444"],this.viewModeTypes="calendar_task",this._subscription=new c.Subscription}ngOnInit(){this.options={columnHeaderHtml:()=>"<b>Friday!</b>"},this.getBoards()}changeViewMode(t){this.viewModeTypes=t,this.onTabLoaded.emit(this.viewModeTypes)}openButtonSheet(t){t.bottomSheetRef=this.bottomSheet,this.bottomSheet.toggleBottomSheet(t)}getBoards(t=null){t?1===t.result&&(this.usersList=t.content.users.list,this.projectsList=t.content.projects.list,this.tasks=t.content.boards.list,this.tasks.map(t=>{t.title=t.taskName,t.start=new Date(t.startAt),t.end=new Date(t.stopAt),t.color=this.colorArray[Math.floor(Math.random()*this.colorArray.length)],t.usersList=this.usersList,t.projectsList=this.projectsList,t.imageurl="img/edit.png"}),this.calendarEvents=this.tasks):this.loggedInUser&&this.loggedInUser.email&&(this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"project"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.getAllHolidays().subscribe(t=>{t.content.forEach(t=>{this.holidays.push(t.date)});const e=this.holidays;this._subscription.add(this.api.boardsCalendar(this.loggedInUser.email).subscribe(t=>{if(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),1===t.result){this.usersList=t.content.users.list,this.projectsList=t.content.projects.list,this.tasks=t.content.boards.list;let i=[];this.tasks.map(t=>{let r=[];r=this.getDaysArray(new Date(t.startAt),new Date(t.stopAt));let n=this.colorArray[Math.floor(Math.random()*this.colorArray.length)];r.map(r=>{let o=Object.assign({title:t.taskName,color:n,imageurl:"assets/profileImg/"+t.assignTo.email+".jpg",start:r,end:r,usersList:this.usersList,projectsList:this.projectsList},t),s=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2);e.includes(s)||i.push(o)})}),this.calendarEvents=i}},t=>{this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"project"}),this.refreshLoginService.openLoginDialog(t)}))})))}getDaysArray(t,e){for(var i=[],r=new Date(t);r<=e;r.setDate(r.getDate()+1))i.push(new Date(r));return i}ngOnDestroy(){this.viewModeTypes=null,this.onTabLoaded.emit(this.viewModeTypes),this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(d.b),h.Qb(u.a),h.Qb(h.s),h.Qb(p.a),h.Qb(b.a),h.Qb(g.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["app-task-calendar"]],viewQuery:function(t,e){var i;1&t&&(h.Pc(Fi,!0),h.Pc(Ei,!0)),2&t&&(h.uc(i=h.fc())&&(e.bottomSheet=i.first),h.uc(i=h.fc())&&(e.calendarComponent=i.first))},inputs:{calendarParameters:"calendarParameters",filterBoards:"filterBoards",refreshData:"refreshData",rtlDirection:"rtlDirection"},outputs:{onTabLoaded:"onTabLoaded"},features:[h.zb],decls:15,vars:13,consts:[[1,"content-container","padding-mini-r-l","full-width","full-height"],[1,"calendar-switcher","pos-abs","left-0","right-0","top-full","text-center","margin-auto"],["value","calendar_task",1,"mat-button-custom","line-height-20","center-block","round-corner-all",3,"ngClass","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"full-height"],["class","full-height",4,"ngIf"],[3,"calendarEvents","holidays","loginData","triggerBottomSheet"],["bottomSheet",""],[3,"calendarDifferentEvents","dateStart","holidays","loginData","sumTime","userSelected","usersList"]],template:function(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",0),h.Wb(1,"div",1),h.Wb(2,"mat-button-toggle-group",2,3),h.ec("change",(function(){h.zc(t);const i=h.vc(3);return e.changeViewMode(i.value)})),h.Wb(4,"mat-button-toggle",4),h.Wb(5,"span"),h.Jc(6),h.jc(7,"translate"),h.Vb(),h.Vb(),h.Wb(8,"mat-button-toggle",4),h.Wb(9,"span"),h.Jc(10),h.jc(11,"translate"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Ub(12,5),h.Hc(13,Ni,4,3,"div",6),h.Hc(14,Oi,2,7,"div",6),h.Tb(),h.Vb()}if(2&t){const t=h.vc(3);h.Cb(2),h.oc("ngClass",h.rc(11,Mi,t)),h.Cb(2),h.oc("value","calendar_task"),h.Cb(2),h.Kc(h.kc(7,7,"tasks.form.task_calendar")),h.Cb(2),h.oc("value","calendar_task_rate"),h.Cb(2),h.Kc(h.kc(11,9,"tasks.form.task_calendar_hours")),h.Cb(3),h.oc("ngIf","calendar_task"==e.viewModeTypes),h.Cb(1),h.oc("ngIf","calendar_task_rate"==e.viewModeTypes)}},directives:[Yt.b,r.q,Yt.a,r.t,oi,ci,Wi],pipes:[o.d],styles:['@charset "UTF-8";.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-highlight{background:#bce8f1;opacity:.3}.fc-bgevent{background:#8fdf82;opacity:.3}.fc-nonbusiness{background:#d7d7d7}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:2px 4px}.fc-rtl .fc-popover .fc-header{flex-direction:row-reverse}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-bg,.fc-bgevent-skeleton,.fc-highlight-skeleton,.fc-mirror-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;box-sizing:border-box;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}a[data-goto]{cursor:pointer}a[data-goto]:hover{text-decoration:underline}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-bgevent-skeleton td,.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-mirror-skeleton{z-index:5}.fc .fc-row .fc-content-skeleton table,.fc .fc-row .fc-content-skeleton td,.fc .fc-row .fc-mirror-skeleton td{background:none;border-color:transparent}.fc-row .fc-content-skeleton td,.fc-row .fc-mirror-skeleton td{border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-mirror-skeleton tbody td{border-top:0}.fc-scroller{-webkit-overflow-scrolling:touch}.fc-scroller>.fc-day-grid,.fc-scroller>.fc-time-grid{position:relative;width:100%}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.4;border-radius:3px;border:1px solid #3788d8}.fc-event,.fc-event-dot{background-color:#3788d8}.fc-event,.fc-event:hover{color:#fff;text-decoration:none}.fc-event.fc-draggable,.fc-event[href]{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:4;display:none}.fc-event.fc-allow-mouse-resize .fc-resizer,.fc-event.fc-selected .fc-resizer{display:block}.fc-event.fc-selected .fc-resizer:before{content:"";position:absolute;z-index:9999;top:50%;left:50%;width:40px;height:40px;margin-left:-20px;margin-top:-20px}.fc-event.fc-selected{z-index:9999!important;box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event.fc-selected:after{content:"";position:absolute;z-index:1;top:-1px;right:-1px;bottom:-1px;left:-1px;background:#000;opacity:.25}.fc-event.fc-dragging.fc-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event.fc-dragging:not(.fc-selected){opacity:.75}.fc-h-event.fc-selected:before{content:"";position:absolute;z-index:3;top:-10px;bottom:-10px;left:0;right:0}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-ltr .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-end-resizer{cursor:w-resize;left:-1px}.fc-ltr .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-start-resizer{cursor:e-resize;right:-1px}.fc-h-event.fc-allow-mouse-resize .fc-resizer{width:7px;top:-1px;bottom:-1px}.fc-h-event.fc-selected .fc-resizer{border-radius:4px;width:6px;height:6px;border:1px solid;border-color:inherit;background:#fff;top:50%;margin-top:-4px}.fc-ltr .fc-h-event.fc-selected .fc-start-resizer,.fc-rtl .fc-h-event.fc-selected .fc-end-resizer{margin-left:-4px}.fc-ltr .fc-h-event.fc-selected .fc-end-resizer,.fc-rtl .fc-h-event.fc-selected .fc-start-resizer{margin-right:-4px}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}tr:first-child>td>.fc-day-grid-event{margin-top:2px}.fc-mirror-skeleton tr:first-child>td>.fc-day-grid-event{margin-top:0}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer{margin-left:-2px}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer{margin-right:-2px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-now-indicator{position:absolute;border:0 solid red}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc-unthemed .fc-content,.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-list-view,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff}.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed td.fc-today{background:#fcf8e3}.fc-unthemed .fc-disabled-day{background:#d7d7d7;opacity:.3}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\ue900"}.fc-icon-chevron-right:before{content:"\ue901"}.fc-icon-chevrons-left:before{content:"\ue902"}.fc-icon-chevrons-right:before{content:"\ue903"}.fc-icon-minus-square:before{content:"\ue904"}.fc-icon-plus-square:before{content:"\ue905"}.fc-icon-x:before{content:"\ue906"}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center}.fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc-button{-webkit-appearance:button}.fc-button:not(:disabled){cursor:pointer}.fc-button::-moz-focus-inner{padding:0;border-style:none}.fc-button{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc-button:hover{color:#212529;text-decoration:none}.fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc-button:disabled{opacity:.65}.fc-button-primary{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.fc-button-primary:hover{color:#fff;background-color:#1e2b37;border-color:#1a252f}.fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button-primary:disabled{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{color:#fff;background-color:#1a252f;border-color:#151e27}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc-button-group>.fc-button.fc-button-active,.fc-button-group>.fc-button:active,.fc-button-group>.fc-button:focus,.fc-button-group>.fc-button:hover{z-index:1}.fc-button-group>.fc-button:not(:first-child){margin-left:-1px}.fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-button-group>.fc-button:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc-unthemed .fc-popover{border-width:1px;border-style:solid}.fc-unthemed .fc-list-item:hover td{background-color:#f5f5f5}.fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-toolbar h2{font-size:1.75em;margin:0}.fc-view-container{position:relative}.fc-view-container *,.fc-view-container :after,.fc-view-container :before{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}@media print{.fc{max-width:100%!important}.fc-event{background:#fff!important;color:#000!important;page-break-inside:avoid}.fc-event .fc-resizer{display:none}.fc-row,.fc hr,.fc tbody,.fc td,.fc th,.fc thead{border-color:#ccc!important;background:#fff!important}.fc-bg,.fc-bgevent-container,.fc-bgevent-skeleton,.fc-business-container,.fc-highlight-container,.fc-highlight-skeleton,.fc-mirror-container,.fc-mirror-skeleton{display:none}.fc tbody .fc-row{height:auto!important;min-height:0!important}.fc tbody .fc-row .fc-content-skeleton{position:static;padding-bottom:0!important}.fc tbody .fc-row .fc-content-skeleton tbody tr:last-child td{padding-bottom:1em}.fc tbody .fc-row .fc-content-skeleton table{height:1em}.fc-more,.fc-more-cell{display:none!important}.fc tr.fc-limited{display:table-row!important}.fc td.fc-limited{display:table-cell!important}.fc-popover{display:none}.fc-time-grid{min-height:0!important}.fc-timeGrid-view .fc-axis{display:none}.fc-slats,.fc-time-grid hr{display:none!important}.fc-time-grid .fc-content-skeleton{position:static}.fc-time-grid .fc-content-skeleton table{height:4em}.fc-time-grid .fc-event-container{margin:0!important}.fc-time-grid .fc-event{position:static!important;margin:3px 2px!important}.fc-time-grid .fc-event.fc-not-end{border-bottom-width:1px!important}.fc-time-grid .fc-event.fc-not-end:after{content:"..."}.fc-time-grid .fc-event.fc-not-start{border-top-width:1px!important}.fc-time-grid .fc-event.fc-not-start:before{content:"..."}.fc-time-grid .fc-event .fc-time{white-space:normal!important}.fc-time-grid .fc-event .fc-time span{display:none}.fc-time-grid .fc-event .fc-time:after{content:attr(data-full)}.fc-day-grid-container,.fc-scroller,.fc-time-grid-container{overflow:visible!important;height:auto!important}.fc-row{border:0!important;margin:0!important}.fc-button-group,.fc button{display:none}}.fc-dayGridDay-view .fc-content-skeleton,.fc-dayGridWeek-view .fc-content-skeleton{padding-bottom:1em}.fc-dayGrid-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-day-top.fc-other-month{opacity:.3}.fc-dayGrid-view .fc-day-number,.fc-dayGrid-view .fc-week-number{padding:2px}.fc-dayGrid-view th.fc-day-number,.fc-dayGrid-view th.fc-week-number{padding:0 2px}.fc-ltr .fc-dayGrid-view .fc-day-top .fc-day-number{float:right}.fc-rtl .fc-dayGrid-view .fc-day-top .fc-day-number{float:left}.fc-ltr .fc-dayGrid-view .fc-day-top .fc-week-number{float:left;border-radius:0 0 3px}.fc-rtl .fc-dayGrid-view .fc-day-top .fc-week-number{float:right;border-radius:0 0 0 3px}.fc-dayGrid-view .fc-day-top .fc-week-number{min-width:1.5em;text-align:center;background-color:#f2f2f2;color:grey}.fc-dayGrid-view td.fc-week-number{text-align:center}.fc-dayGrid-view td.fc-week-number>*{display:inline-block;min-width:1.25em}.fc-timeGrid-view .fc-day-grid{position:relative;z-index:2}.fc-timeGrid-view .fc-day-grid .fc-row{min-height:3em}.fc-timeGrid-view .fc-day-grid .fc-row .fc-content-skeleton{padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.fc-time-grid,.fc-time-grid-container{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-content-col{position:relative}.fc-time-grid .fc-content-skeleton{position:absolute;z-index:3;top:0;left:0;right:0}.fc-time-grid .fc-business-container{position:relative;z-index:1}.fc-time-grid .fc-bgevent-container{position:relative;z-index:2}.fc-time-grid .fc-highlight-container{z-index:3;position:relative}.fc-time-grid .fc-event-container{position:relative;z-index:4}.fc-time-grid .fc-now-indicator-line{z-index:5}.fc-time-grid .fc-mirror-container{position:relative;z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-bgevent,.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-time-grid-event{margin-bottom:1px}.fc-time-grid-event-inset{box-shadow:0 0 0 1px #fff}.fc-time-grid-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-time-grid-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event .fc-content{overflow:hidden;max-height:100%}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:"\xa0-\xa0"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer:after{content:"="}.fc-time-grid-event.fc-selected .fc-resizer{border-radius:5px;width:8px;height:8px;border:1px solid;border-color:inherit;background:#fff;left:50%;margin-left:-5px;bottom:-5px}.fc-time-grid .fc-now-indicator-line{border-top-width:1px;left:0;right:0}.fc-time-grid .fc-now-indicator-arrow{margin-top:-5px}.fc-ltr .fc-time-grid .fc-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-rtl .fc-time-grid .fc-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}.calendar-switcher{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.fc-day-number{padding:5px!important}.fc-view .fc-event,.fc-view .fc-event-dot{border:none!important;margin:3px 10px!important;border-radius:5px!important;color:#fff!important;padding:3px 9px!important;font-size:13px!important;cursor:pointer;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}'],encapsulation:2}),t})();var zi=i("VSJZ"),Qi=i("1yaQ"),Pi=i("K1Y9"),Hi=i("n90K"),Gi=i("vxfF"),Ji=i("/1cH"),Ui=i("TU8p"),qi=i("2ChS"),Ki=i("bSwM"),Xi=i("A5z7"),Yi=i("7EHt"),$i=i("ihCf"),Zi=i("f0Cb"),tr=i("STbY"),er=i("bv9b"),ir=i("dNgK"),rr=i("wZkO"),nr=i("/t3+"),or=i("QibW"),sr=i("UXJo"),ar=i("+rOU"),cr=i("Z4Gg"),lr=i("/Hbh");const dr=Object(Hi.a)("defaultLang"),hr=null!==dr&&"fa"===dr?"fa":"en-GB";let ur=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(Xe)}}return t.\u0275mod=h.Ob({type:t}),t.\u0275inj=h.Nb({factory:function(e){return new(e||t)(h.ac(h.j))},providers:[{provide:D.c,useClass:"fa"===hr?zi.a:Qi.a,deps:[D.f]},{provide:D.f,useValue:"fa"===hr?hr:"en-GB"},{provide:D.e,useFactory:t=>t===("fa"===hr)?Pi.a:Pi.b,deps:[D.f]},{provide:zi.b,useValue:{useUtc:!0}}],imports:[[r.c,n.a,s.P,qt.b,o.c.forChild()]]}),t})();h.Cc(jt,[r.q,r.r,r.s,r.t,r.A,r.w,r.x,r.y,r.z,r.u,r.v,a.I,a.x,a.H,a.c,a.y,a.B,a.a,a.E,a.F,a.A,a.s,a.t,a.D,a.o,a.n,a.z,a.b,a.d,a.v,a.w,a.u,Gi.a,Ji.a,D.o,D.n,Ji.d,Ji.c,y.b,Ui.a,Xt.e,Xt.f,Xt.a,Xt.b,Xt.d,Xt.c,qi.a,I.b,I.a,Yt.b,Yt.a,Fe.a,Fe.f,Fe.n,Fe.d,Fe.m,Fe.l,Fe.b,Fe.e,Fe.k,Fe.i,Fe.h,Fe.g,Fe.o,Fe.c,Ki.a,Ki.c,Xi.d,Xi.a,Xi.c,Xi.e,Xi.b,Xi.f,x.a,x.b,x.d,x.e,x.f,x.h,x.i,x.j,x.l,x.k,x.c,d.e,d.d,d.i,d.f,d.c,Yi.a,Yi.c,Yi.d,Yi.g,Yi.h,Yi.f,Yi.e,We.b,We.d,We.g,D.k,We.f,We.e,We.a,T.a,$i.b,$i.c,k.b,k.c,k.f,k.g,k.h,k.i,k.j,w.b,w.d,zt.a,zt.h,zt.d,zt.b,zt.c,zt.g,D.r,zt.i,zt.f,Zi.a,tr.e,tr.b,tr.d,tr.a,er.a,Ee.a,Ee.c,C.a,C.c,ri.a,ri.b,ri.c,ri.d,ri.e,ri.f,A.a,S.c,S.a,ir.c,rr.c,rr.d,rr.a,rr.f,rr.e,rr.b,nr.a,nr.c,$t.a,$t.c,te.n,te.i,te.k,te.c,te.b,te.m,te.e,te.g,te.h,te.a,te.d,te.j,te.l,te.f,te.q,Zt.a,or.b,or.a,sr.a,ar.b,ar.c,ar.k,ar.g,o.a,cr.a,a.h,a.k,a.i,a.l,a.e,lr.a,s.h,s.mb,s.nb,s.ob,s.pb,s.gb,s.hb,s.f,s.s,s.A,s.fb,s.x,s.J,s.K,s.Z,s.y,s.z,s.E,s.F,s.cb,s.db,s.eb,s.a,s.lb,s.c,s.d,s.e,s.g,s.i,s.k,s.j,s.l,s.m,s.p,s.o,s.q,s.r,s.n,s.ab,s.bb,s.t,s.u,s.H,s.G,s.I,s.M,s.L,s.N,s.X,s.Y,s.v,s.w,s.Q,s.b,s.V,s.R,s.S,s.T,s.U,s.W,s.ib,s.jb,s.kb,s.O,s.D,s.B,s.C,qt.a,Y,Wt,jt,K,Ut,He,je,dt,ye,Xe,ti,Ri,Ae,ci,Wi,vt,oi,ee],[r.b,r.G,r.p,r.k,r.E,r.g,r.C,r.F,r.d,r.f,r.i,r.j,r.l,Qt.a,o.d])},g5Dd:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),r=0;r<t.length;r++)i[t.charCodeAt(r)]=r;e.encode=function(e){var i,r=new Uint8Array(e),n=r.length,o="";for(i=0;i<n;i+=3)o+=t[r[i]>>2],o+=t[(3&r[i])<<4|r[i+1]>>4],o+=t[(15&r[i+1])<<2|r[i+2]>>6],o+=t[63&r[i+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,n,o,s,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var d=new ArrayBuffer(a),h=new Uint8Array(d);for(e=0;e<c;e+=4)r=i[t.charCodeAt(e)],n=i[t.charCodeAt(e+1)],o=i[t.charCodeAt(e+2)],s=i[t.charCodeAt(e+3)],h[l++]=r<<2|n>>4,h[l++]=(15&n)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return d}}()},gFX4:function(t,e,i){var r=i("zJ60"),n=i("Vo14"),o=i("eOtv"),s=i("x7D4")("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n=r(t),c=n.source,l=n.id;return e.forceNew||e["force new connection"]||!1===e.multiplex||a[l]&&n.path in a[l].nsps?(s("ignoring socket cache for %s",c),i=o(c,e)):(a[l]||(s("new io instance for %s",c),a[l]=o(c,e)),i=a[l]),n.query&&!e.query&&(e.query=n.query),i.socket(n.path,e)}e.protocol=n.protocol,e.connect=c,e.Manager=i("eOtv"),e.Socket=i("KFGy")},kSER:function(t,e){t.exports=function(t,e){for(var i=[],r=(e=e||0)||0;r<t.length;r++)i[r-e]=t[r];return i}},lKxJ:function(t,e,i){t.exports=i("2pII"),t.exports.parser=i("Wm4p")},lhf0:function(t,e,i){function r(t){var i;function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;c++;var n=e.formatters[r];return"function"==typeof n&&(i=n.call(t,s[c]),s.splice(c,1),c--),i})),e.formatArgs.call(t,s);var l=r.log||e.log||console.log.bind(console);l.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var i,r=0;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=n,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var i;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var o=e.instances[i];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i("WiHW"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},mrmJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i("7RJT"),n=i("fXoL");let o=(()=>{class t{constructor(){this._loadingStatus={status:!1,serviceName:""},this.loadingStatus=new r.BehaviorSubject(this._loadingStatus),this.currentLoadingStatus=this.loadingStatus.asObservable()}changeLoadingStatus(t){this.loadingStatus.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"oIG/":function(t,e){var i,r,n,o=String.fromCharCode;function s(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return o(t);var i="";return 0==(4294965248&t)?i=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),i=o(t>>12&15|224),i+=c(t,6)):0==(4292870144&t)&&(i=o(t>>18&7|240),i+=c(t,12),i+=c(t,6)),i+o(63&t|128)}function d(){if(n>=r)throw Error("Invalid byte index");var t=255&i[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,o;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&i[n],n++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|d())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|d()<<6|d())>=2048)return a(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|d()<<12|d()<<6|d())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var i=!1!==(e=e||{}).strict,r=s(t),n=r.length,o=-1,a="";++o<n;)a+=l(r[o],i);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;i=s(t),r=i.length,n=0;for(var c,l=[];!1!==(c=h(a));)l.push(c);return function(t){for(var e,i=t.length,r=-1,n="";++r<i;)(e=t[r])>65535&&(n+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=o(e);return n}(l)}}},ojuT:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},uDUn:function(t,e){var i=1e3,r=6e4,n=60*r,o=24*n;function s(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,n,"hour")||s(a,r,"minute")||s(a,i,"second")||a+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},x7D4:function(t,e,i){function r(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=i("Q80o")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(r())},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},ypnn:function(t,e){t.exports=function(t,e,i){var r=t.byteLength;if(e=e||0,i=i||r,t.slice)return t.slice(e,i);if(e<0&&(e+=r),i<0&&(i+=r),i>r&&(i=r),e>=r||e>=i||0===r)return new ArrayBuffer(0);for(var n=new Uint8Array(t),o=new Uint8Array(i-e),s=e,a=0;s<i;s++,a++)o[a]=n[s];return o.buffer}},zJ60:function(t,e,i){var r=i("Uxeu"),n=i("x7D4")("socket.io-client:url");t.exports=function(t,e){var i=t;e=e||global.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),n("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port,i.href=i.protocol+"://"+o+(e&&e.port===i.port?"":":"+i.port),i}},zMFY:function(t,e){function i(){}t.exports=function(t,e,r){var n=!1;return r=r||i,o.count=t,0===t?e():o;function o(t,i){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(n=!0,e(t),e=r):0!==o.count||n||e(null,i)}}}}]);