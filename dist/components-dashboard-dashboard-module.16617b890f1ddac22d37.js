(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5+sL":function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return gn}));var r,i=n("PCNd"),o=n("tyNb"),a=n("ofXK"),c=n("rDax"),s=n("+rOU"),l=n("fXoL"),u=function(){function t(){}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[a.c,c.f,s.i]]}),t}(),p=n("sYmb"),f=n("AytR"),g=n("EEPM"),h=n("zB/H"),d=n("XiUW"),m=n("ue6I"),b=n("DDyt"),v=n("Y2ut"),_=n("0d0Z"),y=n("unh5"),w=n("Qjjq"),x=n("qcsm"),S=n("tk/3"),k=function(){function t(t,e){this.http=t,this.companySelectorService=e,this.accessToken="",this.currentCompany=null,this.API_URL=f.a.CONTAINER_URL+"/attendance",this.headers={headers:new S.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return t.prototype.getStatuses=function(){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/statusList?comp_id="+this.currentCompany.id,this.headers)},t.prototype.userChangeStatus=function(t){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/userChangeStatus?comp_id="+this.currentCompany.id,t,this.headers)},t.\u0275fac=function(e){return new(e||t)(l.Xb(S.a),l.Xb(w.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),H=n("dJ3e"),C=n("0IaG"),M=n("OC8m"),O=n("cH1L"),T=n("MutI"),I=n("FKr1"),P=n("bTqV"),A=n("NFeN"),z=function(){function t(t,e,n,r,i){var o=this;this.electronService=t,this.translateService=e,this.softPhoneService=n,this.notificationService=r,this.companySelectorService=i,this.currentPhoneNumber="",this.incomingStatus=!1,this.incomingData=null,this.softPhoneUsers=[],this.onCallUser=null,this._subscription=new h.Subscription,this._subscription.add(this.softPhoneService.currentSoftPhoneUsers.subscribe((function(t){return o.softPhoneUsers=t}))),this._subscription.add(this.softPhoneService.currentIncomingCallStatus.subscribe((function(t){if(t&&(o.incomingStatus=t.status,t.data)){o.incomingData=t.data,o.currentPhoneNumber=o.incomingData.o_event.o_session.o_uri_from.s_user_name,o.currentPhoneNumber=o.currentPhoneNumber.replace("-"+o.companySelectorService.currentCompany.subdomain,"");var e="",n=o.getTranslate("soft_phone.incoming_call.want_to_call_with_you");if(o.softPhoneUsers){var r=o.softPhoneUsers.filter((function(t){return t.extension_no===o.currentPhoneNumber})).pop();if(r?(o.onCallUser=r,o.onCallUser.extension_no=o.currentPhoneNumber,e=r.extension_name):e=o.getTranslate("soft_phone.incoming_call.unknown_caller"),o.electronService.isElectron&&!o.electronService.remote.getCurrentWindow().isFocused()){var i=new Notification(e+" "+n,{body:o.getTranslate("soft_phone.incoming_call.do_you_accept"),icon:"assets/profileImg/"+r.username+".jpg",dir:"auto",data:r});o.notificationService.changeCurrentNotification(i)}}}}))),this._subscription.add(this.notificationService.currentNotification.subscribe((function(t){t&&(t.onclick=function(){o.electronService.isElectron&&o.electronService.remote.getCurrentWindow().show()},t.onclose=function(){o.decline_call()})})))}return t.prototype.decline_call=function(){this.softPhoneService.sipHangUp(),this.softPhoneService.changeIncomingCallStatus({status:!1})},t.prototype.accept_call=function(){this.softPhoneService.sipCall("call-audio"),this.softPhoneService.changeOnCallUser(this.onCallUser),this.softPhoneService.changeIncomingCallStatus({status:!1})},t.prototype.getTranslate=function(t){return this.translateService.instant(t)},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(l.Nb(H.a),l.Nb(p.d),l.Nb(v.a),l.Nb(M.a),l.Nb(w.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-soft-phone-incoming-call"]],inputs:{rtlDirection:"rtlDirection"},decls:37,vars:11,consts:[[1,"width-350","height-100","mat-elevation-z5","transition","bg-white","pos-fix","left-0","right-0","margin-auto","padding-mini-t-b","padding-r-l","z-index-9999","round-corner-bottom-left","round-corner-bottom-right",3,"dir","ngClass"],[1,"soft-phone-user","full-width","height-50"],[1,"padding-mini-r-l","full-height"],["matListAvatar","",1,"mat-elevation-z2",3,"src","error"],["matLine","",1,"font-8-rem","text-weight-bold"],[1,"height-30","display-flex","justify-content-end",3,"dir"],["mat-raised-button","",1,"red-gradient","padding-mini-r-l","margin-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],["mat-raised-button","",1,"green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"mat-list",1),l.Hc(3,"\n    "),l.Tb(4,"mat-list-item",2),l.Hc(5,"\n      "),l.Tb(6,"img",3),l.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),l.Sb(),l.Hc(7,"\n      "),l.Tb(8,"h3",4),l.Hc(9),l.Sb(),l.Hc(10,"\n    "),l.Sb(),l.Hc(11,"\n  "),l.Sb(),l.Hc(12,"\n\n  "),l.Tb(13,"div",5),l.Hc(14,"\n    "),l.Tb(15,"button",6),l.ac("click",(function(){return e.decline_call()})),l.Hc(16,"\n      "),l.Tb(17,"mat-icon",7),l.Hc(18,"phone_disabled"),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"span",8),l.Hc(21),l.fc(22,"translate"),l.Sb(),l.Hc(23,"\n    "),l.Sb(),l.Hc(24,"\n\n    "),l.Tb(25,"button",9),l.ac("click",(function(){return e.accept_call()})),l.Hc(26,"\n      "),l.Tb(27,"mat-icon",7),l.Hc(28,"phone_callback"),l.Sb(),l.Hc(29,"\n      "),l.Tb(30,"span",8),l.Hc(31),l.fc(32,"translate"),l.Sb(),l.Hc(33,"\n    "),l.Sb(),l.Hc(34,"\n  "),l.Sb(),l.Hc(35,"\n"),l.Sb(),l.Hc(36,"\n")),2&t&&(l.kc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.incomingStatus?"top-0":"top-full-reverse-percent"),l.Bb(6),l.kc("src","assets/profileImg/"+(e.onCallUser?e.onCallUser.username:"0")+".jpg",l.xc),l.Bb(3),l.Jc("\n        ",e.onCallUser?e.onCallUser.username:e.currentPhoneNumber,"\n      "),l.Bb(4),l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(8),l.Ic(l.gc(22,7,"soft_phone.incoming_call.decline")),l.Bb(10),l.Ic(l.gc(32,9,"soft_phone.incoming_call.accept")))},directives:[O.b,a.i,T.a,T.d,T.b,I.j,P.a,A.a],pipes:[p.c],encapsulation:2}),t}(),D=n("FD2y"),B=n("PqYM"),L=n("wd/R"),R=n("LvDl"),j=function(){function t(t,e){this.http=t,this.companySelectorService=e,this.accessToken="",this.API_URL=f.a.CONTAINER_URL+"/attendance",this.headers={headers:new S.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return t.prototype.userScreenshot=function(t){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.post(this.API_URL+"/userScreenshot?comp_id="+this.currentCompany.id,t,this.headers)},t.prototype.getTickTock=function(){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.get(this.API_URL+"/userScreenshot/serverTickTock?comp_id="+this.currentCompany.id,this.headers)},t.\u0275fac=function(e){return new(e||t)(l.Xb(S.a),l.Xb(w.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),U=n("LyM2"),N=n("b6YF"),E=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),F=function(t){function e(e,n,r,i,o,a){var c=t.call(this,n,a)||this;return c.api=e,c.injector=n,c.electronService=r,c.changeStatusService=i,c.currentTaskService=o,c.userInfoService=a,c.timerDueTime=3e4,c.timerPeriod=3e4,c.userCurrentStatus="",c.currentTasks=null,c.availableHours=[{time:"00",status:!1},{time:"01",status:!1},{time:"02",status:!1},{time:"03",status:!1},{time:"04",status:!1},{time:"05",status:!1},{time:"06",status:!1},{time:"07",status:!1},{time:"08",status:!1},{time:"09",status:!1},{time:"10",status:!1},{time:"11",status:!1},{time:"12",status:!1},{time:"13",status:!1},{time:"14",status:!1},{time:"15",status:!1},{time:"16",status:!1},{time:"17",status:!1},{time:"18",status:!1},{time:"19",status:!1},{time:"20",status:!1},{time:"21",status:!1},{time:"22",status:!1},{time:"23",status:!1}],c.randomHours=[],c.globalTimer=null,c._subscription=new h.Subscription,c._subscription.add(c.changeStatusService.currentUserStatus.subscribe((function(t){if(c.userCurrentStatus=t,c.userCurrentStatus&&1===c.userCurrentStatus.id)null===c.globalTimer&&c.runTimerForScreenshot();else if(null!==c.globalTimer)try{c.globalTimerSubscription.unsubscribe(),c.globalTimer=null}catch(e){console.log(e)}}))),c._subscription.add(c.currentTaskService.currentTask.subscribe((function(t){return c.currentTasks=t}))),c}return E(e,t),e.prototype.runTimerForScreenshot=function(){var t=this;f.a.production&&(this.globalTimer=Object(B.a)(this.timerDueTime,this.timerPeriod),this.randomHours=R.sampleSize(this.availableHours,5),this.globalTimerSubscription=this.globalTimer.subscribe((function(){t.loginData&&t.loginData.token_type&&(t.api.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t.api.getTickTock().subscribe((function(e){if(e.success){var n=e.data.time,r=new Date,i=L(n).format("YYYY-MM-DD HH-mm"),o=L(r).format("YYYY-MM-DD HH-mm"),a=L(n).format("HH"),c=R.find(t.randomHours,(function(t){return t.time===a}));c&&!1===c.status&&(c.status=!0,t.takeAScreenShot()),i!==o&&console.warn("Different server and local time")}else console.warn("Server Tick Tack ")})))})))},e.prototype.takeAScreenShot=function(){var t=this;this.electronService.desktopCapturer.getSources({types:["screen"],thumbnailSize:{width:800,height:600},fetchWindowIcons:!0}).then((function(e){return n=t,void 0,i=function(){var t,n;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(r){switch(r.label){case 0:return t=[],[4,e.map((function(e){var n=e.thumbnail.toDataURL({scaleFactor:1});t.push(n)}))];case 1:return r.sent(),n={user_id:this.loggedInUser.id,files:t},this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.userScreenshot(n).subscribe((function(t){}),(function(t){console.log(t)}))),[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{c(i.next(t))}catch(n){e(n)}}function a(t){try{c(i.throw(t))}catch(n){e(n)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,a)}c((i=i.apply(n,[])).next())}));var n,r,i})).catch((function(t){throw t.message}))},e.prototype.determineScreenShot=function(){var t=this.electronService.electronScreen.getPrimaryDisplay().workAreaSize,e=Math.max(t.width,t.height);return{width:e*window.devicePixelRatio,height:e*window.devicePixelRatio}},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb(j),l.Nb(l.t),l.Nb(H.a),l.Nb(N.a),l.Nb(U.a),l.Nb(b.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-screenshot"]],features:[l.yb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),e}(m.a),W=n("STbY");function Y(t,e){if(1&t){var n=l.Ub();l.Tb(0,"button",6),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec().openService(t)})),l.Hc(1,"\n    "),l.Tb(2,"mat-icon",1),l.Hc(3),l.Sb(),l.Hc(4,"\n\n    "),l.Tb(5,"span",7),l.Hc(6),l.fc(7,"translate"),l.Sb(),l.Hc(8,"\n  "),l.Sb()}if(2&t){var r=e.$implicit,i=l.ec();l.Bb(3),l.Ic(r.icon),l.Bb(3),l.Jc("\n      ",l.gc(7,2,i.rtlDirection?r.name_fa:r.name),"\n    ")}}var Q=function(){function t(t){this.windowManagerService=t}return t.prototype.openService=function(t){this.windowManagerService.openWindowState(t)},t.\u0275fac=function(e){return new(e||t)(l.Nb(_.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-main-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:16,vars:7,consts:[[1,"box","pos-rel","mat-elevation-z1","width-40","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","no-margin","text-weight-normal","font-full-rem","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color display-flex align-items-center",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color","display-flex","align-items-center",3,"click"],[1,"font-full-plus-two-tenth-em","wrap-text"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"mat-icon",1),l.Hc(3,"menu"),l.Sb(),l.Hc(4,"\n"),l.Sb(),l.Hc(5,"\n"),l.Tb(6,"mat-menu",2,3),l.Hc(8,"\n  "),l.Tb(9,"h6",4),l.Hc(10),l.fc(11,"translate"),l.Sb(),l.Hc(12,"\n\n  "),l.Fc(13,Y,9,4,"button",5),l.Hc(14,"\n"),l.Sb(),l.Hc(15,"\n")),2&t){var n=l.rc(7);l.kc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",n)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),l.Bb(10),l.Jc("\n    ",l.gc(11,5,"dashboard.dashboard_toolbar.service_list"),"\n  "),l.Bb(3),l.kc("ngForOf",e.serviceList)}},directives:[O.b,W.d,a.i,A.a,W.a,T.f,a.j,W.b],pipes:[p.c],styles:['.service-status[_ngcontent-%COMP%]:before{border-radius:100px!important;content:"";position:absolute;width:12px;height:12px;left:0;right:0;bottom:0;top:0;margin:auto}.service-status.online[_ngcontent-%COMP%]:before{background-color:#4ec060}.service-status.offline[_ngcontent-%COMP%]:before{background-color:#c30}.service-title[_ngcontent-%COMP%]{padding:0 .75em!important}.wrap-text[_ngcontent-%COMP%]{max-width:200px;white-space:normal;line-height:normal}']}),t}(),X=n("Qu3c"),V=function(t){return{"app-minimized":t}};function q(t,e){if(1&t){var n=l.Ub();l.Tb(0,"button",3),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec(2).controlWindow(t)})),l.Hc(1,"\n    "),l.Tb(2,"mat-icon",4),l.Hc(3),l.Sb(),l.Hc(4,"\n  "),l.Sb()}if(2&t){var r=e.$implicit,i=l.ec(2);l.kc("matTooltip",i.rtlDirection?r.windowService.serviceNameFa:r.windowService.serviceNameEn)("ngClass",l.nc(3,V,r.isMinimized)),l.Bb(3),l.Ic(r.windowService.icon)}}function $(t,e){if(1&t&&(l.Tb(0,"div",1),l.Hc(1,"\n  "),l.Fc(2,q,5,5,"button",2),l.Hc(3,"\n"),l.Sb()),2&t){var n=l.ec();l.kc("ngClass",n.rtlDirection?"margin-l-auto":"margin-r-auto"),l.Bb(2),l.kc("ngForOf",n.windowManager)}}var J=function(){function t(t){this.windowManagerService=t}return t.prototype.controlWindow=function(t){t.isMinimized?this.windowManagerService.restoreWindow(t.windowService):t.isMinimized||this.windowManagerService.minimizeWindow(t.windowService)},t.\u0275fac=function(e){return new(e||t)(l.Nb(_.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-window-app-container"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager"},decls:2,vars:1,consts:[["class","box mat-elevation-z1 pos-rel text-center round-corner height-40 overflow-hide",3,"ngClass",4,"ngIf"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","height-40","overflow-hide",3,"ngClass"],["class","app-open pos-rel no-bg no-border no-padding width-40 full-height cursor-pointer","matTooltipPosition","above",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],["matTooltipPosition","above",1,"app-open","pos-rel","no-bg","no-border","no-padding","width-40","full-height","cursor-pointer",3,"matTooltip","ngClass","click"],[1,"text-dark-mode-color"]],template:function(t,e){1&t&&(l.Fc(0,$,4,2,"div",0),l.Hc(1,"\n")),2&t&&l.kc("ngIf",e.windowManager.length)},directives:[a.k,a.i,a.j,X.a,A.a],encapsulation:2}),t}(),G=n("ds6q"),K=n("l5mm"),Z=n("f7OT"),tt=n("8Tul"),et=n("ISpo"),nt=n("3Pt+"),rt=n("mrmJ"),it=n("zkoq"),ot=n("Wp6s"),at=n("kmnG"),ct=n("qFsG"),st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ut(t,e){1&t&&(l.Tb(0,"mat-icon",21),l.Hc(1,"\n                check\n              "),l.Sb())}var pt=function(t,e){return[t,e]};function ft(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-grid-tile",15),l.Hc(1,"\n            "),l.Tb(2,"mat-card",16),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec(3).activeStatus(t)})),l.Hc(3,"\n              "),l.Fc(4,ut,2,0,"mat-icon",17),l.Hc(5,"\n              "),l.Tb(6,"mat-card-content",18),l.Hc(7,"\n                "),l.Tb(8,"mat-icon",19),l.Hc(9),l.Sb(),l.Hc(10,"\n              "),l.Sb(),l.Hc(11,"\n              "),l.Tb(12,"mat-card-footer",20),l.Hc(13),l.Sb(),l.Hc(14,"\n            "),l.Sb(),l.Hc(15,"\n          "),l.Sb()}if(2&t){var r=e.$implicit,i=l.ec(3);l.kc("colspan",1)("rowspan",1),l.Bb(2),l.Db("status-"+r.label.replace(" ","_").toLocaleLowerCase()+" status-item pos-rel full-width full-height round-corner mat-elevation-z1 card-bg cursor-pointer padding-half"),l.kc("ngClass",l.oc(8,pt,r.id===i.form.get("status").value.id?"active-status":"","smoking"===r.label.toLowerCase()?"cursor-ignore":"")),l.Bb(2),l.kc("ngIf",r.id===i.form.get("status").value.id),l.Bb(5),l.Jc("\n                  ",r.icon,"\n                "),l.Bb(4),l.Jc("\n                ",i.rtlDirection?r.label_fa:r.label,"\n              ")}}function gt(t,e){if(1&t&&(l.Tb(0,"mat-grid-list",13),l.Hc(1,"\n          "),l.Fc(2,ft,16,11,"mat-grid-tile",14),l.Hc(3,"\n        "),l.Sb()),2&t){var n=l.ec(2);l.Bb(2),l.kc("ngForOf",n.statusList)}}function ht(t,e){1&t&&(l.Tb(0,"mat-error"),l.Hc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Jc("\n              ",l.gc(2,1,"status.status_description_error"),"\n            "))}function dt(t,e){if(1&t&&(l.Tb(0,"div",22),l.Hc(1,"\n          "),l.Tb(2,"mat-form-field",23),l.Hc(3,"\n            "),l.Tb(4,"mat-label"),l.Hc(5),l.fc(6,"translate"),l.Sb(),l.Hc(7,"\n            "),l.Ob(8,"textarea",24),l.fc(9,"translate"),l.Hc(10,"\n            "),l.Fc(11,ht,3,3,"mat-error",25),l.Hc(12,"\n          "),l.Sb(),l.Hc(13,"\n        "),l.Sb()),2&t){var n=l.ec(2);l.Bb(5),l.Ic(l.gc(6,3,"status.status_description")),l.Bb(3),l.lc("placeholder",l.gc(9,5,"status.status_description_error")),l.Bb(3),l.kc("ngIf",!n.form.get("description").valid&&n.form.get("description").touched)}}function mt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",2),l.Hc(1,"\n  "),l.Tb(2,"form",3),l.ac("submit",(function(){return l.vc(n),l.ec().submit()})),l.Hc(3,"\n    "),l.Tb(4,"div",4),l.Hc(5,"\n      "),l.Tb(6,"h1",5),l.Hc(7),l.fc(8,"translate"),l.Sb(),l.Hc(9,"\n\n      "),l.Tb(10,"a",6),l.ac("click",(function(){return l.vc(n),l.ec().closeDialog()})),l.Hc(11,"\n        "),l.Tb(12,"mat-icon",7),l.Hc(13,"close"),l.Sb(),l.Hc(14,"\n      "),l.Sb(),l.Hc(15,"\n\n      "),l.Tb(16,"div",8),l.Hc(17,"\n        "),l.Fc(18,gt,4,1,"mat-grid-list",9),l.Hc(19,"\n\n        "),l.Fc(20,dt,14,7,"div",10),l.Hc(21,"\n      "),l.Sb(),l.Hc(22,"\n    "),l.Sb(),l.Hc(23,"\n\n    "),l.Tb(24,"div",11),l.Hc(25,"\n      "),l.Tb(26,"button",12),l.Hc(27),l.fc(28,"translate"),l.Sb(),l.Hc(29,"\n    "),l.Sb(),l.Hc(30,"\n  "),l.Sb(),l.Hc(31,"\n"),l.Sb()}if(2&t){var r=l.ec();l.kc("dir",r.rtlDirection?"rtl":"ltr"),l.Bb(2),l.kc("formGroup",r.form),l.Bb(5),l.Jc("\n        ",l.gc(8,8,"status.apply_status"),"\n      "),l.Bb(3),l.kc("ngClass",r.rtlDirection?"left-full":"right-full"),l.Bb(8),l.kc("ngIf",r.statusList.length),l.Bb(2),l.kc("ngIf",r.form.get("status").value.is_description),l.Bb(6),l.kc("disabled",!r.form.valid||r.loggedInUser.user_status&&r.loggedInUser.user_status.status_detail.id===r.form.get("status").value.id),l.Bb(1),l.Jc("\n        ",l.gc(28,10,"status.apply_status"),"\n      ")}}function bt(t,e){1&t&&(l.Tb(0,"div",26),l.Hc(1,"\n  "),l.Tb(2,"div",27),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",28),l.Hc(5,"\n        "),l.Tb(6,"rect",29),l.Hc(7,"\n          "),l.Ob(8,"animate",30),l.Hc(9,"\n          "),l.Ob(10,"animate",31),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",32),l.Hc(14,"\n          "),l.Ob(15,"animate",33),l.Hc(16,"\n        "),l.Ob(17,"animate",34),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",35),l.Hc(21,"\n          "),l.Ob(22,"animate",36),l.Hc(23,"\n        "),l.Ob(24,"animate",37),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n\n    "),l.cc(),l.Tb(28,"span",38),l.Hc(29),l.fc(30,"translate"),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb()),2&t&&(l.Bb(29),l.Ic(l.gc(30,1,"global.loading")))}var vt=function(t){function e(e,n,r,i,o,a,c,s,l,u,p,f,g){var d=t.call(this,i,s)||this;return d.data=e,d.dialogRef=n,d.fb=r,d.injector=i,d.translate=o,d.userApiService=a,d.messageService=c,d.userInfoService=s,d.statusApiService=l,d.viewDirection=u,d.userStatusService=p,d.refreshLoginService=f,d.loadingIndicatorService=g,d.statusList=[],d.loadingIndicator={status:!1,serviceName:"userStatus"},d._subscription=new h.Subscription,d._subscription.add(d.viewDirection.currentDirection.subscribe((function(t){return d.rtlDirection=t}))),d._subscription.add(d.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return d.loadingIndicator=t}))),d}return st(e,t),e.prototype.ngOnInit=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(e){switch(e.label){case 0:return[4,this.getStatuses()];case 1:return e.sent(),[4,this.createForm().then((function(){t.form.markAllAsTouched(),setTimeout((function(){return t.checkFormValidation()}),200),t.currentUserStatus=t.userStatusService.currentStatus;var e=t.loggedInUser;e=lt(lt({},e),{user_status:t.currentUserStatus}),t.userInfoService.changeUserInfo(e),t.currentUserStatus&&t.form.patchValue({status:t.currentUserStatus.status_detail})}))];case 2:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{c(n.next(t))}catch(e){i(e)}}function a(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}c((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.getStatuses=function(){var t=this;return this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),new Promise((function(e,n){t.statusApiService.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.statusApiService.getStatuses().subscribe((function(r){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),r.success?(t.statusList=r.data,e(!0)):n(!0)}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.refreshLoginService.openLoginDialog(e)})))}))},e.prototype.createForm=function(){var t=this;return new Promise((function(e){t.form=t.fb.group({user_id:new nt.e(t.loggedInUser.id,nt.u.required),status:new nt.e({},nt.u.required),is_description:new nt.e(0),description:new nt.e("")}),e()}))},e.prototype.checkFormValidation=function(){var t=this;this._subscription.add(this.form.valueChanges.subscribe((function(e){var n=t.form.get("description");e.status.is_description?t.form.get("description").value.length<1&&(n.setErrors({incorrect:!0}),n.setValidators(nt.u.required),n.markAsTouched()):(n.setErrors(null),n.setValidators(null))})))},e.prototype.activeStatus=function(t){t.is_description?(this.dialogRef.updateSize("500px","490px"),this.form.get("is_description").setValue(t.is_description)):this.dialogRef.updateSize("500px","385px"),this.form.get("status").setValue(t)},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.submit=function(){var t=this;if(this.form.valid){this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"userStatus"}),this.form.disable(),this.dialogRef.disableClose=!0;var e=Object.assign({},this.form.value);e.status=e.status.id,e.description.length||(delete e.is_description,delete e.description),this.statusApiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.statusApiService.userChangeStatus(e).subscribe((function(e){if(t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.dialogRef.disableClose=!1,e.success){t.userStatusService.changeUserStatus(e.data);var n=lt(lt({},t.loggedInUser),{user_status:e.data});t.userInfoService.changeUserInfo(n),t.getTranslate("status.status_success").then((function(e){t.messageService.showMessage(e)})),t.dialogRef.close(e)}else t.getTranslate("status.status_description_error").then((function(e){t.messageService.showMessage(e)})),t.form.enable()}),(function(e){t.dialogRef.disableClose=!1,t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"userStatus"}),t.refreshLoginService.openLoginDialog(e)})))}else this.getTranslate("status.status_description_error").then((function(e){t.messageService.showMessage(e)}))},e.prototype.getTranslate=function(t){var e=this;return new Promise((function(n){return n(e.translate.instant(t))}))},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb(C.a),l.Nb(C.e),l.Nb(nt.d),l.Nb(l.t),l.Nb(p.d),l.Nb(g.a),l.Nb(d.a),l.Nb(b.a),l.Nb(k),l.Nb(y.a),l.Nb(N.a),l.Nb(et.a),l.Nb(rt.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-change-status"]],features:[l.yb],decls:4,vars:2,consts:[["class","pos-abs left-0 right-0 top-0 bottom-0 padding-full z-index-99",3,"dir",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-9999",4,"ngIf"],[1,"pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],["autocomplete","off",1,"full-height",3,"formGroup","submit"],[1,"full-width","height-full-minus-35"],[1,"font-full-em","height-35","line-height-35","text-weight-500","no-margin"],[1,"pos-abs","top-full","cursor-pointer","text-gray-600",3,"ngClass","click"],[1,"text-grey-500"],[1,"height-full-minus-35","padding-b-full"],["cols","3","gutterSize","15","rowHeight","80px",4,"ngIf"],["class","padding-t-full margin-b-half",4,"ngIf"],[1,"height-30","full-width"],["mat-raised-button","","type","submit",1,"green-gradient","text-white","full-width","font-9-em",3,"disabled"],["cols","3","gutterSize","15","rowHeight","80px"],["class","board-container",3,"colspan","rowspan",4,"ngFor","ngForOf"],[1,"board-container",3,"colspan","rowspan"],[3,"ngClass","click"],["class","pos-abs font-9-em text-center line-height-15 text-white bg-green bottom-half-reverse right-0 left-0 margin-auto width-15 height-15 round-corner-all",4,"ngIf"],[1,"pos-rel","z-index-99","no-margin"],[1,"full-width","height-50","font-full-em-3","text-center","line-height-40"],[1,"mat-card-footer","text-center","font-8-em","text-weight-bold"],[1,"pos-abs","font-9-em","text-center","line-height-15","text-white","bg-green","bottom-half-reverse","right-0","left-0","margin-auto","width-15","height-15","round-corner-all"],[1,"padding-t-full","margin-b-half"],[1,"full-width","height-100","font-9-em"],["formControlName","description","matInput","",3,"placeholder"],[4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-9999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(l.Fc(0,mt,32,12,"div",0),l.Hc(1,"\n\n"),l.Fc(2,bt,33,3,"div",1),l.Hc(3,"\n")),2&t&&(l.kc("ngIf",e.form),l.Bb(2),l.kc("ngIf",e.loadingIndicator.status&&"userStatus"===e.loadingIndicator.serviceName))},directives:[a.k,O.b,nt.v,nt.o,nt.i,a.i,A.a,P.a,it.a,a.j,it.c,ot.a,ot.c,ot.d,at.c,at.f,nt.c,ct.b,nt.n,nt.g,at.b],pipes:[p.c],styles:[".bg-green[_ngcontent-%COMP%]{background-color:#388e3c}.status-item[_ngcontent-%COMP%]{color:#304352}.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-start_working.active-status[_ngcontent-%COMP%], .status-start_working[_ngcontent-%COMP%]:hover{color:#92ca68;box-shadow:0 2px 4px -1px #77ca5d,0 10px 25px -7px #dbffac,0 1px 10px 0 rgba(0,0,0,.12)}.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-finish_working.active-status[_ngcontent-%COMP%], .status-finish_working[_ngcontent-%COMP%]:hover{color:#b85f39;box-shadow:0 2px 4px -1px #ca703a,0 10px 25px -7px #caba89,0 1px 10px 0 rgba(0,0,0,.12)}.status-lunch_time[_ngcontent-%COMP%]{transition:all .4s!important}.status-lunch_time.active-status[_ngcontent-%COMP%], .status-lunch_time[_ngcontent-%COMP%]:hover{color:#f94850;box-shadow:0 2px 4px -1px #ff0844,0 10px 25px -7px #ffb199,0 1px 10px 0 rgba(0,0,0,.12)}.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-meeting.active-status[_ngcontent-%COMP%], .status-meeting[_ngcontent-%COMP%]:hover{color:#818cbc;box-shadow:0 2px 4px -1px #818cbc,0 10px 25px -7px #80d0c7,0 1px 10px 0 rgba(0,0,0,.12)}.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-smoking.active-status[_ngcontent-%COMP%], .status-smoking[_ngcontent-%COMP%]:hover{color:#304352;box-shadow:0 2px 4px -1px #304352,0 10px 25px -7px #d7d2cc,0 1px 10px 0 rgba(0,0,0,.12)}.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-mission.active-status[_ngcontent-%COMP%], .status-mission[_ngcontent-%COMP%]:hover{color:#30cfd0;box-shadow:0 2px 4px -1px #30cfd0,0 10px 25px -7px #8fd3f4,0 1px 10px 0 rgba(0,0,0,.12)}.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-leave.active-status[_ngcontent-%COMP%], .status-leave[_ngcontent-%COMP%]:hover{color:#feb051;box-shadow:0 2px 4px -1px #fa709a,0 10px 25px -7px #fee140,0 1px 10px 0 rgba(0,0,0,.12)}.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-game.active-status[_ngcontent-%COMP%], .status-game[_ngcontent-%COMP%]:hover{color:#c471f5;box-shadow:0 2px 4px -1px #fa71cd,0 10px 25px -7px #c471f5,0 1px 10px 0 rgba(0,0,0,.12)}.status-other_stuff[_ngcontent-%COMP%]{transition:all .4s!important}.status-other_stuff.active-status[_ngcontent-%COMP%], .status-other_stuff[_ngcontent-%COMP%]:hover{color:#98997e;box-shadow:0 2px 4px -1px #98997e,0 10px 25px -7px #fbfcdb,0 1px 10px 0 rgba(0,0,0,.12)}.cursor-ignore[_ngcontent-%COMP%]{cursor:not-allowed}"]}),e}(m.a),_t=n("Xa2L"),yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function wt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-list-item",11),l.Hc(1,"\n        "),l.Tb(2,"div",12),l.Hc(3,"\n          "),l.Tb(4,"span",13),l.fc(5,"translate"),l.Hc(6,"\n\n            "),l.Tb(7,"span",14),l.Hc(8),l.Sb(),l.Hc(9,"\n\n            "),l.Tb(10,"mat-progress-spinner",15),l.Hc(11,"\n            "),l.Sb(),l.Hc(12,"\n          "),l.Sb(),l.Hc(13,"\n\n          "),l.Tb(14,"span",16),l.Hc(15),l.Sb(),l.Hc(16,"\n\n          "),l.Tb(17,"div",17),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec().changeStatus(t)})),l.Hc(18,"\n            "),l.Tb(19,"mat-icon",18),l.Hc(20,"\n              play_arrow\n            "),l.Sb(),l.Hc(21,"\n          "),l.Sb(),l.Hc(22,"\n        "),l.Sb(),l.Hc(23,"\n      "),l.Sb()}if(2&t){var r=e.$implicit,i=e.index,o=l.ec();l.kc("dir",o.rtlDirection?"rtl":"ltr")("ngClass",i!==o.taskList.length-1?"margin-b-full":""),l.Bb(4),l.lc("matTooltip",l.gc(5,12,"tasks.boards.task_percentage")),l.kc("ngClass",o.rtlDirection?"margin-l-half":"margin-r-half")("matTooltipPosition",o.rtlDirection?"left":"right"),l.Bb(4),l.Jc("\n              ",r.percentage,"\n            "),l.Bb(2),l.kc("ngClass",o.getColor(r.percentage))("diameter",25)("strokeWidth",2)("value",r.percentage),l.Bb(5),l.Ic(r.taskName),l.Bb(4),l.kc("ngClass",o.rtlDirection?"rotate-180":"")}}function xt(t,e){1&t&&(l.Tb(0,"div",19),l.Hc(1,"\n  "),l.Tb(2,"div",20),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",21),l.Hc(5,"\n        "),l.Tb(6,"rect",22),l.Hc(7,"\n          "),l.Ob(8,"animate",23),l.Hc(9,"\n          "),l.Ob(10,"animate",24),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",25),l.Hc(14,"\n          "),l.Ob(15,"animate",26),l.Hc(16,"\n        "),l.Ob(17,"animate",27),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",28),l.Hc(21,"\n          "),l.Ob(22,"animate",29),l.Hc(23,"\n        "),l.Ob(24,"animate",30),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n    "),l.cc(),l.Tb(28,"span",31),l.Hc(29),l.fc(30,"translate"),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb()),2&t&&(l.Bb(29),l.Ic(l.gc(30,1,"global.loading")))}var St=function(t){function e(e,n,r,i,o,a,c,s,l,u){var p=t.call(this,i,s)||this;return p.translate=e,p.viewDirection=n,p.loadingIndicatorService=r,p.injector=i,p.api=o,p.messageService=a,p.refreshLoginService=c,p.userInfoService=s,p.dialogRef=l,p.data=u,p._subscription=new h.Subscription,p.loadingIndicator={status:!1,serviceName:"IncompleteTasks"},p._subscription.add(p.viewDirection.currentDirection.subscribe((function(t){return p.rtlDirection=t}))),p}return yt(e,t),e.prototype.ngOnInit=function(){this.taskList=this.data},e.prototype.changeStatus=function(t){var e=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"IncompleteTasks"}),this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.taskChangeStatus(t,"inProgress").subscribe((function(t){return n=e,void 0,i=function(){return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(e){return t.result&&(this.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"IncompleteTasks"}),this.messageService.showMessage(t.message),this.closeDialog()),[2]}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{c(i.next(t))}catch(n){e(n)}}function a(t){try{c(i.throw(t))}catch(n){e(n)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,a)}c((i=i.apply(n,[])).next())}));var n,r,i}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"IncompleteTasks"}),e.refreshLoginService.openLoginDialog(t)})))},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.getColor=function(t){return t<10&&t>=0?"spinner-color-red":t<=30&&t>10?"spinner-color-redorange":t<=50&&t>30?"spinner-color-orange":t<=80&&t>50?"spinner-color-lightgreen":t>80?"spinner-color-green":void 0},e.prototype.getTranslate=function(t){return this.translate.instant(t)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb(p.d),l.Nb(y.a),l.Nb(rt.a),l.Nb(l.t),l.Nb(Z.a),l.Nb(d.a),l.Nb(et.a),l.Nb(b.a),l.Nb(C.e),l.Nb(C.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-task-incomplete-task"]],features:[l.yb],decls:36,vars:10,consts:[[1,"full-height","pos-abs","left-0","right-0","top-0","bottom-0","padding-full","z-index-99",3,"dir"],[1,"height-full-minus-45","full-width"],[1,"margin-b-full-plus-half","text-gray-800","font-full-em","text-weight-500","margin-b-full","line-height-10"],[1,"top-3","pos-abs",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"incomplete-task","full-width","height-220","overflow-x-hide","overflow-y-auto"],["class","incomplete-task-item pos-rel height-55 mat-elevation-z1 bg-white round-corner transition overflow-hide",3,"dir","ngClass",4,"ngFor","ngForOf"],[1,"height-45","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-10","font-9-em","overflow-hide","text-weight-normal","no-padding",3,"click"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"incomplete-task-item","pos-rel","height-55","mat-elevation-z1","bg-white","round-corner","transition","overflow-hide",3,"dir","ngClass"],[1,"padding-l-half","padding-r-half","display-flex","flex-space-between","full-height","align-items-center","full-width"],[1,"width-25","height-25","round-corner-all","mat-elevation-z1","pos-rel",3,"ngClass","matTooltip","matTooltipPosition"],[1,"font-6-em","text-gray-800","pos-abs","left-0","right-0","top-0","bottom-0","margin-auto","text-center","line-height-25","text-weight-500"],["color","accent",3,"ngClass","diameter","strokeWidth","value"],[1,"company-name","transition","font-8-em","overflow-hide","white-space-nowrap","title-task","full-width","flex-grow-1"],[1,"overflow-hide","width-25","full-height","cursor-pointer",3,"click"],[1,"arrow","transition","font-full-plus-half-em","full-height","full-width","text-green-500","line-height-55","transform-origin-50","text-center",3,"ngClass"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"div",1),l.Hc(3,"\n    "),l.Tb(4,"h1",2),l.Hc(5),l.fc(6,"translate"),l.Sb(),l.Hc(7,"\n\n    "),l.Tb(8,"div",3),l.Hc(9,"\n      "),l.Tb(10,"button",4),l.ac("click",(function(){return e.closeDialog()})),l.Hc(11,"\n        "),l.Tb(12,"mat-icon",5),l.Hc(13,"close\n        "),l.Sb(),l.Hc(14,"\n      "),l.Sb(),l.Hc(15,"\n    "),l.Sb(),l.Hc(16,"\n\n    "),l.Tb(17,"mat-list",6),l.Hc(18,"\n      "),l.Fc(19,wt,24,14,"mat-list-item",7),l.Hc(20,"\n    "),l.Sb(),l.Hc(21,"\n  "),l.Sb(),l.Hc(22,"\n\n  "),l.Tb(23,"div",8),l.Hc(24,"\n    "),l.Tb(25,"button",9),l.ac("click",(function(){return e.closeDialog()})),l.Hc(26,"\n      "),l.Tb(27,"span"),l.Hc(28),l.fc(29,"translate"),l.Sb(),l.Hc(30,"\n    "),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb(),l.Hc(33,"\n\n"),l.Fc(34,xt,33,3,"div",10),l.Hc(35,"\n")),2&t&&(l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(5),l.Jc("\n      ",l.gc(6,6,"tasks.incomplete_task.incomplete_tasks"),"\n    "),l.Bb(3),l.kc("ngClass",e.rtlDirection?"left-3":"right-3"),l.Bb(11),l.kc("ngForOf",e.taskList),l.Bb(9),l.Ic(l.gc(29,8,"global.dismiss")),l.Bb(6),l.kc("ngIf",e.loadingIndicator.status&&"changeLang"===e.loadingIndicator.serviceName))},directives:[O.b,a.i,A.a,T.a,a.j,a.k,T.d,X.a,_t.a],pipes:[p.c],styles:[".title-task[_ngcontent-%COMP%]{text-overflow:ellipsis}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.transform-origin-50[_ngcontent-%COMP%]{transform-origin:50% 50%}.left-3[_ngcontent-%COMP%]{left:3px!important}.right-3[_ngcontent-%COMP%]{right:3px!important}.top-3[_ngcontent-%COMP%]{top:3px!important}.incomplete-task-item[_ngcontent-%COMP%]:hover{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.1),0 5px 4px 2px rgba(0,0,0,.1)}.height-220[_ngcontent-%COMP%]{height:220px}.incomplete-task[_ngcontent-%COMP%]{padding:0 .5em .5em!important}"]}),e}(m.a),kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ht(t,e){if(1&t&&(l.Tb(0,"span",8),l.Hc(1,"\n        "),l.Tb(2,"b",9),l.Hc(3),l.Sb(),l.Hc(4,"\n        :\n        "),l.Tb(5,"b",9),l.Hc(6),l.Sb(),l.Hc(7,"\n        :\n        "),l.Tb(8,"b",9),l.Hc(9),l.Sb(),l.Hc(10,"\n      "),l.Sb()),2&t){var n=l.ec(2);l.kc("ngClass",n.rtlDirection?"justify-content-end":"justify-content-start"),l.Bb(3),l.Jc("\n          ",n.currentTimer.hours<10?"0"+n.currentTimer.hours:n.currentTimer.hours,"\n        "),l.Bb(3),l.Jc("\n          ",n.currentTimer.minutes<10?"0"+n.currentTimer.minutes:n.currentTimer.minutes,"\n        "),l.Bb(3),l.Jc("\n          ",n.currentTimer.seconds<10?"0"+n.currentTimer.seconds:n.currentTimer.seconds,"\n        ")}}function Ct(t,e){if(1&t){var n=l.Ub();l.Tb(0,"button",4),l.ac("click",(function(){return l.vc(n),l.ec().changeStatus()})),l.Hc(1,"\n    "),l.Tb(2,"mat-icon",5),l.Hc(3),l.Sb(),l.Hc(4,"\n    "),l.Tb(5,"span",6),l.Hc(6),l.Fc(7,Ht,11,4,"span",7),l.Hc(8,"\n    "),l.Sb(),l.Hc(9,"\n  "),l.Sb()}if(2&t){var r=l.ec();l.Db("status-"+r.userCurrentStatus.status_detail.label.replace(" ","_").toLocaleLowerCase()+" blink-effect status-item full-width change-status-btn text-weight-500 line-height-40 full-height font-9-em overflow-hide no-bg mat-elevation-z0 text-dark-mode-color text-gray-800"),l.Bb(3),l.Ic(r.userCurrentStatus.status_detail.icon),l.Bb(3),l.Jc("\n      ",r.rtlDirection?r.userCurrentStatus.status_detail.label_fa:r.userCurrentStatus.status_detail.label,"\n\n      "),l.Bb(1),l.kc("ngIf",r.currentTimer)}}function Mt(t,e){if(1&t){var n=l.Ub();l.Hc(0,"\n    "),l.Tb(1,"button",10),l.ac("click",(function(){return l.vc(n),l.ec().changeStatus()})),l.Hc(2,"\n      "),l.Tb(3,"mat-icon",11),l.Hc(4,"\n        sync_problem\n      "),l.Sb(),l.Hc(5,"\n      "),l.Tb(6,"span",12),l.Hc(7),l.fc(8,"translate"),l.Sb(),l.Hc(9,"\n    "),l.Sb(),l.Hc(10,"\n  ")}2&t&&(l.Bb(7),l.Ic(l.gc(8,1,"status.apply_status")))}function Ot(t,e){1&t&&(l.Tb(0,"div",13),l.Hc(1,"\n  "),l.Tb(2,"div",14),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",15),l.Hc(5,"\n        "),l.Tb(6,"rect",16),l.Hc(7,"\n          "),l.Ob(8,"animate",17),l.Hc(9,"\n          "),l.Ob(10,"animate",18),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",19),l.Hc(14,"\n          "),l.Ob(15,"animate",20),l.Hc(16,"\n        "),l.Ob(17,"animate",21),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",22),l.Hc(21,"\n          "),l.Ob(22,"animate",23),l.Hc(23,"\n        "),l.Ob(24,"animate",24),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n  "),l.Sb(),l.Hc(28,"\n"),l.Sb())}var Tt=function(t){function e(e,n,r,i,o,a,c,s,l,u,p){var f=t.call(this,n,a)||this;return f.dialog=e,f.injector=n,f.apiService=r,f.messageService=i,f.tasksApiService=o,f.userInfoService=a,f.changeDetector=c,f.translateService=s,f.changeStatusService=l,f.refreshLoginService=u,f.windowManagerService=p,f.userCurrentStatus=null,f.loadingIndicator={status:!1,serviceName:"userStatusDashboard"},f.currentTimer=null,f.destroyed$=new G.Subject,f._subscription=new h.Subscription,f}return kt(e,t),e.prototype.ngOnInit=function(){this.checkToStartWorking()},e.prototype.checkToStartWorking=function(){var t=this;if(this._subscription.add(this.changeStatusService.currentUserStatus.subscribe((function(e){return t.userCurrentStatus=e}))),null===this.userCurrentStatus||this.userCurrentStatus&&null!==this.userCurrentStatus.end_time){var e=this.dialog.open(tt.a,{data:{title:this.getTranslate("status.start_working"),message:this.getTranslate("status.start_working_time"),action:"success"},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(e.id),this.apiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(e.afterClosed().subscribe((function(e){e&&(t._subscription.add(t.apiService.userChangeStatus({user_id:t.loggedInUser.id,status:1}).subscribe((function(e){e.success?(t.changeStatusService.changeUserStatus(e.data),t.messageService.showMessage(t.getTranslate("status.status_success"))):t.messageService.showMessage(t.getTranslate("status.status_description_error"))}))),setTimeout((function(){return t.openIncompleteTasks()}),2e3)),t.openSoftPhone()})))}else this.openSoftPhone();Object(K.a)(1e3).subscribe((function(){t.changeDetector.destroyed||t.changeDetector.detectChanges();var e=t.userCurrentStatus&&null===t.userCurrentStatus.end_time?t.userCurrentStatus.start_time:L(new Date).format("YYYY-MM-DD HH:mm:ss");t.getElapsedTime(e)})),this.changeDetector.detectChanges()},e.prototype.openIncompleteTasks=function(){var t=this;this.loggedInUser.services.filter((function(t){return"project"===t.service_name})).pop()&&this.loginData&&this.loginData.token_type&&(this.tasksApiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.tasksApiService.incompleteTasks(this.loggedInUser.email).subscribe((function(e){1===e.result&&0!==e.content.length&&t.openDialogIncompleteTasks(e.content)}),(function(e){t.refreshLoginService.openLoginDialog(e)}))))},e.prototype.changeStatus=function(){var t=this.dialog.open(vt,{autoFocus:!1,width:"500px",height:"385px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)},e.prototype.getElapsedTime=function(t){var e=new Date(new Date(t).getTime()),n=Math.floor(((new Date).getTime()-e.getTime())/1e3),r=0,i=0;n>=3600&&(n-=3600*(r=Math.floor(n/3600))),n>=60&&(n-=60*(i=Math.floor(n/60))),this.currentTimer={hours:r,minutes:i,seconds:n}},e.prototype.openSoftPhone=function(){var t=this;setTimeout((function(){var e=t.loggedInUser.services.filter((function(t){return"pbx"===t.service_name})).pop();e&&t.openService(e)}),2e3)},e.prototype.openDialogIncompleteTasks=function(t){var e=this.dialog.open(St,{data:t,autoFocus:!1,width:"500px",height:"300px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(e.id)},e.prototype.openService=function(t){this.windowManagerService.openWindowState(t)},e.prototype.getTranslate=function(t){return this.translateService.instant(t)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this.destroyed$.next(),this.destroyed$.complete()},e.\u0275fac=function(t){return new(t||e)(l.Nb(C.b),l.Nb(l.t),l.Nb(k),l.Nb(d.a),l.Nb(Z.a),l.Nb(b.a),l.Nb(l.h),l.Nb(p.d),l.Nb(N.a),l.Nb(et.a),l.Nb(_.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-user-status"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection",serviceList:"serviceList"},features:[l.yb],decls:10,vars:5,consts:[[1,"box","pos-rel","width-150","mat-elevation-z1","text-center","round-corner","height-40","cursor-pointer","overflow-hide",3,"dir","ngClass"],["mat-raised-button","",3,"class","click",4,"ngIf","ngIfElse"],["changeViewStatus",""],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height round-corner flex-center z-index-9999",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-gray-800","text-dark-mode-color"],[1,"padding-mini-r-l","height-40","display-inline-block","line-height-20","pos-rel"],["class","line-height-20 display-flex font-9-em","dir","ltr",3,"ngClass",4,"ngIf"],["dir","ltr",1,"line-height-20","display-flex","font-9-em",3,"ngClass"],[1,"text-weight-normal","width-15"],["mat-raised-button","",1,"change-status-btn","text-gray-800","text-weight-500","full-width","line-height-30","font-9-em","full-height","overflow-hide","no-bg","mat-elevation-z0","text-dark-mode-color",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem","text-dark-mode-color","text-gray-800"],[1,"padding-mini-r-l"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","round-corner","flex-center","z-index-9999"],[1,"text-center","transform-scale-7"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Fc(2,Ct,10,5,"button",1),l.Hc(3,"\n  "),l.Fc(4,Mt,11,3,"ng-template",null,2,l.Gc),l.Hc(6,"\n"),l.Sb(),l.Hc(7,"\n\n"),l.Fc(8,Ot,29,0,"div",3),l.Hc(9,"\n")),2&t){var n=l.rc(5);l.kc("dir",e.rtlDirection?"rtl":"ltr")("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),l.Bb(2),l.kc("ngIf",e.userCurrentStatus&&!e.userCurrentStatus.end_time)("ngIfElse",n),l.Bb(6),l.kc("ngIf",e.loadingIndicator.status&&"userStatusDashboard"===e.loadingIndicator.serviceName)}},directives:[O.b,a.i,a.k,P.a,A.a],pipes:[p.c],styles:[".mat-icon[_ngcontent-%COMP%]{box-shadow:none!important}.blink-effect[_ngcontent-%COMP%]{-webkit-animation:blink 1.6s linear infinite;animation:blink 1.6s linear infinite}.status-item.status-start_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-start_working[_ngcontent-%COMP%], .status-item.status-start_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-start_working 1s linear infinite;animation:blink-status-start_working 1s linear infinite}.status-item.status-finish_working[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-finish_working[_ngcontent-%COMP%], .status-item.status-finish_working[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-finish_working 1s linear infinite;animation:blink-status-finish_working 1s linear infinite}.status-item.status-lunch_time[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-lunch_time[_ngcontent-%COMP%], .status-item.status-lunch_time[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-lunch_time 1s linear infinite;animation:blink-status-lunch_time 1s linear infinite}.status-item.status-meeting[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-meeting[_ngcontent-%COMP%], .status-item.status-meeting[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-meeting 1s linear infinite;animation:blink-status-meeting 1s linear infinite}.status-item.status-smoking[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-smoking[_ngcontent-%COMP%], .status-item.status-smoking[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-smoking 1s linear infinite;animation:blink-status-smoking 1s linear infinite}.status-item.status-mission[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-mission[_ngcontent-%COMP%], .status-item.status-mission[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-mission 1s linear infinite;animation:blink-status-mission 1s linear infinite}.status-item.status-leave[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-leave[_ngcontent-%COMP%], .status-item.status-leave[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-leave 1s linear infinite;animation:blink-status-leave 1s linear infinite}.status-item.status-game[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-game[_ngcontent-%COMP%], .status-item.status-game[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-game 1s linear infinite;animation:blink-status-game 1s linear infinite}.status-item.status-other[_ngcontent-%COMP%]{transition:all .4s!important}.status-item.status-other[_ngcontent-%COMP%], .status-item.status-other[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation:blink-status-other 1s linear infinite;animation:blink-status-other 1s linear infinite}.transform-scale-7[_ngcontent-%COMP%]{transform:scale(.7)}@-webkit-keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@keyframes blink-status-start_working{0%{color:#888;box-shadow:none}33.33333%{color:#92ca68}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@keyframes blink-status-finish_working{0%{color:#888;box-shadow:none}33.33333%{color:#b85f39}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-lunch_time{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@keyframes blink-status-lunch_time{0%{color:#888;box-shadow:none}33.33333%{color:#f94850}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@keyframes blink-status-meeting{0%{color:#888;box-shadow:none}33.33333%{color:#818cbc}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@keyframes blink-status-smoking{0%{color:#888;box-shadow:none}33.33333%{color:#304352}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@keyframes blink-status-mission{0%{color:#888;box-shadow:none}33.33333%{color:#30cfd0}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@keyframes blink-status-leave{0%{color:#888;box-shadow:none}33.33333%{color:#feb051}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@keyframes blink-status-game{0%{color:#888;box-shadow:none}33.33333%{color:#c471f5}to{color:#888;box-shadow:none}}@-webkit-keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}@keyframes blink-status-other{0%{color:#888;box-shadow:none}33.33333%{color:#98997e}to{color:#888;box-shadow:none}}"],changeDetection:0}),e}(m.a),It=n("JX91"),Pt=n("lJxs"),At=n("OVb6"),zt=n("/Hbh"),Dt=["clock"],Bt=["hours"],Lt=["seconds"],Rt=["minutes"];function jt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-icon",10),l.ac("click",(function(t){return l.vc(n),l.ec().removeClock(t)})),l.Hc(1,"\n    close\n  "),l.Sb()}if(2&t){var r=l.ec();l.kc("ngClass",r.rtlDirection?"left-full-reverse":"right-full-reverse")}}var Ut=function(){function t(){var t=this;this.degrees=360,this.seconds_angle=0,this.minutes_angle=0,this.hours_angle=0,this.removeClock=function(e){e.stopPropagation(),0!=t.item_index&&t.cityClocksList.splice(t.item_index,1)},this.init=function(){t.createIndicators(),t.setHands(),setInterval(t.runClock,1e3)},this.setHands=function(){var e=(new Date).toLocaleTimeString("en-US",{timeZone:t.item.timezone,hour12:!1}).split(":"),n=parseInt(e[0])-12,r=parseInt(e[1]),i=parseInt(e[2]);t.hours_angle=30*n+(r-r%15)/15*6,t.minutes_angle=6*r,t.seconds_angle=6*i,t.hours.nativeElement.style.transform="rotate("+t.hours_angle+"deg)",t.minutes.nativeElement.style.transform="rotate("+t.minutes_angle+"deg)",t.seconds.nativeElement.style.transform="rotate("+t.seconds_angle+"deg)"},this.runClock=function(){t.seconds.nativeElement.style.transform="rotate("+t.seconds_angle+"deg)",t.seconds_angle==t.degrees?(t.seconds_angle=0,t.seconds.nativeElement.addEventListener("transitionend",t.controlBouncing),t.minutes_angle+=t.degrees/60,t.minutes.nativeElement.style.transform="rotate("+t.minutes_angle+"deg)",t.minutes_angle%15==0&&(t.hours_angle+=6,t.hours.nativeElement.style.transform="rotate("+t.hours_angle+"deg)")):t.seconds_angle+=t.degrees/60},this.controlBouncing=function(){t.seconds.nativeElement.classList.add("no-transition"),t.seconds.nativeElement.style.transform="rotate("+t.seconds_angle+"deg)",setTimeout((function(){return t.seconds.nativeElement.classList.remove("no-transition")}),200),t.seconds.nativeElement.removeEventListener("transitionend",t.controlBouncing),t.seconds_angle+=t.degrees/60},this.createIndicators=function(){for(var e=0;e<60;e++){var n=document.createElement("div");n.classList.add("seconds-indicator"),n.style.transform="rotate("+6*e+"deg)",e%5==0&&n.classList.add("seconds-indicator--fifth"),t.clock.nativeElement.appendChild(n)}}}return t.prototype.ngOnInit=function(){this.item.city=this.item.city.replace("_"," ")},t.prototype.ngAfterViewInit=function(){this.init()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-time-area-clock"]],viewQuery:function(t,e){if(1&t&&(l.Mc(Dt,!0),l.Mc(Bt,!0),l.Mc(Lt,!0),l.Mc(Rt,!0)),2&t){var n=void 0;l.qc(n=l.bc())&&(e.clock=n.first),l.qc(n=l.bc())&&(e.hours=n.first),l.qc(n=l.bc())&&(e.seconds=n.first),l.qc(n=l.bc())&&(e.minutes=n.first)}},inputs:{rtlDirection:"rtlDirection",checkMoreClock:"checkMoreClock",cityClocksList:"cityClocksList",item_index:"item_index",item:"item"},decls:18,vars:2,consts:[[1,"clock"],["clock",""],["class","close-button pos-abs top-full-reverse round-corner-all text-white width-18 height-18 line-height-18 text-center cursor-pointer font-9-em text-weight-bold",3,"ngClass","click",4,"ngIf"],[1,"hands","hours"],["hours",""],[1,"hands","minutes"],["minutes",""],[1,"hands","seconds"],["seconds",""],[1,"text-center","padding-t-half","no-margin","text-dark-mode-color","font-full-em"],[1,"close-button","pos-abs","top-full-reverse","round-corner-all","text-white","width-18","height-18","line-height-18","text-center","cursor-pointer","font-9-em","text-weight-bold",3,"ngClass","click"]],template:function(t,e){1&t&&(l.Tb(0,"div",0,1),l.Hc(2,"\n  "),l.Fc(3,jt,2,1,"mat-icon",2),l.Hc(4,"\n  "),l.Ob(5,"div",3,4),l.Hc(7,"\n  "),l.Ob(8,"div",5,6),l.Hc(10,"\n  "),l.Ob(11,"div",7,8),l.Hc(13,"\n"),l.Sb(),l.Hc(14,"\n"),l.Tb(15,"h6",9),l.Hc(16),l.Sb(),l.Hc(17,"\n")),2&t&&(l.Bb(3),l.kc("ngIf",e.checkMoreClock&&0!=e.item_index),l.Bb(13),l.Ic(e.item.city))},directives:[a.k,A.a,a.i],styles:[".close-button[_ngcontent-%COMP%]{background:red}"]}),t}(),Nt=n("/1cH");function Et(t,e){1&t&&(l.Tb(0,"span"),l.Hc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic(l.gc(2,1,"global.done")))}function Ft(t,e){1&t&&(l.Hc(0,"\n        "),l.Tb(1,"mat-icon",18),l.Hc(2,"error_outline"),l.Sb(),l.Hc(3,"\n      "))}function Wt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"a",15),l.ac("click",(function(){l.vc(n);var t=l.ec();return t.checkMoreClock=!t.checkMoreClock})),l.Hc(1,"\n      "),l.Fc(2,Et,3,3,"span",16),l.Hc(3,"\n\n      "),l.Fc(4,Ft,4,0,"ng-template",null,17,l.Gc),l.Hc(6,"\n    "),l.Sb()}if(2&t){var r=l.rc(5),i=l.ec();l.Bb(2),l.kc("ngIf",i.checkMoreClock)("ngIfElse",r)}}function Yt(t,e){if(1&t){var n=l.Ub();l.Hc(0,"\n      "),l.Tb(1,"a",15),l.ac("click",(function(){l.vc(n);var t=l.ec();return t.checkMoreClockContent=!t.checkMoreClockContent})),l.Hc(2,"\n        "),l.Tb(3,"span"),l.Hc(4),l.fc(5,"translate"),l.Sb(),l.Hc(6,"\n      "),l.Sb(),l.Hc(7,"\n    ")}2&t&&(l.Bb(4),l.Ic(l.gc(5,1,"global.done")))}function Qt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"a",22),l.ac("click",(function(t){l.vc(n);var e=l.ec(2);return e.checkMoreClockContent=!e.checkMoreClockContent,t.stopPropagation()})),l.Hc(1,"\n      "),l.Tb(2,"mat-icon",23),l.Hc(3,"add"),l.Sb(),l.Hc(4,"\n    "),l.Sb()}if(2&t){var r=l.ec(2);l.kc("ngClass",r.checkMoreClock?"right-to-left pos-rel":"left-to-right pos-abs")}}function Xt(t,e){if(1&t&&(l.Rb(0),l.Hc(1,"\n      "),l.Tb(2,"app-time-area-clock",24),l.Hc(3,"\n      "),l.Sb(),l.Hc(4,"\n    "),l.Qb()),2&t){var n=e.$implicit,r=e.index,i=l.ec(2);l.Bb(2),l.kc("cityClocksList",i.cityClocksList)("item",n)("item_index",r)("checkMoreClock",i.checkMoreClock)("rtlDirection",i.rtlDirection)}}function Vt(t,e){if(1&t&&(l.Tb(0,"div",19),l.ac("click",(function(t){return t.stopPropagation()})),l.Hc(1,"\n    "),l.Fc(2,Qt,5,1,"a",20),l.Hc(3,"\n\n    "),l.Fc(4,Xt,5,5,"ng-container",21),l.Hc(5,"\n  "),l.Sb()),2&t){var n=l.ec();l.Bb(2),l.kc("ngIf",n.cityClocksList&&n.cityClocksList.length<3),l.Bb(2),l.kc("ngForOf",n.cityClocksList)}}function qt(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-option",32),l.ac("onSelectionChange",(function(){l.vc(n);var t=e.$implicit;return l.ec(2).setClockCity(t)}))("click",(function(){l.vc(n);var t=e.$implicit;return l.ec(2).setClockCity(t)})),l.Hc(1),l.Sb()}if(2&t){var r=e.$implicit;l.kc("value",r),l.Bb(1),l.Kc("\n              ",r.city," - ",r.timezone,"\n            ")}}function $t(t,e){if(1&t&&(l.Hc(0,"\n    "),l.Tb(1,"div",25),l.ac("click",(function(t){return t.stopPropagation()})),l.Hc(2,"\n      "),l.Tb(3,"form",26),l.Hc(4,"\n        "),l.Tb(5,"mat-form-field",27),l.Hc(6,"\n          "),l.Tb(7,"mat-label"),l.Hc(8),l.fc(9,"translate"),l.Sb(),l.Hc(10,"\n          "),l.Ob(11,"input",28),l.Hc(12,"\n          "),l.Tb(13,"mat-autocomplete",29,30),l.Hc(15,"\n            "),l.Fc(16,qt,2,3,"mat-option",31),l.fc(17,"async"),l.Hc(18,"\n          "),l.Sb(),l.Hc(19,"\n        "),l.Sb(),l.Hc(20,"\n      "),l.Sb(),l.Hc(21,"\n    "),l.Sb(),l.Hc(22,"\n  ")),2&t){var n=l.rc(14),r=l.ec();l.Bb(8),l.Ic(l.gc(9,5,"soft_phone.call_to_action.timezone")),l.Bb(3),l.kc("formControl",r.myControl)("matAutocomplete",n),l.Bb(2),l.kc("displayWith",r.displayFn),l.Bb(3),l.kc("ngForOf",l.gc(17,7,r.filteredOptions))}}var Jt=function(){function t(t,e,n){var r=this;this.render=t,this.datetimeService=e,this.userInfoService=n,this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.myControl=new nt.e,this._subscription=new h.Subscription,this.checkMoreClock=!1,this.options=e.timezones,this._subscription.add(this.userInfoService.currentUserInfo.subscribe((function(t){r.loggedInUser=t,r.loggedInUser.timezone||(r.loggedInUser.timezone="Asia/Tehran"),r.currentTimezone=r.loggedInUser.timezone.split("/")[1].replace("_"," "),r.cityClocksList=[{city:r.loggedInUser.timezone.split("/")[1],timezone:r.loggedInUser.timezone}],r.init()})))}return t.prototype.displayFn=function(t){return t&&t.city?t.city:""},t.prototype.onEnter=function(t){console.log(t)},t.prototype.setClockCity=function(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.some((function(e){return e.timezone!==t.timezone}))&&this.cityClocksList.push(t)},t.prototype.ngOnChanges=function(t){this.getDateTime()},t.prototype.getDateTime=function(){this.datetime=this.datetimeService.changeDatetimeLabel(this.rtlDirection)},t.prototype.ngOnInit=function(){var t=this;this.filteredOptions=this.myControl.valueChanges.pipe(Object(It.a)(""),Object(Pt.a)((function(t){return"string"==typeof t?t:t.name})),Object(Pt.a)((function(e){return e?t.filter(e):t.options.slice()})))},t.prototype.init=function(){var t=this;setInterval((function(){t.datetime.time=(new Date).toLocaleTimeString("en-US",{timeZone:t.cityClocksList[0].timezone,hour12:!1})}),1e3)},t.prototype.filter=function(t){var e=t.toLowerCase();return this.options.filter((function(t){return 0===t.city.toLowerCase().indexOf(e)}))},t.\u0275fac=function(e){return new(e||t)(l.Nb(l.G),l.Nb(At.a),l.Nb(b.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-time-area"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},features:[l.zb],decls:52,vars:16,consts:[[1,"box","pos-rel","mat-elevation-z1","padding-r-l","text-center","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor","ngClass"],[1,"text-dark-mode-color","text-gray-800"],[1,"display-flex"],[3,"ngClass"],["mat-line","",1,"font-8-rem"],[1,"text-dark-mode-color","font-8-rem","text-gray-800"],["matLine","",3,"timezone"],["dir","ltr","mat-line","",1,"font-8-rem"],["xPosition","before","yPosition","above",1,"toolbar-menu","time-area-menu"],["timeAreaMenu","matMenu"],["mat-subheader","",1,"padding-mini-t-b","padding-r-l","text-weight-normal","font-9-rem","text-dark-mode-color","display-flex","flex-space-between",3,"click"],["class","cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["showDoneClockSelector",""],["class","display-flex flex-space-around padding-half",3,"click",4,"ngIf","ngIfElse"],["showClockSelector",""],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["showDone",""],[1,"width-20","height-20","font-full-plus-half-em","rotate-180"],[1,"display-flex","flex-space-around","padding-half",3,"click"],["class","animate opacity-0 clock-plus cursor-pointer",3,"ngClass","click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"animate","opacity-0","clock-plus","cursor-pointer",3,"ngClass","click"],[1,"text-white"],[1,"transition",3,"cityClocksList","item","item_index","checkMoreClock","rtlDirection"],[1,"padding-r-l",3,"click"],["autocomplete","off"],[1,"full-width","text-dark-mode-color"],["type","text","matInput","",1,"full-width",3,"formControl","matAutocomplete"],[1,"text-dark-mode-color",3,"displayWith"],["auto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],[3,"value","onSelectionChange","click"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"mat-icon",1),l.Hc(3,"access_time"),l.Sb(),l.Hc(4,"\n\n  "),l.Tb(5,"div",2),l.Hc(6,"\n    "),l.Tb(7,"mat-list",3),l.Hc(8,"\n      "),l.Tb(9,"mat-list-item",1),l.Hc(10,"\n        "),l.Tb(11,"div",4),l.Hc(12),l.Sb(),l.Hc(13,"\n        "),l.Tb(14,"div",4),l.Hc(15),l.Sb(),l.Hc(16,"\n      "),l.Sb(),l.Hc(17,"\n    "),l.Sb(),l.Hc(18,"\n\n    "),l.Tb(19,"mat-list",3),l.Hc(20,"\n      "),l.Tb(21,"mat-list-item",5),l.Hc(22,"\n        "),l.Tb(23,"app-time-area-digital-clock",6),l.Hc(24,"\n        "),l.Sb(),l.Hc(25,"\n        "),l.Tb(26,"div",7),l.Tb(27,"span"),l.Hc(28),l.Sb(),l.Sb(),l.Hc(29,"\n      "),l.Sb(),l.Hc(30,"\n    "),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb(),l.Hc(33,"\n"),l.Tb(34,"mat-menu",8,9),l.Hc(36,"\n  "),l.Tb(37,"h6",10),l.ac("click",(function(t){return t.stopPropagation()})),l.Hc(38),l.fc(39,"translate"),l.Fc(40,Wt,7,2,"a",11),l.Hc(41,"\n\n    "),l.Fc(42,Yt,8,3,"ng-template",null,12,l.Gc),l.Hc(44,"\n  "),l.Sb(),l.Hc(45,"\n\n  "),l.Fc(46,Vt,6,2,"div",13),l.Hc(47,"\n\n  "),l.Fc(48,$t,23,9,"ng-template",null,14,l.Gc),l.Hc(50,"\n"),l.Sb(),l.Hc(51,"\n")),2&t){var n=l.rc(35),r=l.rc(43),i=l.rc(49);l.kc("dir",e.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",n)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto"),l.Bb(7),l.kc("ngClass",e.rtlDirection?"text-right":"text-left"),l.Bb(5),l.Ic(e.datetime?e.datetime.date:""),l.Bb(3),l.Ic(e.datetime?e.datetime.weekday:""),l.Bb(4),l.kc("ngClass",e.rtlDirection?"text-left":"text-right"),l.Bb(4),l.kc("timezone",e.loggedInUser?e.loggedInUser.timezone:null),l.Bb(5),l.Ic(e.loggedInUser?e.currentTimezone:""),l.Bb(10),l.Jc("\n    ",l.gc(39,14,"dashboard.dashboard_toolbar.active_clocks"),"\n\n    "),l.Bb(2),l.kc("ngIf",!e.checkMoreClockContent)("ngIfElse",r),l.Bb(6),l.kc("ngIf",!1===e.checkMoreClockContent)("ngIfElse",i)}},directives:[O.b,W.d,a.i,A.a,T.a,T.d,I.j,zt.a,W.a,T.f,a.k,a.j,Ut,nt.v,nt.o,nt.p,at.c,at.f,ct.b,nt.c,Nt.c,nt.n,nt.f,Nt.a,I.m],pipes:[p.c,a.b],styles:[".left-to-right[_ngcontent-%COMP%]{left:-100%}.right-to-left[_ngcontent-%COMP%]{right:0}"]}),t}(),Gt=n("kiQV"),Kt=function(){function t(t,e){this.http=t,this.companySelectorService=e,this.accessToken="",this.API_URL=f.a.CONTAINER_URL+"/hr",this.headers={headers:new S.c({"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"})}}return t.prototype.updateUser=function(t,e){return this.currentCompany=this.companySelectorService.currentCompany,this.headers.headers=this.headers.headers.set("Authorization",this.accessToken),this.http.patch(this.API_URL+"/users/"+e+"?comp_id="+this.currentCompany.id,t,this.headers)},t.\u0275fac=function(e){return new(e||t)(l.Xb(S.a),l.Xb(w.a))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Zt=n("o0o1"),te=n.n(Zt),ee=n("1OyB"),ne=n("vuIU");function re(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(e){o(e)}}function c(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}var ie=n("jhN1"),oe=["wrapper"],ae=["sourceImage"];function ce(t,e){if(1&t){var n=l.Ub();l.Tb(0,"img",4,5),l.ac("load",(function(){return l.vc(n),l.ec().imageLoadedInView()})),l.Sb()}if(2&t){var r=l.ec();l.Cc("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle),l.kc("src",r.safeImgDataUrl,l.xc)}}function se(t,e){if(1&t){var n=l.Ub();l.Rb(0),l.Hc(1,"\n            "),l.Tb(2,"span",9),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"topleft")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"topleft")})),l.Hc(3,"\n                "),l.Ob(4,"span",10),l.Hc(5,"\n            "),l.Sb(),l.Hc(6,"\n            "),l.Tb(7,"span",11),l.Hc(8,"\n                "),l.Ob(9,"span",10),l.Hc(10,"\n            "),l.Sb(),l.Hc(11,"\n            "),l.Tb(12,"span",12),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"topright")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"topright")})),l.Hc(13,"\n                "),l.Ob(14,"span",10),l.Hc(15,"\n            "),l.Sb(),l.Hc(16,"\n            "),l.Tb(17,"span",13),l.Hc(18,"\n                "),l.Ob(19,"span",10),l.Hc(20,"\n            "),l.Sb(),l.Hc(21,"\n            "),l.Tb(22,"span",14),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")})),l.Hc(23,"\n                "),l.Ob(24,"span",10),l.Hc(25,"\n            "),l.Sb(),l.Hc(26,"\n            "),l.Tb(27,"span",15),l.Hc(28,"\n                "),l.Ob(29,"span",10),l.Hc(30,"\n            "),l.Sb(),l.Hc(31,"\n            "),l.Tb(32,"span",16),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")})),l.Hc(33,"\n                "),l.Ob(34,"span",10),l.Hc(35,"\n            "),l.Sb(),l.Hc(36,"\n            "),l.Tb(37,"span",17),l.Hc(38,"\n                "),l.Ob(39,"span",10),l.Hc(40,"\n            "),l.Sb(),l.Hc(41,"\n            "),l.Tb(42,"span",18),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"top")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"top")})),l.Hc(43,"\n            "),l.Sb(),l.Hc(44,"\n            "),l.Tb(45,"span",19),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"right")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"right")})),l.Hc(46,"\n            "),l.Sb(),l.Hc(47,"\n            "),l.Tb(48,"span",20),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottom")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"bottom")})),l.Hc(49,"\n            "),l.Sb(),l.Hc(50,"\n            "),l.Tb(51,"span",21),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"left")}))("touchstart",(function(t){l.vc(n);var e=l.ec(2);return e.startMove(t,e.moveTypes.Resize,"left")})),l.Hc(52,"\n            "),l.Sb(),l.Hc(53,"\n        "),l.Qb()}}function le(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",6),l.ac("keydown",(function(t){return l.vc(n),l.ec().keyboardAccess(t)})),l.Hc(1,"\n        "),l.Tb(2,"div",7),l.ac("mousedown",(function(t){l.vc(n);var e=l.ec();return e.startMove(t,e.moveTypes.Move)}))("touchstart",(function(t){l.vc(n);var e=l.ec();return e.startMove(t,e.moveTypes.Move)})),l.Hc(3,"\n        "),l.Sb(),l.Hc(4,"\n        "),l.Fc(5,se,54,0,"ng-container",8),l.Hc(6,"\n    "),l.Sb()}if(2&t){var r=l.ec();l.Cc("top",r.cropper.y1,"px")("left",r.cropper.x1,"px")("width",r.cropper.x2-r.cropper.x1,"px")("height",r.cropper.y2-r.cropper.y1,"px")("margin-left","center"===r.alignImage?r.marginLeft:null)("visibility",r.imageVisible?"visible":"hidden"),l.Fb("rounded",r.roundCropper),l.Bb(5),l.kc("ngIf",!r.hideResizeSquares)}}var ue={Move:"move",Resize:"resize",Pinch:"pinch"},pe=function(){var t=function(){function t(){Object(ee.a)(this,t)}return Object(ne.a)(t,[{key:"crop",value:function(t,e,n,r){var i=this.getImagePosition(t,e,n,r),o=i.x2-i.x1,a=i.y2-i.y1,c=document.createElement("canvas");c.width=o,c.height=a;var s=c.getContext("2d");if(s){null!=r.backgroundColor&&(s.fillStyle=r.backgroundColor,s.fillRect(0,0,o,a));var l=(r.transform.scale||1)*(r.transform.flipH?-1:1),u=(r.transform.scale||1)*(r.transform.flipV?-1:1),p=e.transformed;s.setTransform(l,0,0,u,p.size.width/2,p.size.height/2),s.translate(-i.x1/l,-i.y1/u),s.rotate((r.transform.rotate||0)*Math.PI/180),s.drawImage(p.image,-p.size.width/2,-p.size.height/2);var f={width:o,height:a,imagePosition:i,cropperPosition:Object.assign({},n)};r.containWithinAspectRatio&&(f.offsetImagePosition=this.getOffsetImagePosition(t,e,n,r));var g=this.getResizeRatio(o,a,r);return 1!==g&&(f.width=Math.round(o*g),f.height=r.maintainAspectRatio?Math.round(f.width/r.aspectRatio):Math.round(a*g),function(t,e,n){var r=t.width,i=t.height,o=r/(e=Math.round(e)),a=i/(n=Math.round(n)),c=Math.ceil(o/2),s=Math.ceil(a/2),l=t.getContext("2d");if(l){for(var u=l.getImageData(0,0,r,i),p=l.createImageData(e,n),f=u.data,g=p.data,h=0;h<n;h++)for(var d=0;d<e;d++){var m=4*(d+h*e),b=h*a,v=0,_=0,y=0,w=0,x=0,S=0,k=0,H=Math.floor(d*o),C=Math.floor(h*a),M=Math.ceil((d+1)*o),O=Math.ceil((h+1)*a);M=Math.min(M,r),O=Math.min(O,i);for(var T=C;T<O;T++)for(var I=Math.abs(b-T)/s,P=d*o,A=I*I,z=H;z<M;z++){var D=Math.abs(P-z)/c,B=Math.sqrt(A+D*D);if(!(B>=1)){var L=4*(z+T*r);k+=(v=2*B*B*B-3*B*B+1)*f[L+3],y+=v,f[L+3]<255&&(v=v*f[L+3]/250),w+=v*f[L],x+=v*f[L+1],S+=v*f[L+2],_+=v}}g[m]=w/_,g[m+1]=x/_,g[m+2]=S/_,g[m+3]=k/y}t.width=e,t.height=n,l.putImageData(p,0,0)}}(c,f.width,f.height)),f.base64=c.toDataURL("image/"+r.format,this.getQuality(r)),f}}},{key:"getImagePosition",value:function(t,e,n,r){var i=e.transformed.size.width/t.nativeElement.offsetWidth,o={x1:Math.round(n.x1*i),y1:Math.round(n.y1*i),x2:Math.round(n.x2*i),y2:Math.round(n.y2*i)};return r.containWithinAspectRatio||(o.x1=Math.max(o.x1,0),o.y1=Math.max(o.y1,0),o.x2=Math.min(o.x2,e.transformed.size.width),o.y2=Math.min(o.y2,e.transformed.size.height)),o}},{key:"getOffsetImagePosition",value:function(t,e,n,r){var i,o,a=e.transformed.size.width/t.nativeElement.offsetWidth;(r.canvasRotation+e.exifTransform.rotate)%2?(i=(e.transformed.size.width-e.original.size.height)/2,o=(e.transformed.size.height-e.original.size.width)/2):(i=(e.transformed.size.width-e.original.size.width)/2,o=(e.transformed.size.height-e.original.size.height)/2);var c={x1:Math.round(n.x1*a)-i,y1:Math.round(n.y1*a)-o,x2:Math.round(n.x2*a)-i,y2:Math.round(n.y2*a)-o};return r.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.transformed.size.width),c.y2=Math.min(c.y2,e.transformed.size.height)),c}},{key:"getResizeRatio",value:function(t,e,n){var r=n.resizeToWidth/t,i=n.resizeToHeight/e,o=new Array;n.resizeToWidth>0&&o.push(r),n.resizeToHeight>0&&o.push(i);var a=0===o.length?1:Math.min.apply(Math,o);return a>1&&!n.onlyScaleDown?a:Math.min(a,1)}},{key:"getQuality",value:function(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(l.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),fe=function(){function t(){Object(ee.a)(this,t),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return Object(ne.a)(t,[{key:"setOptions",value:function(t){var e=this;Object.keys(t).forEach((function(n){return e[n]=t[n]}))}}]),t}();function ge(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,r=2;r<n;){if(e.getUint16(r+2,!1)<=8)return-1;var i=e.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=e.getUint32(r+=2,!1))return-1;var o=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,o);var a=e.getUint16(r,o);r+=2;for(var c=0;c<a;c++)if(274==e.getUint16(r+12*c,o))return e.getUint16(r+12*c+8,o)}else{if(65280!=(65280&i))break;r+=e.getUint16(r,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}var he=function(){var t=function(){function t(){Object(ee.a)(this,t),this.autoRotateSupported=new Promise((function(t){var e=new Image;e.onload=function(){t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}))}return Object(ne.a)(t,[{key:"loadImageFile",value:function(t,e){var n=this;return new Promise((function(r,i){var o=new FileReader;o.onload=function(o){n.loadImage(o.target.result,t.type,e).then(r).catch(i)},o.readAsDataURL(t)}))}},{key:"loadImage",value:function(t,e,n){return this.isValidImageType(e)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}},{key:"loadImageFromURL",value:function(t,e){var n=this;return new Promise((function(r,i){var o=new Image;o.onerror=function(){return i},o.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=o.width,t.height=o.height,i.drawImage(o,0,0),n.loadBase64Image(t.toDataURL(),e).then(r)},o.crossOrigin="anonymous",o.src=t}))}},{key:"loadBase64Image",value:function(t,e){var n=this;return new Promise((function(e,n){var r=new Image;r.onload=function(){return e({originalImage:r,originalBase64:t})},r.onerror=n,r.src=t})).then((function(t){return n.transformImageBase64(t,e)}))}},{key:"transformImageBase64",value:function(t,e){return re(this,void 0,void 0,te.a.mark((function n(){var r,i;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.autoRotateSupported;case 2:return r=n.sent,n.next=5,ge(r?-1:t.originalBase64);case 5:if(i=n.sent,t.originalImage&&t.originalImage.complete){n.next=8;break}return n.abrupt("return",Promise.reject(new Error("No image loaded")));case 8:return n.abrupt("return",this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:i},e));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"transformLoadedImage",value:function(t,e){return re(this,void 0,void 0,te.a.mark((function n(){var r,i,o,a,c,s,l;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight},0!==(r=e.canvasRotation+t.exifTransform.rotate)||t.exifTransform.flip||e.containWithinAspectRatio){n.next=4;break}return n.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},exifTransform:t.exifTransform});case 4:return o=this.getTransformedSize(i,t.exifTransform,e),(a=document.createElement("canvas")).width=o.width,a.height=o.height,(c=a.getContext("2d")).setTransform(t.exifTransform.flip?-1:1,0,0,1,a.width/2,a.height/2),c.rotate(Math.PI*(r/2)),c.drawImage(t.original.image,-i.width/2,-i.height/2),s=a.toDataURL(),n.next=15,this.loadImageFromBase64(s);case 15:return l=n.sent,n.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},transformed:{base64:s,image:l,size:{width:l.width,height:l.height}},exifTransform:t.exifTransform});case 17:case"end":return n.stop()}}),n,this)})))}},{key:"loadImageFromBase64",value:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t}))}},{key:"getTransformedSize",value:function(t,e,n){var r=n.canvasRotation+e.rotate;if(n.containWithinAspectRatio){if(r%2){var i=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,i)}}var o=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,o)}}return r%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(l.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),de=function(){var t=function(){function t(){Object(ee.a)(this,t)}return Object(ne.a)(t,[{key:"resetCropperPosition",value:function(t,e,n){var r=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)e.x1=0,e.x2=r.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:r.offsetWidth,e.y1=0,e.y2=r.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:r.offsetHeight;else{var i=Math.min(n.cropperScaledMaxWidth,r.offsetWidth),o=Math.min(n.cropperScaledMaxHeight,r.offsetHeight);if(n.maintainAspectRatio)if(i/n.aspectRatio<o){e.x1=0,e.x2=i;var a=i/n.aspectRatio;e.y1=(r.offsetHeight-a)/2,e.y2=e.y1+a}else{e.y1=0,e.y2=o;var c=o*n.aspectRatio;e.x1=(r.offsetWidth-c)/2,e.x2=e.x1+c}else e.x1=0,e.x2=i,e.y1=0,e.y2=o}}},{key:"move",value:function(t,e,n){var r=this.getClientX(t)-e.clientX,i=this.getClientY(t)-e.clientY;n.x1=e.x1+r,n.y1=e.y1+i,n.x2=e.x2+r,n.y2=e.y2+i}},{key:"resize",value:function(t,e,n,r,i){var o=this.getClientX(t)-e.clientX,a=this.getClientY(t)-e.clientY;switch(e.position){case"left":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"center":var c=t.scale,s=Math.min(Math.max(i.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*c),i.cropperScaledMaxWidth),l=Math.min(Math.max(i.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*c),i.cropperScaledMaxHeight);n.x1=e.clientX-s/2,n.x2=e.clientX+s/2,n.y1=e.clientY-l/2,n.y2=e.clientY+l/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>r.width&&(n.x1-=n.x2-r.width,n.x2=r.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>r.height&&(n.y1-=n.y2-r.height,n.y2=r.height)}i.maintainAspectRatio&&this.checkAspectRatio(e.position,n,r,i)}},{key:"checkAspectRatio",value:function(t,e,n,r){var i=0,o=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,i=Math.max(0-e.x1,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x1+=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,i=Math.max(0-e.x1,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x1+=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio;var a=Math.max(0-e.x1,0),c=Math.max(e.x2-n.width,0),s=Math.max(e.y2-n.height,0),l=Math.max(0-e.y1,0);(a>0||c>0||s>0||l>0)&&(e.x1+=s*r.aspectRatio>a?s*r.aspectRatio:a,e.x2-=l*r.aspectRatio>c?l*r.aspectRatio:c,e.y1+=l*r.aspectRatio>c?l:c/r.aspectRatio,e.y2-=s*r.aspectRatio>a?s:a/r.aspectRatio)}}},{key:"getClientX",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}},{key:"getClientY",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(l.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),me=function(){var t=function(){function t(e,n,r,i,o){Object(ee.a)(this,t),this.cropService=e,this.cropperPositionService=n,this.loadImageService=r,this.sanitizer=i,this.cd=o,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new fe,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=ue,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new l.o,this.startCropImage=new l.o,this.imageLoaded=new l.o,this.cropperReady=new l.o,this.loadImageFailed=new l.o,this.reset()}return Object(ne.a)(t,[{key:"ngOnChanges",value:function(t){var e=this;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage&&this.loadedImage.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)})),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(t){var e=this;Object.keys(t).filter((function(t){return e.settings.hasOwnProperty(t)})).forEach((function(t){return e.settings[t]=e[t]})),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.settings.hideResizeSquares=!0,this.settings.cropperMinWidth=this.settings.cropperStaticWidth,this.settings.cropperMinHeight=this.settings.cropperStaticHeight,this.settings.cropperMaxHeight=this.settings.cropperStaticHeight,this.settings.cropperMaxWidth=this.settings.cropperStaticWidth,this.settings.maintainAspectRatio=!1)}},{key:"onChangesInputImage",value:function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(t){var e=this;this.loadImageService.loadImageFile(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"loadBase64Image",value:function(t){var e=this;this.loadImageService.loadBase64Image(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"loadImageFromURL",value:function(t){var e=this;this.loadImageService.loadImageFromURL(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"setLoadedImage",value:function(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(t){console.error(t),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout((function(){return t.checkImageMaxSizeRecursively()})))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return t.checkImageMaxSizeRecursively()}),50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(l.X)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){t.key>="1"&&t.key<="9"&&(this.settings.stepSize=+t.key)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?ue.Resize:ue.Move,n=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),r=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,n),this.moveImg(r),this.moveStop()}}},{key:"startMove",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===ue.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:n,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}},{key:"startPinch",value:function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:ue.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ue.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===ue.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ue.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){if(this.loadedImage.transformed.image){var t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();var t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Nb(pe),l.Nb(de),l.Nb(he),l.Nb(ie.b),l.Nb(l.h))},t.\u0275cmp=l.Hb({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var n;1&t&&(l.Bc(oe,!0),l.Mc(ae,!0)),2&t&&(l.qc(n=l.bc())&&(e.wrapper=n.first),l.qc(n=l.bc())&&(e.sourceImage=n.first))},hostVars:4,hostBindings:function(t,e){1&t&&l.ac("resize",(function(){return e.onResize()}),!1,l.uc)("mousemove",(function(t){return e.moveImg(t)}),!1,l.tc)("touchmove",(function(t){return e.moveImg(t)}),!1,l.tc)("mouseup",(function(){return e.moveStop()}),!1,l.tc)("touchend",(function(){return e.moveStop()}),!1,l.tc),2&t&&(l.Cc("text-align",e.alignImage),l.Fb("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[l.zb],decls:10,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(l.Tb(0,"div",null,0),l.Hc(2,"\n    "),l.Fc(3,ce,2,5,"img",1),l.Hc(4,"\n    "),l.Ob(5,"div",2),l.Hc(6,"\n    "),l.Fc(7,le,7,15,"div",3),l.Hc(8,"\n"),l.Sb(),l.Hc(9,"\n")),2&t&&(l.Cc("background",e.imageVisible&&e.backgroundColor),l.Bb(3),l.kc("ngIf",e.safeImgDataUrl),l.Bb(2),l.Cc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),l.Bb(2),l.kc("ngIf",e.imageVisible))},directives:[a.k],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t}(),be=function(){var t=function t(){Object(ee.a)(this,t)};return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[a.c]]}),t}(),ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(){return(_e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ye(t,e){1&t&&(l.Tb(0,"div",23),l.Hc(1,"\n  "),l.Tb(2,"div",24),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",25),l.Hc(5,"\n        "),l.Tb(6,"rect",26),l.Hc(7,"\n          "),l.Ob(8,"animate",27),l.Hc(9,"\n          "),l.Ob(10,"animate",28),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",29),l.Hc(14,"\n          "),l.Ob(15,"animate",30),l.Hc(16,"\n        "),l.Ob(17,"animate",31),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",32),l.Hc(21,"\n          "),l.Ob(22,"animate",33),l.Hc(23,"\n        "),l.Ob(24,"animate",34),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n\n    "),l.cc(),l.Tb(28,"span",35),l.Hc(29),l.fc(30,"translate"),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb()),2&t&&(l.Bb(29),l.Ic(l.gc(30,1,"global.loading")))}var we=function(t){function e(e,n,r,i,o,a,c,s,l){var u=t.call(this,r,a)||this;return u.data=e,u.dialogRef=n,u.injector=r,u.translate=i,u.messageService=o,u.userInfoService=a,u.viewDirection=c,u.profileSettingService=s,u.loadingIndicatorService=l,u.imageChangedEvent="",u.croppedImage="",u.canvasRotation=0,u.rotation=0,u.scale=1,u.showCropper=!1,u.containWithinAspectRatio=!1,u.transform={},u.loadingIndicator={status:!1,serviceName:"imageCropper"},u._subscription=new h.Subscription,u._subscription.add(u.viewDirection.currentDirection.subscribe((function(t){return u.rtlDirection=t}))),u._subscription.add(u.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return u.loadingIndicator=t}))),u}return ve(e,t),e.prototype.ngOnInit=function(){this.dialogData=this.data,this.fileChangeEvent(this.dialogData.data)},e.prototype.closeModal=function(){this.dialogRef.close(!1)},e.prototype.onSubmit=function(){var t=this;this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"imageCropper"}),this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;var e={};e.profile_image=this.croppedImage,this._subscription.add(this.profileSettingService.updateUser(e,this.loggedInUser.id).subscribe((function(e){if(e.success){var n=t.getTranslate("profileSettings.profile_update");t.messageService.showMessage(n,"success"),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"});var r=t.loggedInUser;r=_e(_e({},r),{profile_image:"assets/profileImg/0.jpg"}),t.userInfoService.changeUserInfo(r),r=_e(_e({},r),{profile_image:e.data.profile_image}),t.userInfoService.changeUserInfo(r),t.dialogRef.close(!0)}}),(function(e){t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"imageCropper"})})))},e.prototype.fileChangeEvent=function(t){this.imageChangedEvent=t},e.prototype.imageCropped=function(t){this.croppedImage=t.base64},e.prototype.imageLoaded=function(){this.showCropper=!0},e.prototype.loadImageFailed=function(){var t=this.getTranslate("profileSettings.error_upload");this.messageService.showMessage(t,"error")},e.prototype.rotateLeft=function(){this.canvasRotation--,this.flipAfterRotate()},e.prototype.rotateRight=function(){this.canvasRotation++,this.flipAfterRotate()},e.prototype.flipHorizontal=function(){this.transform=_e(_e({},this.transform),{flipH:!this.transform.flipH})},e.prototype.flipVertical=function(){this.transform=_e(_e({},this.transform),{flipV:!this.transform.flipV})},e.prototype.resetImage=function(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}},e.prototype.zoomOut=function(){this.scale-=.1,this.transform=_e(_e({},this.transform),{scale:this.scale})},e.prototype.zoomIn=function(){this.scale+=.1,this.transform=_e(_e({},this.transform),{scale:this.scale})},e.prototype.toggleContainWithinAspectRatio=function(){this.containWithinAspectRatio=!this.containWithinAspectRatio},e.prototype.getTranslate=function(t){return this.translate.instant(t)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.prototype.flipAfterRotate=function(){var t=this.transform.flipH,e=this.transform.flipV;this.transform=_e(_e({},this.transform),{flipH:e,flipV:t})},e.\u0275fac=function(t){return new(t||e)(l.Nb(C.a),l.Nb(C.e),l.Nb(l.t),l.Nb(p.d),l.Nb(d.a),l.Nb(b.a),l.Nb(y.a),l.Nb(Kt),l.Nb(rt.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-show-image-cropper"]],features:[l.yb],decls:117,vars:29,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0","full-width","bg-white",3,"dir"],[1,"full-width","height-45","padding-half","display-flex"],[1,"full-width","font-full-plus-one-tenth-em","display-flex","no-margin"],[1,"pos-rel","top-one-tenth",3,"ngClass"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","bg-grey"],[1,"full-width","full-height","pos-abs","left-0","right-0","top-0"],[1,"container-show-cropper","padding-full","display-inline-block","full-width"],[2,"width","50% !important",3,"ngClass"],["format","jpeg",2,"padding","15px !important",3,"alignImage","aspectRatio","canvasRotation","containWithinAspectRatio","cropperMinWidth","imageChangedEvent","imageQuality","maintainAspectRatio","onlyScaleDown","resizeToWidth","roundCropper","transform","imageCropped","imageLoaded","loadImageFailed"],[1,"padding-l-half","padding-r-half","half-width",3,"ngClass"],[1,"round-corner","full-width",3,"src"],[1,"container-tools","display-inline-block","full-width","height-50","margin-t-full"],[1,"display-block","cursor-pointer","text-center","no-padding","no-border","no-bg","margin-r-l",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-purple-800"],[1,"height-35","display-flex","justify-content-end","full-width","display-flex","align-items-end","justify-content-end"],["type","button",1,"no-bg","no-border","cursor-pointer","text-red-500","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"padding-mini-r-l"],["mat-raised-button","","type","button",1,"green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"click"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"div",1),l.Hc(3,"\n    "),l.Tb(4,"h3",2),l.Hc(5,"\n      "),l.Tb(6,"mat-icon",3),l.Hc(7,"photo_size_select_actual\n      "),l.Sb(),l.Hc(8),l.fc(9,"translate"),l.Sb(),l.Hc(10,"\n\n    "),l.Tb(11,"div",4),l.Hc(12,"\n      "),l.Tb(13,"button",5),l.ac("click",(function(){return e.closeModal()})),l.Hc(14,"\n        "),l.Tb(15,"mat-icon",6),l.Hc(16,"close\n        "),l.Sb(),l.Hc(17,"\n      "),l.Sb(),l.Hc(18,"\n    "),l.Sb(),l.Hc(19,"\n  "),l.Sb(),l.Hc(20,"\n  "),l.Tb(21,"div",7),l.Hc(22,"\n    "),l.Tb(23,"div",8),l.Hc(24,"\n      "),l.Tb(25,"div",9),l.Hc(26,"\n\n        "),l.Hc(27,"\n\n        "),l.Hc(28,"\n\n        "),l.Tb(29,"div",10),l.Hc(30,"\n          "),l.Tb(31,"image-cropper",11),l.ac("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("loadImageFailed",(function(){return e.loadImageFailed()})),l.Hc(32,"\n          "),l.Sb(),l.Hc(33,"\n        "),l.Sb(),l.Hc(34,"\n\n        "),l.Tb(35,"div",12),l.Hc(36,"\n          "),l.Ob(37,"img",13),l.Hc(38,"\n        "),l.Sb(),l.Hc(39,"\n\n        "),l.Tb(40,"div",14),l.Hc(41,"\n\n          "),l.Tb(42,"button",15),l.ac("click",(function(){return e.rotateLeft()})),l.Hc(43,"\n            "),l.Tb(44,"mat-icon",16),l.Hc(45,"\n              rotate_left\n            "),l.Sb(),l.Hc(46,"\n          "),l.Sb(),l.Hc(47,"\n\n          "),l.Tb(48,"button",15),l.ac("click",(function(){return e.rotateRight()})),l.Hc(49,"\n            "),l.Tb(50,"mat-icon",16),l.Hc(51,"\n              rotate_right\n            "),l.Sb(),l.Hc(52,"\n          "),l.Sb(),l.Hc(53,"\n\n          "),l.Tb(54,"button",15),l.ac("click",(function(){return e.flipHorizontal()})),l.Hc(55,"\n            "),l.Tb(56,"mat-icon",16),l.Hc(57,"360\n            "),l.Sb(),l.Hc(58,"\n          "),l.Sb(),l.Hc(59,"\n\n          "),l.Tb(60,"button",15),l.ac("click",(function(){return e.flipVertical()})),l.Hc(61,"\n            "),l.Tb(62,"mat-icon",16),l.Hc(63,"\n              swap_vert\n            "),l.Sb(),l.Hc(64,"\n          "),l.Sb(),l.Hc(65,"\n\n          "),l.Tb(66,"button",15),l.ac("click",(function(){return e.zoomIn()})),l.Hc(67,"\n            "),l.Tb(68,"mat-icon",16),l.Hc(69,"zoom_in\n            "),l.Sb(),l.Hc(70,"\n          "),l.Sb(),l.Hc(71,"\n\n          "),l.Tb(72,"button",15),l.ac("click",(function(){return e.zoomOut()})),l.Hc(73,"\n            "),l.Tb(74,"mat-icon",16),l.Hc(75,"\n              zoom_out\n            "),l.Sb(),l.Hc(76,"\n          "),l.Sb(),l.Hc(77,"\n\n          "),l.Tb(78,"button",15),l.ac("click",(function(){return e.toggleContainWithinAspectRatio()})),l.Hc(79,"\n            "),l.Tb(80,"mat-icon",16),l.Hc(81,"\n              zoom_out_map\n            "),l.Sb(),l.Hc(82,"\n          "),l.Sb(),l.Hc(83,"\n\n          "),l.Tb(84,"button",15),l.ac("click",(function(){return e.resetImage()})),l.Hc(85,"\n            "),l.Tb(86,"mat-icon",16),l.Hc(87,"\n              restore_page\n            "),l.Sb(),l.Hc(88,"\n          "),l.Sb(),l.Hc(89,"\n        "),l.Sb(),l.Hc(90,"\n\n        "),l.Tb(91,"div",17),l.Hc(92,"\n          "),l.Tb(93,"button",18),l.ac("click",(function(){return e.closeModal()})),l.Hc(94,"\n            "),l.Tb(95,"span",19),l.Hc(96),l.fc(97,"translate"),l.Sb(),l.Hc(98,"\n          "),l.Sb(),l.Hc(99,"\n\n          "),l.Tb(100,"button",20),l.ac("click",(function(){return e.onSubmit()})),l.Hc(101,"\n            "),l.Tb(102,"mat-icon",21),l.Hc(103,"check"),l.Sb(),l.Hc(104,"\n            "),l.Tb(105,"span",19),l.Hc(106),l.fc(107,"translate"),l.Sb(),l.Hc(108,"\n          "),l.Sb(),l.Hc(109,"\n        "),l.Sb(),l.Hc(110,"\n      "),l.Sb(),l.Hc(111,"\n    "),l.Sb(),l.Hc(112,"\n  "),l.Sb(),l.Hc(113,"\n"),l.Sb(),l.Hc(114,"\n\n"),l.Fc(115,ye,33,3,"div",22),l.Hc(116,"\n")),2&t&&(l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(6),l.kc("ngClass",e.rtlDirection?"margin-l-half":"margin-r-half"),l.Bb(2),l.Jc("\n      ",l.gc(9,23,"profileSettings.edit_user_photo"),"\n    "),l.Bb(3),l.kc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),l.Bb(18),l.kc("ngClass",e.rtlDirection?"float-right":"float-left"),l.Bb(2),l.Cc("display",e.showCropper?null:"none"),l.kc("alignImage","center")("aspectRatio",1)("canvasRotation",e.canvasRotation)("containWithinAspectRatio",e.containWithinAspectRatio)("cropperMinWidth",200)("imageChangedEvent",e.imageChangedEvent)("imageQuality",50)("maintainAspectRatio",!0)("onlyScaleDown",!0)("roundCropper",!1)("transform",e.transform),l.Bb(4),l.kc("ngClass",e.rtlDirection?"float-right":"float-left"),l.Bb(2),l.kc("src",e.croppedImage,l.xc),l.Bb(59),l.Ic(l.gc(97,25,"global.dismiss")),l.Bb(10),l.Ic(l.gc(107,27,"global.submit")),l.Bb(9),l.kc("ngIf",e.loadingIndicator.status&&"imageCropper"===e.loadingIndicator.serviceName))},directives:[O.b,A.a,a.i,me,P.a,a.k],pipes:[p.c],styles:[".container-tools[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center;justify-content:center}"]}),e}(m.a),xe=n("jaxi"),Se=n("d3UM"),ke=n("eIep"),He=n("quSY"),Ce=n("HDdC"),Me=function(){function t(){this.progress=0}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:5,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Ob(2,"div",1),l.Hc(3,"\n"),l.Sb(),l.Hc(4,"\n")),2&t&&(l.Bb(2),l.Cc("width",e.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:all .5s}"]}),t}(),Oe=function(){function t(){this.fileDropped=new l.o}return t.prototype.onDragOver=function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0},t.prototype.onDragLeave=function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1},t.prototype.ondrop=function(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;var e=t.dataTransfer.files;e.length>0&&this.fileDropped.emit(e)},t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.Ib({type:t,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(t,e){1&t&&l.ac("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&l.Fb("fileover",e.fileOver)},outputs:{fileDropped:"fileDropped"}}),t}(),Te=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(){return(Ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Pe(t,e){if(1&t&&(l.Tb(0,"div",14),l.Hc(1,"\n\n          "),l.Tb(2,"div",15),l.Hc(3,"\n            "),l.Tb(4,"h4",16),l.Hc(5),l.Sb(),l.Hc(6,"\n            "),l.Tb(7,"p",17),l.Hc(8),l.Sb(),l.Hc(9,"\n            "),l.Ob(10,"app-progress",18),l.Hc(11,"\n          "),l.Sb(),l.Hc(12,"\n        "),l.Sb()),2&t){var n=e.$implicit,r=l.ec(3);l.Bb(5),l.Jc("\n              ",null==n?null:n.name,"\n            "),l.Bb(3),l.Jc("\n              ",r.formatBytes(null==n?null:n.size),"\n            "),l.Bb(2),l.kc("progress",null==n?null:n.progress)}}function Ae(t,e){if(1&t&&(l.Tb(0,"div",12),l.Hc(1,"\n        "),l.Fc(2,Pe,13,3,"div",13),l.Hc(3,"\n      "),l.Sb()),2&t){var n=l.ec(2);l.Bb(2),l.kc("ngForOf",n.files)}}function ze(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",19),l.ac("click",(function(){return l.vc(n),l.ec(2).deleteFile(0)})),l.Hc(1,"\n      "),l.Tb(2,"mat-icon",20),l.Hc(3,"\n        replay\n      "),l.Sb(),l.Hc(4,"\n    "),l.Sb()}}var De=function(t){return{width:t}};function Be(t,e){if(1&t&&(l.Tb(0,"div",7),l.Hc(1,"\n    "),l.Hc(2,"\n    "),l.Tb(3,"div",8),l.Hc(4,"\n\n      "),l.Ob(5,"img",9),l.Hc(6,"\n\n      "),l.Fc(7,Ae,4,1,"div",10),l.Hc(8,"\n\n    "),l.Sb(),l.Hc(9,"\n\n    "),l.Fc(10,ze,5,0,"div",11),l.Hc(11,"\n  "),l.Sb()),2&t){var n=l.ec();l.Bb(3),l.kc("ngStyle",l.nc(4,De,"calc(160px *"+n.environment.width/n.environment.height+")")),l.Bb(2),l.kc("src",n.wallpaperUrl,l.xc),l.Bb(2),l.kc("ngIf",n.showProgress),l.Bb(3),l.kc("ngIf",n.showDelete)}}function Le(t,e){if(1&t){var n=l.Ub();l.Hc(0,"\n    "),l.Tb(1,"div",21),l.ac("fileDropped",(function(t){return l.vc(n),l.ec().onFileDropped(t)})),l.Hc(2,"\n\n      "),l.Tb(3,"input",22),l.ac("change",(function(t){return l.vc(n),l.ec().fileBrowseHandler(t)})),l.Sb(),l.Hc(4,"\n\n      "),l.dc(),l.Tb(5,"svg",23),l.Hc(6,"\n        "),l.Ob(7,"path",24),l.Hc(8,"\n        "),l.Ob(9,"path",25),l.Hc(10,"\n        "),l.Ob(11,"polyline",26),l.Hc(12,"\n        "),l.Ob(13,"line",27),l.Hc(14,"\n      "),l.Sb(),l.Hc(15,"\n\n      "),l.cc(),l.Tb(16,"h6",28),l.Hc(17),l.fc(18,"translate"),l.Sb(),l.Hc(19,"\n\n      "),l.Tb(20,"label",29),l.Hc(21,"\n        "),l.Tb(22,"mat-icon",30),l.Hc(23,"add"),l.Sb(),l.Hc(24,"\n        "),l.Tb(25,"span",31),l.Hc(26),l.fc(27,"translate"),l.Sb(),l.Hc(28,"\n      "),l.Sb(),l.Hc(29,"\n    "),l.Sb(),l.Hc(30,"\n  ")}if(2&t){var r=l.ec();l.Bb(16),l.kc("ngClass",r.rtlDirection?"font-9-em":"font-full-plus-one-tenth-em"),l.Bb(1),l.Jc("\n        ",l.gc(18,3,"profileSettings.drag_drop_text1"),"\n      "),l.Bb(9),l.Ic(l.gc(27,5,"profileSettings.drag_drop_text3"))}}function Re(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-card",32),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec().changeWallpaperPhysical(t.img)})),l.Hc(1,"\n    "),l.Sb()}2&t&&l.Cc("background",e.$implicit.value)}function je(t,e){1&t&&(l.Tb(0,"div",33),l.Hc(1,"\n  "),l.Tb(2,"div",34),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",35),l.Hc(5,"\n        "),l.Tb(6,"rect",36),l.Hc(7,"\n          "),l.Ob(8,"animate",37),l.Hc(9,"\n          "),l.Ob(10,"animate",38),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",39),l.Hc(14,"\n          "),l.Ob(15,"animate",40),l.Hc(16,"\n        "),l.Ob(17,"animate",41),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",42),l.Hc(21,"\n          "),l.Ob(22,"animate",43),l.Hc(23,"\n        "),l.Ob(24,"animate",44),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n    "),l.Sb(),l.Hc(27,"\n\n    "),l.cc(),l.Tb(28,"span",45),l.Hc(29),l.fc(30,"translate"),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb()),2&t&&(l.Bb(29),l.Ic(l.gc(30,1,"global.loading")))}var Ue=function(t){function e(e,n,r,i,o,a,c,s,l,u,p,f,g){var h=t.call(this,i,s)||this;return h.data=e,h.dialogRef=n,h.http=r,h.injector=i,h.translate=o,h.messageService=a,h.electronService=c,h.userInfoService=s,h.viewDirection=l,h.refreshLoginService=u,h.wallPaperSelector=p,h.profileSettingService=f,h.loadingIndicatorService=g,h.showProgress=!1,h.showDelete=!1,h.rtlDirection=!1,h.loadingIndicator={status:!1,serviceName:"wallpaper"},h.wallpapersPictures=[{id:1,value:"url(./assets/images/wallpapers/1.jpg)",img:"./assets/images/wallpapers/1.jpg"},{id:2,value:"url(./assets/images/wallpapers/2.jpg)",img:"./assets/images/wallpapers/2.jpg"},{id:3,value:"url(./assets/images/wallpapers/3.jpg)",img:"./assets/images/wallpapers/3.jpg"},{id:4,value:"url(./assets/images/wallpapers/4.jpg)",img:"./assets/images/wallpapers/4.jpg"},{id:5,value:"url(./assets/images/wallpapers/5.jpg)",img:"./assets/images/wallpapers/5.jpg"},{id:6,value:"url(./assets/images/wallpapers/6.jpg)",img:"./assets/images/wallpapers/6.jpg"},{id:7,value:"url(./assets/images/wallpapers/7.jpg)",img:"./assets/images/wallpapers/7.jpg"},{id:8,value:"url(./assets/images/wallpapers/8.jpg)",img:"./assets/images/wallpapers/8.jpg"},{id:9,value:"url(./assets/images/wallpapers/9.jpg)",img:"./assets/images/wallpapers/9.jpg"},{id:10,value:"url(./assets/images/wallpapers/10.jpg)",img:"./assets/images/wallpapers/10.jpg"},{id:11,value:"url(./assets/images/wallpapers/11.jpg)",img:"./assets/images/wallpapers/11.jpg"},{id:12,value:"url(./assets/images/wallpapers/12.jpg)",img:"./assets/images/wallpapers/12.jpg"},{id:13,value:"url(./assets/images/wallpapers/13.jpg)",img:"./assets/images/wallpapers/13.jpg"},{id:14,value:"url(./assets/images/wallpapers/14.jpg)",img:"./assets/images/wallpapers/14.jpg"},{id:15,value:"url(./assets/images/wallpapers/15.jpg)",img:"./assets/images/wallpapers/15.jpg"},{id:16,value:"url(./assets/images/wallpapers/16.jpg)",img:"./assets/images/wallpapers/16.jpg"},{id:17,value:"url(./assets/images/wallpapers/17.jpg)",img:"./assets/images/wallpapers/17.jpg"},{id:18,value:"url(./assets/images/wallpapers/18.jpg)",img:"./assets/images/wallpapers/18.jpg"},{id:19,value:"url(./assets/images/wallpapers/19.jpg)",img:"./assets/images/wallpapers/19.jpg"},{id:20,value:"url(./assets/images/wallpapers/20.jpg)",img:"./assets/images/wallpapers/20.jpg"},{id:21,value:"url(./assets/images/wallpapers/21.jpg)",img:"./assets/images/wallpapers/21.jpg"},{id:22,value:"url(./assets/images/wallpapers/22.jpg)",img:"./assets/images/wallpapers/22.jpg"},{id:23,value:"url(./assets/images/wallpapers/23.jpg)",img:"./assets/images/wallpapers/23.jpg"},{id:24,value:"url(./assets/images/wallpapers/24.jpg)",img:"./assets/images/wallpapers/24.jpg"},{id:25,value:"url(./assets/images/wallpapers/25.jpg)",img:"./assets/images/wallpapers/25.jpg"},{id:26,value:"url(./assets/images/wallpapers/26.jpg)",img:"./assets/images/wallpapers/26.jpg"},{id:27,value:"url(./assets/images/wallpapers/27.jpg)",img:"./assets/images/wallpapers/27.jpg"}],h.files=[],h.wallpaperUrl="",h._subscription=new He.a,h._subscription.add(h.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return h.loadingIndicator=t}))),h._subscription.add(h.viewDirection.currentDirection.subscribe((function(t){return h.rtlDirection=t}))),h}return Te(e,t),e.prototype.ngOnInit=function(){this.environment=this.electronService.remote.screen.getPrimaryDisplay().workAreaSize},e.prototype.onFileDropped=function(t){this.prepareFilesList(t);var e=t[0];this.sellersPermitFile=e,this.handleInputChange(e)},e.prototype.fileBrowseHandler=function(t){this.prepareFilesList(t.target.files);var e=t.target.files;if(e.length>0){var n=e[0];this.sellersPermitFile=n,this.handleInputChange(n)}else alert("No file selected")},e.prototype.deleteFile=function(t){this.files.splice(t,1),this.wallpaperUrl="",this.showProgress=!1,this.showDelete=!1},e.prototype.uploadFilesSimulator=function(t){var e=this;setTimeout((function(){if(t!==e.files.length)var n=setInterval((function(){100===e.files[t].progress?(clearInterval(n),e.uploadFilesSimulator(t+1),e.onSubmit(e.wallpaperUrl)):e.files[t].progress+=5}),200)}),1e3)},e.prototype.prepareFilesList=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];r.progress=0,this.files.push(r)}this.uploadFilesSimulator(0)},e.prototype.formatBytes=function(t,e){if(void 0===e&&(e=0),0===t)return"0 Bytes";var n=e<=0?0:e||2,r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},e.prototype.handleInputChange=function(t){var e=t,n=new FileReader;e.type.match(/image-*/)?(n.onloadend=this._handleReaderLoaded.bind(this),n.readAsDataURL(e)):alert("invalid format")},e.prototype._handleReaderLoaded=function(t){var e=t.target.result;this.imageSrc=e,this.wallpaperUrl=e,this.showProgress=!0,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"})},e.prototype.onSubmit=function(t){var e=this;this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token;var n={};n.background_image=t,this._subscription.add(this.profileSettingService.updateUser(n,this.loggedInUser.id).subscribe((function(t){if(t.success){var n=e.getTranslate("profileSettings.profile_update");e.messageService.showMessage(n,"success"),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),e.showProgress=!1,e.showDelete=!0;var r=e.loggedInUser;r=Ie(Ie({},r),{background_image:t.data.background_image}),e.userInfoService.changeUserInfo(r),e.changeWallpaper(t.data.background_image),e.dialogRef.close()}}),(function(t){e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"wallpaper"}),e.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),e.showProgress=!1,e.showDelete=!0,e.refreshLoginService.openLoginDialog(t)})))},e.prototype.changeWallpaperPhysical=function(t){var e=this;this.http.get(t,{responseType:"blob"}).pipe(Object(ke.a)((function(t){return e.convertBlobToBase64(t)}))).subscribe((function(t){e.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"wallpaper"}),e.onSubmit(t)}))},e.prototype.convertBlobToBase64=function(t){return Ce.a.create((function(e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e.next(t.target.result),e.complete()},n.onerror=function(t){e.next(t.target.error.code),e.complete()}}))},e.prototype.changeWallpaper=function(t){this.wallPaperSelector.changeWallpaper(t)},e.prototype.getTranslate=function(t){return this.translate.instant(t)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb(C.a),l.Nb(C.e),l.Nb(S.a),l.Nb(l.t),l.Nb(p.d),l.Nb(d.a),l.Nb(H.a),l.Nb(b.a),l.Nb(y.a),l.Nb(et.a),l.Nb(x.a),l.Nb(Kt),l.Nb(rt.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-wallpaper"]],features:[l.yb],decls:23,vars:12,consts:[[1,"full-height",3,"dir"],["class","pos-rel",4,"ngIf","ngIfElse"],["emptyWallpaperUrl",""],[1,"height-35","line-height-35","no-margin","font-full-em"],[1,"height-full-minus-175","custom-mat-dialog-content","no-padding","overflow-y-auto","display-flex","flex-direction-row","flex-wrap","flex-space-between"],["class","mat-elevation-z1 full-width height-100 wallpaper thirty-width cursor-pointer margin-b-full",3,"background","click",4,"ngFor","ngForOf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"pos-rel"],[1,"height-135","pos-rel","margin-auto","round-corner","monitor-image","display-flex","justify-content-center","overflow-hide",2,"background-color","blueviolet","height","100vh","max-height","160px",3,"ngStyle"],["alt","",1,"display-block","margin-auto","full-height",3,"src"],["class","files-list pos-abs bottom-0 full-width z-index-9999","dir","ltr",4,"ngIf"],["class","delete pos-abs right-0 cursor-pointer",3,"click",4,"ngIf"],["dir","ltr",1,"files-list","pos-abs","bottom-0","full-width","z-index-9999"],["class","single-file display-flex round-corner align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"single-file","display-flex","round-corner","align-items-center","justify-content-center"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],[1,"delete","pos-abs","right-0","cursor-pointer",3,"click"],[1,"no-padding","line-height-50","full-width","full-height","font-full-rem-2-plus-half","text-green-800"],["appDnd","",1,"wallpaper-container","full-width","height-135","padding-half","round-corner","bg-white","cursor-pointer","margin-auto","pos-rel","text-center",3,"fileDropped"],["id","fileDropRef","multiple","","type","file",1,"pos-abs","full-width","full-height","top-0","left-0","right-0",3,"change"],["fill","none","height","44","stroke","#009688","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","viewBox","0 0 24 24","width","44","xmlns","http://www.w3.org/2000/svg",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["d","M0 0h24v24H0z","stroke","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9h0a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","x2","12","y1","12","y2","21"],[1,"no-margin",3,"ngClass"],["for","fileDropRef",1,"margin-t-full","display-inline-block","cursor-pointer","mat-raised-button","green-gradient","padding-mini-r-l","text-white","line-height-30","font-9-em","text-weight-normal"],[1,"width-20","height-20","font-full-plus-two-tenth-rem"],[1,"padding-mini-r-l"],[1,"mat-elevation-z1","full-width","height-100","wallpaper","thirty-width","cursor-pointer","margin-b-full",3,"click"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["height","30px","id","Layer_1","version","1.1","viewBox","0 0 24 30","width","24px","x","0px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg","y","0px",2,"enable-background","new 0 0 50 50"],["fill","#333","height","5","width","4","x","0","y","13"],["attributeName","height","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","10","y","13"],["attributeName","height","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.15s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],["fill","#333","height","5","width","4","x","20","y","13"],["attributeName","height","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","5;21;5"],["attributeName","y","attributeType","XML","begin","0.3s","dur","0.6s","repeatCount","indefinite","values","13; 5; 13"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Fc(2,Be,12,6,"div",1),l.Hc(3,"\n\n  "),l.Fc(4,Le,31,7,"ng-template",null,2,l.Gc),l.Hc(6,"\n  "),l.Hc(7,"\n\n  "),l.Tb(8,"h6",3),l.Hc(9),l.fc(10,"translate"),l.fc(11,"translate"),l.Sb(),l.Hc(12,"\n\n  "),l.Hc(13,"\n  "),l.Tb(14,"div",4),l.Hc(15,"\n    "),l.Fc(16,Re,2,2,"mat-card",5),l.Hc(17,"\n  "),l.Sb(),l.Hc(18,"\n  "),l.Hc(19,"\n"),l.Sb(),l.Hc(20,"\n"),l.Fc(21,je,33,3,"div",6),l.Hc(22,"\n")),2&t){var n=l.rc(5);l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(2),l.kc("ngIf",""!==e.wallpaperUrl)("ngIfElse",n),l.Bb(7),l.Lc("\n    ",l.gc(10,8,"profileSettings.choose_wallpaper")," (",e.wallpapersPictures.length," ",l.gc(11,10,"global.items"),")\n  "),l.Bb(7),l.kc("ngForOf",e.wallpapersPictures),l.Bb(5),l.kc("ngIf",e.loadingIndicator.status&&"wallpaper"===e.loadingIndicator.serviceName)}},directives:[O.b,a.k,a.j,a.l,Me,A.a,Oe,a.i,ot.a],pipes:[p.c],styles:[".monitor-image[_ngcontent-%COMP%]{background-image:url(hachure.14d9ec90316d56949c06.jpg);background-size:cover}.wallpaper-container[_ngcontent-%COMP%]{border:1px dashed #979797}.wallpaper-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;z-index:2}.wallpaper-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.wallpaper-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{-webkit-animation:shake 1s;animation:shake 1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.delete[_ngcontent-%COMP%]{top:-.3rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0 0 .25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),e}(m.a),Ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(){return(Ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Fe(t,e){1&t&&(l.Tb(0,"mat-error"),l.Hc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic(l.gc(2,1,"global.extension_error")))}function We(t,e){if(1&t){var n=l.Ub();l.Tb(0,"mat-option",57),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec(3).setClockCity(t)})),l.Hc(1),l.Sb()}if(2&t){var r=e.$implicit;l.kc("value",r),l.Bb(1),l.Kc("\n                    ",r.city," - ",r.timezone,"\n                  ")}}function Ye(t,e){if(1&t&&(l.Tb(0,"mat-option",58),l.Hc(1),l.Sb()),2&t){var n=e.$implicit;l.kc("value",n.id),l.Bb(1),l.Jc("\n                    ",n.name,"\n                  ")}}function Qe(t,e){if(1&t){var n=l.Ub();l.Tb(0,"form",23),l.Hc(1,"\n          "),l.Hc(2,"\n          "),l.Tb(3,"div",24),l.Hc(4,"\n            "),l.Tb(5,"div",25),l.Hc(6,"\n              "),l.Tb(7,"mat-form-field",26),l.Hc(8,"\n                "),l.Tb(9,"mat-label"),l.Hc(10),l.fc(11,"translate"),l.Sb(),l.Hc(12,"\n                "),l.Ob(13,"input",27),l.fc(14,"translate"),l.Hc(15,"\n                "),l.Tb(16,"mat-error"),l.Hc(17),l.fc(18,"translate"),l.Sb(),l.Hc(19,"\n              "),l.Sb(),l.Hc(20,"\n            "),l.Sb(),l.Hc(21,"\n          "),l.Sb(),l.Hc(22,"\n\n          "),l.Tb(23,"div",24),l.Hc(24,"\n            "),l.Tb(25,"div",28),l.Hc(26,"\n              "),l.Tb(27,"mat-form-field",26),l.Hc(28,"\n                "),l.Tb(29,"mat-label"),l.Hc(30),l.fc(31,"translate"),l.Sb(),l.Hc(32,"\n                "),l.Ob(33,"input",29),l.fc(34,"translate"),l.Hc(35,"\n                "),l.Tb(36,"mat-error"),l.Hc(37),l.fc(38,"translate"),l.Sb(),l.Hc(39,"\n              "),l.Sb(),l.Hc(40,"\n            "),l.Sb(),l.Hc(41,"\n            "),l.Tb(42,"div",28),l.Hc(43,"\n              "),l.Tb(44,"mat-form-field",26),l.Hc(45,"\n                "),l.Tb(46,"mat-label"),l.Hc(47),l.fc(48,"translate"),l.Sb(),l.Hc(49,"\n                "),l.Ob(50,"input",30),l.fc(51,"translate"),l.Hc(52,"\n                "),l.Tb(53,"mat-error"),l.Hc(54),l.fc(55,"translate"),l.Sb(),l.Hc(56,"\n              "),l.Sb(),l.Hc(57,"\n            "),l.Sb(),l.Hc(58,"\n          "),l.Sb(),l.Hc(59,"\n\n          "),l.Tb(60,"div",24),l.Hc(61,"\n            "),l.Tb(62,"div",28),l.Hc(63,"\n              "),l.Tb(64,"mat-form-field",26),l.Hc(65,"\n                "),l.Tb(66,"mat-label"),l.Hc(67),l.fc(68,"translate"),l.Sb(),l.Hc(69,"\n                "),l.Ob(70,"input",31),l.fc(71,"translate"),l.Hc(72,"\n                "),l.Fc(73,Fe,3,3,"mat-error",32),l.Hc(74,"\n              "),l.Sb(),l.Hc(75,"\n            "),l.Sb(),l.Hc(76,"\n            "),l.Tb(77,"div",28),l.Hc(78,"\n              "),l.Tb(79,"mat-form-field",26),l.Hc(80,"\n                "),l.Tb(81,"mat-label"),l.Hc(82),l.fc(83,"translate"),l.Sb(),l.Hc(84,"\n                "),l.Tb(85,"input",33),l.ac("click",(function(t){return t.stopPropagation()})),l.Sb(),l.Hc(86,"\n                "),l.Tb(87,"mat-autocomplete",34,35),l.Hc(89,"\n                  "),l.Fc(90,We,2,3,"mat-option",36),l.fc(91,"async"),l.Hc(92,"\n                "),l.Sb(),l.Hc(93,"\n                "),l.Tb(94,"mat-error"),l.Hc(95),l.fc(96,"translate"),l.Sb(),l.Hc(97,"\n              "),l.Sb(),l.Hc(98,"\n            "),l.Sb(),l.Hc(99,"\n          "),l.Sb(),l.Hc(100,"\n          "),l.Hc(101,"\n\n          "),l.Hc(102,"\n          "),l.Tb(103,"div",37),l.Hc(104,"\n            "),l.Hc(105,"\n            "),l.Tb(106,"div",28),l.Hc(107,"\n              "),l.Tb(108,"mat-form-field",26),l.Hc(109,"\n                "),l.Tb(110,"mat-label",38),l.Hc(111,"\n                  "),l.Tb(112,"mat-icon"),l.Hc(113,"translate"),l.Sb(),l.Hc(114,"\n                "),l.Sb(),l.Hc(115,"\n                "),l.Tb(116,"mat-select",39),l.ac("selectionChange",(function(t){return l.vc(n),l.ec(2).changeLang(t)}))("valueChange",(function(t){return l.vc(n),l.ec(2).defaultLang=t})),l.Hc(117,"\n                  "),l.Fc(118,Ye,2,2,"mat-option",40),l.Hc(119,"\n                "),l.Sb(),l.Hc(120,"\n              "),l.Sb(),l.Hc(121,"\n            "),l.Sb(),l.Hc(122,"\n            "),l.Hc(123,"\n\n            "),l.Hc(124,"\n            "),l.Tb(125,"div",28),l.Hc(126,"\n              "),l.Tb(127,"div",41),l.Hc(128,"\n                "),l.Tb(129,"div",42),l.Hc(130,"\n                  "),l.Tb(131,"label",43),l.Hc(132,"\n                    "),l.Tb(133,"input",44),l.ac("change",(function(t){return l.vc(n),l.ec(2).changeDarkMode(t)})),l.Sb(),l.Hc(134,"\n                    "),l.Ob(135,"span",45),l.Hc(136,"\n                    "),l.Tb(137,"span",46),l.Hc(138,"\n                          "),l.dc(),l.Tb(139,"svg",47),l.Hc(140,"\n                            "),l.Ob(141,"circle",48),l.Hc(142,"\n                          "),l.Sb(),l.Hc(143,"\n                          "),l.Tb(144,"svg",47),l.Hc(145,"\n                            "),l.Ob(146,"circle",48),l.Hc(147,"\n                          "),l.Sb(),l.Hc(148,"\n                          "),l.Tb(149,"svg",47),l.Hc(150,"\n                            "),l.Ob(151,"circle",48),l.Hc(152,"\n                          "),l.Sb(),l.Hc(153,"\n                          "),l.Tb(154,"svg",47),l.Hc(155,"\n                            "),l.Ob(156,"circle",48),l.Hc(157,"\n                          "),l.Sb(),l.Hc(158,"\n                          "),l.Tb(159,"svg",47),l.Hc(160,"\n                            "),l.Ob(161,"circle",48),l.Hc(162,"\n                          "),l.Sb(),l.Hc(163,"\n                          "),l.Tb(164,"svg",47),l.Hc(165,"\n                            "),l.Ob(166,"circle",48),l.Hc(167,"\n                          "),l.Sb(),l.Hc(168,"\n                          "),l.Tb(169,"svg",47),l.Hc(170,"\n                            "),l.Ob(171,"circle",48),l.Hc(172,"\n                          "),l.Sb(),l.Hc(173,"\n                          "),l.Tb(174,"svg",47),l.Hc(175,"\n                            "),l.Ob(176,"circle",48),l.Hc(177,"\n                          "),l.Sb(),l.Hc(178,"\n                        "),l.Sb(),l.Hc(179,"\n                    "),l.cc(),l.Tb(180,"span",49),l.Hc(181),l.fc(182,"translate"),l.Sb(),l.Hc(183,"\n                  "),l.Sb(),l.Hc(184,"\n                "),l.Sb(),l.Hc(185,"\n              "),l.Sb(),l.Hc(186,"\n            "),l.Sb(),l.Hc(187,"\n            "),l.Hc(188,"\n          "),l.Sb(),l.Hc(189,"\n\n          "),l.Tb(190,"div",37),l.Hc(191,"\n            "),l.Tb(192,"div",50),l.Hc(193,"\n              "),l.Tb(194,"mat-icon",51),l.Hc(195,"\n                warning\n              "),l.Sb(),l.Hc(196,"\n              "),l.Tb(197,"b",52),l.Hc(198),l.fc(199,"translate"),l.Sb(),l.Hc(200,"\n              "),l.Tb(201,"span",53),l.Hc(202),l.fc(203,"translate"),l.Sb(),l.Hc(204,"\n            "),l.Sb(),l.Hc(205,"\n          "),l.Sb(),l.Hc(206,"\n          "),l.Hc(207,"\n\n          "),l.Hc(208,"\n          "),l.Tb(209,"div",54),l.Hc(210,"\n            "),l.Tb(211,"div",25),l.Hc(212,"\n              "),l.Tb(213,"button",55),l.ac("click",(function(){return l.vc(n),l.ec(2).onSubmit()})),l.Hc(214,"\n                "),l.Tb(215,"span",56),l.Hc(216),l.fc(217,"translate"),l.Sb(),l.Hc(218,"\n              "),l.Sb(),l.Hc(219,"\n            "),l.Sb(),l.Hc(220,"\n          "),l.Sb(),l.Hc(221,"\n          "),l.Hc(222,"\n        "),l.Sb()}if(2&t){var r=l.rc(88),i=l.ec(2);l.kc("formGroup",i.form),l.Bb(10),l.Ic(l.gc(11,28,"profileSettings.name_family")),l.Bb(3),l.lc("placeholder",l.gc(14,30,"profileSettings.name_family")),l.Bb(4),l.Ic(l.gc(18,32,"global.name_error")),l.Bb(13),l.Ic(l.gc(31,34,"global.email")),l.Bb(3),l.lc("placeholder",l.gc(34,36,"global.email")),l.Bb(4),l.Jc("\n                  ",l.gc(38,38,"global.email_error"),"\n                "),l.Bb(10),l.Ic(l.gc(48,40,"login_info.password")),l.Bb(3),l.lc("placeholder",l.gc(51,42,"login_info.password")),l.Bb(4),l.Ic(l.gc(55,44,"login_info.password_error")),l.Bb(13),l.Ic(l.gc(68,46,"global.extension_placeholder")),l.Bb(3),l.lc("placeholder",l.gc(71,48,"global.extension_placeholder")),l.Bb(3),l.kc("ngIf",!i.form.get("extension_no").valid),l.Bb(9),l.Ic(l.gc(83,50,"profileSettings.timezone")),l.Bb(3),l.kc("matAutocomplete",r),l.Bb(2),l.kc("displayWith",i.displayFn),l.Bb(3),l.kc("ngForOf",l.gc(91,52,i.filteredOptions)),l.Bb(5),l.Ic(l.gc(96,54,"profileSettings.timezone_error")),l.Bb(21),l.kc("value",i.defaultLang),l.Bb(2),l.kc("ngForOf",i.langs),l.Bb(13),l.kc("ngClass",i.rtlDirection?"margin-r-reverse":"margin-l-reverse"),l.Bb(2),l.kc("checked",i.selectDarkMode),l.Bb(47),l.kc("ngClass",i.rtlDirection?"l-reverse":"r-reverse"),l.Bb(1),l.Jc("",l.gc(182,56,i.loggedInUser&&i.loggedInUser.dark_mode?"profileSettings.dark_mode":"profileSettings.light_mode"),"\n                        "),l.Bb(17),l.Ic(l.gc(199,58,"profileSettings.change_lang_warning_note")),l.Bb(4),l.Ic(l.gc(203,60,"profileSettings.change_lang_warning_text")),l.Bb(11),l.kc("disabled",!i.form.valid||!i.changeValueForm),l.Bb(3),l.Ic(l.gc(217,62,"global.submit"))}}function Xe(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",13),l.Hc(1,"\n      "),l.Hc(2,"\n      "),l.Tb(3,"div",14),l.Hc(4,"\n        "),l.Tb(5,"div",15),l.Hc(6,"\n          "),l.Tb(7,"div",16),l.Hc(8,"\n            "),l.Tb(9,"img",17),l.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),l.Sb(),l.Hc(10,"\n            "),l.Tb(11,"label",18),l.Hc(12,"\n              "),l.Tb(13,"mat-icon",19),l.Hc(14,"\n                camera_alt\n              "),l.Sb(),l.Hc(15,"\n            "),l.Sb(),l.Hc(16,"\n            "),l.Tb(17,"input",20),l.ac("change",(function(t){return l.vc(n),l.ec().fileChangeEvent(t)}))("ngModelChange",(function(t){return l.vc(n),l.ec().resetInput=t})),l.Sb(),l.Hc(18,"\n          "),l.Sb(),l.Hc(19,"\n        "),l.Sb(),l.Hc(20,"\n      "),l.Sb(),l.Hc(21,"\n      "),l.Hc(22,"\n\n      "),l.Tb(23,"div",21),l.Hc(24,"\n        "),l.Fc(25,Qe,223,64,"form",22),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n    "),l.Sb()}if(2&t){var r=l.ec();l.Bb(9),l.kc("alt",r.loggedInUser?r.loggedInUser.name:"")("src",r.loggedInUser&&r.loggedInUser.profile_image?r.loggedInUser.profile_image:r.loggedInUser.email,l.xc),l.Bb(8),l.kc("ngModel",r.resetInput),l.Bb(8),l.kc("ngIf",r.form)}}function Ve(t,e){1&t&&(l.Tb(0,"div",13),l.Hc(1,"\n      "),l.Ob(2,"app-wallpaper"),l.Hc(3,"\n    "),l.Sb())}function qe(t,e){1&t&&(l.Tb(0,"div",59),l.Hc(1,"\n  "),l.Tb(2,"div",60),l.Hc(3,"\n    "),l.dc(),l.Tb(4,"svg",61),l.Hc(5,"\n        "),l.Tb(6,"rect",62),l.Hc(7,"\n          "),l.Ob(8,"animate",63),l.Hc(9,"\n          "),l.Ob(10,"animate",64),l.Hc(11,"\n        "),l.Sb(),l.Hc(12,"\n      "),l.Tb(13,"rect",65),l.Hc(14,"\n          "),l.Ob(15,"animate",66),l.Hc(16,"\n        "),l.Ob(17,"animate",67),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n      "),l.Tb(20,"rect",68),l.Hc(21,"\n          "),l.Ob(22,"animate",69),l.Hc(23,"\n        "),l.Ob(24,"animate",70),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n\n    "),l.cc(),l.Tb(28,"span",71),l.Hc(29),l.fc(30,"translate"),l.Sb(),l.Hc(31,"\n  "),l.Sb(),l.Hc(32,"\n"),l.Sb()),2&t&&(l.Bb(29),l.Ic(l.gc(30,1,"global.loading")))}var $e=function(t){return{"view-mode":t}},Je=function(t){function e(e,n,r,i,o,a,c,s,l,u,p,f,g,d,m){var b=t.call(this,o,l)||this;return b.data=e,b.dialog=n,b.dialogRef=r,b.fb=i,b.injector=o,b.translate=a,b.messageService=c,b.electronService=s,b.userInfoService=l,b.datetimeService=u,b.viewDirection=p,b.refreshLoginService=f,b.windowManagerService=g,b.profileSettingService=d,b.loadingIndicatorService=m,b.changeValueForm=!1,b.viewModeTypes="information",b.loadingIndicator={status:!1,serviceName:"changeLang"},b.langs=[{id:"en",name:"English"},{id:"fa",name:"\u067e\u0627\u0631\u0633\u06cc"}],b._subscription=new h.Subscription,b._subscription.add(b.loadingIndicatorService.currentLoadingStatus.subscribe((function(t){return b.loadingIndicator=t}))),b._subscription.add(b.userInfoService.currentUserInfo.subscribe((function(t){return b.loggedInUser=t}))),b._subscription.add(b.viewDirection.currentDirection.subscribe((function(t){return b.rtlDirection=t}))),b.checkMoreClock=!1,b.options=u.timezones,b.cityClocksList=[{city:"Tehran",timezone:"Asia/Tehran"}],b}return Ne(e,t),e.prototype.ngOnInit=function(){var t=this;this.createForm().then((function(){return t.formPatchValue()})),this.filteredOptions=this.form.get("timezone").valueChanges.pipe(Object(It.a)(""),Object(Pt.a)((function(t){return"string"==typeof t?t:t.name})),Object(Pt.a)((function(e){return e?t.filter(e):t.options.slice()}))),this._subscription.add(this.form.valueChanges.subscribe((function(e){t.changeValueForm=!0})))},e.prototype.changeViewMode=function(t){this.viewModeTypes=t},e.prototype.createForm=function(){var t=this;return new Promise((function(e){t.form=t.fb.group({name:new nt.e("",nt.u.required),email:new nt.e("",[nt.u.required,nt.u.email]),c_password:new nt.e(null),extension_no:new nt.e(""),timezone:new nt.e("",nt.u.required),dark_mode:new nt.e(0),lang:new nt.e(t.rtlDirection?"fa":"en")}),e(!0)}))},e.prototype.formPatchValue=function(){null!==this.loggedInUser.lang&&(this.defaultLang=this.loggedInUser.lang),null!==this.loggedInUser.dark_mode&&(this.selectDarkMode=this.loggedInUser.dark_mode);var t={},e=this.loggedInUser.timezone;t.city=""!==this.loggedInUser.timezone&&null!==this.loggedInUser.timezone?this.loggedInUser.timezone.split("/")[1]:"",t.timezone=e,this.form.patchValue({name:this.loggedInUser.name,email:this.loggedInUser.email,extension_no:this.loggedInUser.extension_no,timezone:t,dark_mode:this.loggedInUser.dark_mode,lang:this.loggedInUser.lang}),this.changeValueForm=!1},e.prototype.close=function(){this.dialogRef.close()},e.prototype.displayFn=function(t){return t&&t.city?t.city:""},e.prototype.changeDarkMode=function(t){this.form.get("dark_mode").setValue(t.target.checked?1:0)},e.prototype.changeLang=function(t){this.form.get("lang").setValue(t.value)},e.prototype.onSubmit=function(){var t=this;this.profileSettingService.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this.loadingIndicatorService.changeLoadingStatus({status:!0,serviceName:"changeLang"});var e={};e.email=this.form.get("email").value,e.name=this.form.get("name").value,e.timezone=this.form.get("timezone").value.timezone,null!==this.form.get("c_password").value&&this.form.get("c_password").value.length&&(e.c_password=this.form.get("c_password").value,e.password=this.form.get("c_password").value),null!==this.form.get("extension_no").value&&(e.extension_no=this.form.get("extension_no").value),e.lang=this.form.get("lang").value,e.dark_mode=this.form.get("dark_mode").value;var n=this.viewDirection.getCurrentLang(),r=e.lang!==n;if(r){var i=this.dialog.open(tt.a,{data:{title:this.getTranslate("profileSettings.change_lang_warning_note"),message:this.getTranslate("profileSettings.change_lang_warning_text")},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(i.id),this._subscription.add(i.afterClosed().subscribe((function(i){i?t.updateUser(e,r):(t.defaultLang=n,t.form.get("lang").setValue(n),t.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}))})))}else this.updateUser(e,!1)},e.prototype.updateUser=function(t,e){var n=this;this._subscription.add(this.profileSettingService.updateUser(t,this.loggedInUser.id).subscribe((function(t){if(t.success){n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),null!==t.data.lang&&(n.defaultLang=t.data.lang,n.windowManagerService.closeAllServices().then((function(){n.viewDirection.changeDirection("fa"===t.data.lang)}))),null!==t.data.dark_mode&&(n.selectDarkMode=t.data.dark_mode),t.data.dark_mode!==n.loggedInUser.dark_mode&&n.userInfoService.changeDarkMode();var e=n.loggedInUser,r=t.data;e=Ee(Ee({},e),{profile_image:r.profile_image,background_image:r.background_image,email:r.email,name:r.name,timezone:r.timezone,lang:r.lang,dark_mode:r.dark_mode,extension_no:r.extension_no,status:r.status}),n.userInfoService.changeUserInfo(e),n.dialogRef.close(),setTimeout((function(){var t=n.getTranslate("profileSettings.profile_update");n.messageService.showMessage(t,"success")}),200)}else n.form.enable(),n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"});n.changeValueForm=!1}),(function(t){n.form.enable(),n.loadingIndicatorService.changeLoadingStatus({status:!1,serviceName:"changeLang"}),n.refreshLoginService.openLoginDialog(t)})))},e.prototype.setClockCity=function(t){this.checkMoreClock=!1,this.checkMoreClockContent=!1,this.cityClocksList.push(t)},e.prototype.fileChangeEvent=function(t){this.showCropperImage(t)},e.prototype.showCropperImage=function(t){var e=this,n=this.dialog.open(we,{data:{data:t},autoFocus:!1,width:"900px",height:"615px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(n.id),this._subscription.add(n.afterClosed().subscribe((function(t){e.resetInput="",t&&e.dialogRef.close()})))},e.prototype.getTranslate=function(t){return this.translate.instant(t)},e.prototype.filter=function(t){var e=t.toLowerCase();return this.options.filter((function(t){return 0===t.city.toLowerCase().indexOf(e)}))},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb(C.a),l.Nb(C.b),l.Nb(C.e),l.Nb(nt.d),l.Nb(l.t),l.Nb(p.d),l.Nb(d.a),l.Nb(H.a),l.Nb(b.a),l.Nb(At.a),l.Nb(y.a),l.Nb(et.a),l.Nb(_.a),l.Nb(Kt),l.Nb(rt.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-profile-setting"]],features:[l.yb],decls:53,vars:20,consts:[[1,"pos-abs","left-0","right-0","bottom-0","top-0",3,"dir"],[1,"full-width","height-45","padding-half","display-flex","bg-white","border-bottom"],[1,"text-gray-800","font-full-em","text-weight-500","padding-mini-r-l","no-margin"],[1,"pos-abs","top-fourth-tenth","content-switcher"],[1,"full-width","mat-button-custom","line-height-20","round-corner-all",3,"ngClass","value","change"],["viewMode","matButtonToggleGroup"],[1,"overflow-hide","font-7-rem","line-height-20","height-30",3,"value"],[1,"display-flex",3,"ngClass"],[1,"width-30","height-30","text-center","line-height-35","no-padding","no-border","no-bg","cursor-pointer","font-full-plus-two-tenth-em",3,"click"],[1,"full-width","full-height","text-center","font-9-em","text-gray-600","text-weight-bold"],[1,"pos-rel","height-full-minus-45","padding-full"],["class","full-height",4,"ngIf"],["class","loading-container pos-abs top-0 left-0 bottom-0 right-0 full-width full-height flex-center z-index-999",4,"ngIf"],[1,"full-height"],[1,"container-image-profile","display-flex","justify-content-center"],[1,"image-profile","margin-t-full-2","margin-b-full"],[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-150","height-150","overflow-hide"],[1,"full-width","full-height","cursor-pointer",3,"alt","src","error"],["for","fileChange",1,"overlay-image","cursor-pointer","pos-abs","full-width","full-height","purple-gradient"],[1,"no-padding","full-width","full-height","line-height-150","font-full-rem-2","text-white"],["hidden","","id","fileChange","type","file",3,"ngModel","change","ngModelChange"],[1,"full-width","display-inline-block","margin-t-full"],["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"display-flex","margin-r-l-reverse","margin-b-half"],[1,"full-width","padding-r-l"],[1,"full-width","font-9-em"],["formControlName","name","matInput","","type","text","autocomplete","off","required","",1,"full-width",3,"placeholder"],[1,"half-width","padding-r-l"],["formControlName","email","matInput","","autocomplete","off","required","","type","email",1,"full-width","text-left",3,"placeholder"],["formControlName","c_password","matInput","","autocomplete","off","type","password",1,"full-width",3,"placeholder"],["formControlName","extension_no","matInput","","autocomplete","off","type","tel",1,"full-width",3,"placeholder"],[4,"ngIf"],["formControlName","timezone","matInput","","required","","type","text",1,"full-width",3,"matAutocomplete","click"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"display-flex","margin-r-l-reverse"],[1,"text-weight-bold"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"display-flex","dark-mode","height-50","align-items-center"],[1,"container-dark-mode"],["for","darkMode",3,"ngClass"],["id","darkMode","type","checkbox",3,"checked","change"],[1,"planet","display-block"],[1,"elements","display-block"],["version","1.1","viewBox","0 0 500 500","xmlns","http://www.w3.org/2000/svg"],["cx","250","cy","250","r","200"],[1,"pos-abs","top-full-plus-half",3,"ngClass"],[1,"padding-r-l","display-flex"],[1,"width-18","height-18","line-height-20","font-full-plus-two-tenth-em","text-orange-700"],[1,"text-orange-700"],[1,"font-9-em","padding-tiny-r-l"],[1,"display-flex","margin-r-l-reverse","margin-t-half"],["mat-raised-button","","tabindex","13","type","submit",1,"full-width","green-gradient","text-white","line-height-30","font-9-em","overflow-hide","text-weight-normal",3,"disabled","click"],[1,"padding-mini-r-l"],[3,"value","click"],[3,"value"],[1,"loading-container","pos-abs","top-0","left-0","bottom-0","right-0","full-width","full-height","flex-center","z-index-999"],[1,"text-center"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24px","height","30px","viewBox","0 0 24 30",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["x","0","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0s","dur","0.6s","repeatCount","indefinite"],["x","10","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.15s","dur","0.6s","repeatCount","indefinite"],["x","20","y","13","width","4","height","5","fill","#333"],["attributeName","height","attributeType","XML","values","5;21;5","begin","0.3s","dur","0.6s","repeatCount","indefinite"],["attributeName","y","attributeType","XML","values","13; 5; 13","begin","0.3s","dur","0.6s","repeatCount","indefinite"],[1,"display-block","font-8-em","text-gray-700"]],template:function(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"div",1),l.Hc(3,"\n    "),l.Tb(4,"h1",2),l.Hc(5),l.fc(6,"translate"),l.Sb(),l.Hc(7,"\n\n    "),l.Tb(8,"div",3),l.Hc(9,"\n      "),l.Tb(10,"mat-button-toggle-group",4,5),l.ac("change",(function(){l.vc(n);var t=l.rc(11);return e.changeViewMode(t.value)})),l.Hc(12,"\n        "),l.Tb(13,"mat-button-toggle",6),l.Hc(14,"\n          "),l.Tb(15,"span"),l.Hc(16),l.fc(17,"translate"),l.Sb(),l.Hc(18,"\n        "),l.Sb(),l.Hc(19,"\n        "),l.Tb(20,"mat-button-toggle",6),l.Hc(21,"\n          "),l.Tb(22,"span"),l.Hc(23),l.fc(24,"translate"),l.Sb(),l.Hc(25,"\n        "),l.Sb(),l.Hc(26,"\n      "),l.Sb(),l.Hc(27,"\n    "),l.Sb(),l.Hc(28,"\n\n    "),l.Tb(29,"div",7),l.Hc(30,"\n      "),l.Tb(31,"button",8),l.ac("click",(function(){return e.close()})),l.Hc(32,"\n        "),l.Tb(33,"mat-icon",9),l.Hc(34,"close\n        "),l.Sb(),l.Hc(35,"\n      "),l.Sb(),l.Hc(36,"\n    "),l.Sb(),l.Hc(37,"\n  "),l.Sb(),l.Hc(38,"\n\n  "),l.Tb(39,"div",10),l.Hc(40,"\n    "),l.Hc(41,"\n    "),l.Fc(42,Xe,28,4,"div",11),l.Hc(43,"\n    "),l.Hc(44,"\n\n    "),l.Hc(45,"\n    "),l.Fc(46,Ve,4,0,"div",11),l.Hc(47,"\n    "),l.Hc(48,"\n  "),l.Sb(),l.Hc(49,"\n"),l.Sb(),l.Hc(50,"\n\n"),l.Fc(51,qe,33,3,"div",12),l.Hc(52,"\n")}if(2&t){var r=l.rc(11);l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(5),l.Jc("\n      ",l.gc(6,12,"profileSettings.profile_settings"),"\n    "),l.Bb(5),l.kc("ngClass",l.nc(18,$e,r))("value",e.viewModeTypes),l.Bb(3),l.kc("value","information"),l.Bb(3),l.Ic(l.gc(17,14,"profileSettings.profile_information")),l.Bb(4),l.kc("value","wallpaper"),l.Bb(3),l.Ic(l.gc(24,16,"profileSettings.profile_wallpaper")),l.Bb(6),l.kc("ngClass",e.rtlDirection?" margin-r-auto":" margin-l-auto"),l.Bb(13),l.kc("ngIf","information"===e.viewModeTypes),l.Bb(4),l.kc("ngIf","wallpaper"===e.viewModeTypes),l.Bb(5),l.kc("ngIf",e.loadingIndicator.status&&"changeLang"===e.loadingIndicator.serviceName)}},directives:[O.b,xe.b,a.i,xe.a,A.a,a.k,nt.c,nt.n,nt.q,nt.v,nt.o,nt.i,at.c,at.f,ct.b,nt.g,nt.t,at.b,Nt.c,Nt.a,a.j,Se.a,P.a,I.m,Ue],pipes:[p.c,a.b],styles:['.container-image-profile[_ngcontent-%COMP%]   .overlay-image[_ngcontent-%COMP%]{background-image:linear-gradient(-20deg,rgba(74,20,140,.6509803921568628),rgba(206,147,216,.6705882352941176));display:block;opacity:0;transition:opacity .4s ease-in-out}.image-profile[_ngcontent-%COMP%]:hover   .overlay-image[_ngcontent-%COMP%]{opacity:1}.content-switcher[_ngcontent-%COMP%]{transform:translate(-50%);left:50%}.dark-mode[_ngcontent-%COMP%]{--bg-planet-bright:#f2c94c!important;--bg-planet-shadow:#828894!important;--bg-planet-lightshadow:rgba(215,215,216,0.12549019607843137)!important;--dot-size:0.25rem!important;box-sizing:border-box!important;-webkit-font-smoothing:antialiased!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{min-height:50px!important;display:flex!important;justify-content:center!important;align-items:center!important;transition:background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer!important;padding:1rem!important;position:relative!important;-webkit-tap-highlight-color:rgba(255,255,255,0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:0!important;width:0!important;visibility:hidden!important;position:absolute!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]{width:1.8rem!important;height:1.8rem!important;border-radius:50%!important;overflow:hidden!important;background:radial-gradient(3.75em,99%,transparent 100%)!important;background-color:var(--bg-planet-bright)!important;background-repeat:no-repeat!important;position:relative!important;will-change:background!important;transition:all .4s ease!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;transform:translateZ(0)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]:after{content:""!important;background-color:var(--bg-planet-shadow)!important;width:2rem!important;height:2rem!important;position:absolute!important;border-radius:50%!important;will-change:opacity,transform,background-color!important;opacity:0!important;transform:translate(2em,-2em)!important;transition:opacity .4s ease,transform .4s ease,background-color .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{width:100%!important;height:100%!important;position:absolute!important;top:0!important;left:0!important;transition:transform .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{left:2px;top:2px;position:absolute!important;width:7px!important;height:7px!important;opacity:1!important;transition:transform .4s ease,opacity .2s ease,width .2s ease,height .2s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-bright)!important;transition:fill .4s ease!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(1.8em,.35em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(2.8em,.7em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3){transform:translate(3.2em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(2.8em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.8em,3.2em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(.7em,2.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(.35em,1.8em)!important}.dark-mode[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){transform:translate(.7em,.7em)!important}.dark-mode.bg-dark[_ngcontent-%COMP%]{--bg-color:#2c3144!important}.dark-mode.bg-dark[_ngcontent-%COMP%]   .container-dark-mode[_ngcontent-%COMP%]{background-color:var(--bg-color)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(.8)}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]{--bg-planet-bright:#d7d7d8!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .planet[_ngcontent-%COMP%]:after{opacity:1!important;transform:translate(.6em,-.5em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]{transform:rotate(180deg)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{transform:translate(2em,1em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(2){transform:translate(3em,1.5em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(3), .dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(4){transform:translate(3em,2em)!important;opacity:0!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5){transform:translate(1.9em,2.6em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(5)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6){transform:translate(1.4em,2.5em)!important;width:.3em!important;height:.3em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(6)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7){transform:translate(1.1em,1.6em)!important;width:.7em!important;height:.7em!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(7)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8){width:.45em!important;height:.45em!important;transform:translate(1.7em,2.1em)!important}.dark-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .elements[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:nth-child(8)   circle[_ngcontent-%COMP%]{fill:var(--bg-planet-lightshadow)!important}.margin-l-reverse[_ngcontent-%COMP%]{margin-left:-1em!important}.margin-r-reverse[_ngcontent-%COMP%]{margin-right:-1em!important}.l-reverse[_ngcontent-%COMP%]{left:-110%!important}.r-reverse[_ngcontent-%COMP%]{right:-110%!important}.english-lang[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]{transition:all .3s!important}.english-lang.active[_ngcontent-%COMP%], .english-lang[_ngcontent-%COMP%]:hover, .parsi-lang.active[_ngcontent-%COMP%], .parsi-lang[_ngcontent-%COMP%]:hover{border-bottom:1px solid red}.line-height-150[_ngcontent-%COMP%]{line-height:150px!important}.border-bottom[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}']}),e}(m.a),Ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ke(t,e){if(1&t){var n=l.Ub();l.Rb(0),l.Hc(1,"\n    "),l.Tb(2,"h4",5),l.Hc(3,"\n      "),l.Tb(4,"mat-icon",6),l.Hc(5,"\n        person_outline\n      "),l.Sb(),l.Hc(6,"\n\n      "),l.Tb(7,"span",7),l.Hc(8,"\n      "),l.Tb(9,"span",8),l.Hc(10),l.Sb(),l.Hc(11,"\n\n      "),l.Tb(12,"span",9),l.Hc(13),l.Sb(),l.Hc(14,"\n    "),l.Sb(),l.Hc(15,"\n    "),l.Sb(),l.Hc(16,"\n\n    "),l.Tb(17,"button",10),l.ac("click",(function(){return l.vc(n),l.ec().showProfileSetting()})),l.Hc(18,"\n      "),l.Tb(19,"mat-icon",11),l.Hc(20,"settings"),l.Sb(),l.Hc(21,"\n      "),l.Tb(22,"span",11),l.Hc(23),l.fc(24,"translate"),l.Sb(),l.Hc(25,"\n    "),l.Sb(),l.Hc(26,"\n    "),l.Tb(27,"button",10),l.ac("click",(function(){return l.vc(n),l.ec().logout()})),l.Hc(28,"\n      "),l.Tb(29,"mat-icon",11),l.Hc(30,"power_settings_new"),l.Sb(),l.Hc(31,"\n      "),l.Tb(32,"span",11),l.Hc(33),l.fc(34,"translate"),l.Sb(),l.Hc(35,"\n    "),l.Sb(),l.Hc(36,"\n\n    "),l.Tb(37,"span",12),l.Hc(38),l.Sb(),l.Hc(39,"\n  "),l.Qb()}if(2&t){var r=l.ec();l.Bb(4),l.kc("ngClass",r.rtlDirection?"margin-l-half":"margin-r-half"),l.Bb(6),l.Ic(r.loggedInUser.name?r.loggedInUser.name:""),l.Bb(3),l.Ic(r.loggedInUser.role?r.loggedInUser.role.title:""),l.Bb(10),l.Ic(l.gc(24,6,"profileSettings.profile_settings")),l.Bb(10),l.Ic(l.gc(34,8,"dashboard.dashboard_toolbar.exist_app")),l.Bb(5),l.Jc("\xa9 Enoox - v",r.version,"")}}var Ze=function(t){function e(e,n,r,i,o,a,c,s,l){var u=t.call(this,o,c)||this;return u.window=e,u.dialog=n,u.router=r,u.api=i,u.injector=o,u.electronService=a,u.userInfoService=c,u.softPhoneService=s,u.windowManagerService=l,u.version="",u._subscription=new h.Subscription,u}return Ge(e,t),e.prototype.ngOnInit=function(){this.version=this.electronService.isElectron?this.electronService.remote.app.getVersion():Gt.a},e.prototype.logout=function(){var t=this;this.api.accessToken=this.loginData.token_type+" "+this.loginData.access_token,this._subscription.add(this.api.logout().subscribe((function(e){e.success&&t.clearData()}),(function(){t.clearData()})))},e.prototype.clearData=function(){var t=this;this.userInfoService.changeLoginData(null),this.softPhoneService.sipHangUp(),this.softPhoneService.sipUnRegister(),this.windowManagerService.closeAllServices().then((function(){setTimeout((function(){return t.router.navigateByUrl("/login")}),500)}))},e.prototype.showProfileSetting=function(){var t=this.dialog.open(Je,{autoFocus:!1,width:"480px",height:"565px",panelClass:"status-dialog"});this.windowManagerService.dialogOnTop(t.id)},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.Nb("windowObject"),l.Nb(C.b),l.Nb(o.a),l.Nb(g.a),l.Nb(l.t),l.Nb(H.a),l.Nb(b.a),l.Nb(v.a),l.Nb(_.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-profile-menu"]],inputs:{rtlDirection:"rtlDirection",loggedInUser:"loggedInUser"},features:[l.yb],decls:11,vars:5,consts:[[1,"box","mat-elevation-z1","pos-rel","text-center","round-corner","width-40","height-40","overflow-hide",3,"dir"],[1,"full-width","full-height","cursor-pointer",3,"alt","matMenuTriggerFor","src","error"],["xPosition","before","yPosition","above",1,"toolbar-menu","box-menu-profile","padding-r-l"],["profileMenu","matMenu"],[4,"ngIf"],["mat-subheader","","matLine","",1,"padding-half","text-weight-normal","font-9-rem","text-dark-mode-color","no-margin"],[1,"text-dark-mode-color","text-gray-600",3,"ngClass"],[1,"display-flex","flex-direction-column"],["matLine",""],["matLine","",1,"font-8-em"],["mat-menu-item","",1,"font-7-rem","padding-mini-r-l",3,"click"],[1,"text-dark-mode-color"],[1,"padding-r-l","font-8-em","text-gray-600"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Tb(2,"img",1),l.ac("error",(function(t){return t.target.src="assets/profileImg/0.jpg"})),l.Sb(),l.Hc(3,"\n"),l.Sb(),l.Hc(4,"\n"),l.Tb(5,"mat-menu",2,3),l.Hc(7,"\n  "),l.Fc(8,Ke,40,10,"ng-container",4),l.Hc(9,"\n"),l.Sb(),l.Hc(10,"\n")),2&t){var n=l.rc(6);l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(2),l.kc("alt",e.loggedInUser.name?e.loggedInUser.name:"")("matMenuTriggerFor",n)("src",e.loggedInUser&&e.loggedInUser.profile_image?e.loggedInUser.profile_image:e.loggedInUser.email,l.xc),l.Bb(6),l.kc("ngIf",e.loggedInUser)}},directives:[O.b,W.d,W.a,a.k,T.f,I.j,A.a,a.i,W.b],pipes:[p.c],encapsulation:2}),e}(m.a),tn=n("AH9q");function en(t,e){if(1&t&&(l.Tb(0,"div",5),l.Hc(1,"\n  "),l.Tb(2,"span",6),l.Hc(3),l.fc(4,"translate"),l.Sb(),l.Hc(5,"\n  "),l.Tb(6,"span",7),l.Hc(7),l.Sb(),l.Hc(8,"\n"),l.Sb()),2&t){var n=l.ec(),r=l.rc(3);l.kc("dir",n.rtlDirection?"rtl":"ltr")("matMenuTriggerFor",r),l.Bb(3),l.Jc("\n    ",l.gc(4,4,"select_company.current_company"),"\n  "),l.Bb(4),l.Jc("\n    ",n.currentCompany.name,"\n  ")}}function nn(t,e){1&t&&(l.Tb(0,"span",12),l.Hc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic(l.gc(2,1,"global.default")))}function rn(t,e){if(1&t){var n=l.Ub();l.Tb(0,"button",8),l.ac("click",(function(){l.vc(n);var t=e.$implicit;return l.ec().selectCompany(t)})),l.Hc(1,"\n    "),l.Tb(2,"span",9),l.Hc(3,"\n      "),l.Tb(4,"span",10),l.Hc(5),l.Sb(),l.Hc(6,"\n\n      "),l.Fc(7,nn,3,3,"span",11),l.Hc(8,"\n    "),l.Sb(),l.Hc(9,"\n  "),l.Sb()}if(2&t){var r=e.$implicit,i=l.ec();l.Bb(5),l.Ic(r.name),l.Bb(2),l.kc("ngIf",r.id===i.currentCompany.id)}}var on=function(){function t(t,e,n,r,i,o,a,c,s,l,u,p){var f=this;this.dialog=t,this.router=e,this.apiService=n,this.messageService=r,this.userInfoService=i,this.translateService=o,this.viewDirection=a,this.refreshLoginService=c,this.refreshBoardService=s,this.changeStatusService=l,this.windowManagerService=u,this.companySelectorService=p,this.companyList=null,this._subscription=new h.Subscription,this._subscription.add(this.companySelectorService.currentCompanyList.subscribe((function(t){return f.companyList=t}))),this._subscription.add(this.companySelectorService.currentSelectedCompany.subscribe((function(t){return f.currentCompany=t})))}return t.prototype.selectCompany=function(t){var e=this;if(this.currentCompany.id!==t.id){var n=this.dialog.open(tt.a,{data:{title:this.getTranslate("select_company.change_company"),message:this.getTranslate("select_company.change_company_description"),action:"success"},autoFocus:!1,width:"70vh",maxWidth:"350px",panelClass:"approve-detail-dialog",height:"160px"});this.windowManagerService.dialogOnTop(n.id),this._subscription.add(n.afterClosed().subscribe((function(n){n&&(e.companySelectorService.changeSelectedCompany(t),setTimeout((function(){e._subscription.add(e.apiService.checkLogin().subscribe((function(n){e.windowManagerService.closeAllServices().then((function(){setTimeout((function(){e.userInfoService.changeUserInfo(n.data),e.viewDirection.changeDirection("fa"===n.data.lang),e.changeStatusService.changeUserStatus(n.data.user_status),e.companySelectorService.changeCompanyList(n.data.companies);var r=e.getTranslate("select_company.your_default_company")+" ("+t.name+")";e.rtlDirection&&(r+=" "+e.getTranslate("select_company.is")),e.messageService.showMessage(r)}),1e3)}))}),(function(t){e.refreshLoginService.openLoginDialog(t)})))}),500))})))}},t.prototype.getTranslate=function(t){return this.translateService.instant(t)},t.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(l.Nb(C.b),l.Nb(o.a),l.Nb(g.a),l.Nb(d.a),l.Nb(b.a),l.Nb(p.d),l.Nb(y.a),l.Nb(et.a),l.Nb(tn.a),l.Nb(N.a),l.Nb(_.a),l.Nb(w.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-company-selector"]],inputs:{loggedInUser:"loggedInUser",rtlDirection:"rtlDirection"},decls:12,vars:5,consts:[["class","box pos-rel padding-r-l display-flex flex-direction-column mat-elevation-z1 round-corner height-40 overflow-hide cursor-pointer",3,"dir","matMenuTriggerFor",4,"ngIf"],["xPosition","before","yPosition","above",1,"toolbar-menu","main-menu"],["mainMenu","matMenu"],["mat-subheader","",1,"service-title","padding-tiny-t-b","padding-mini-r-l","no-margin","text-weight-normal","font-full-em","text-dark-mode-color"],["mat-menu-item","","class","font-7-rem padding-r-l text-dark-mode-color",3,"click",4,"ngFor","ngForOf"],[1,"box","pos-rel","padding-r-l","display-flex","flex-direction-column","mat-elevation-z1","round-corner","height-40","overflow-hide","cursor-pointer",3,"dir","matMenuTriggerFor"],[1,"text-dark-mode-color","font-6-em","display-flex","line-height-18","full-width"],[1,"text-dark-mode-color","text-capitalize","text-eclipse","max-width-200","line-height-18","full-width"],["mat-menu-item","",1,"font-7-rem","padding-r-l","text-dark-mode-color",3,"click"],[1,"font-full-plus-two-tenth-em","display-flex","flex-space-between"],[1,"text-capitalize"],["class","font-7-em text-italic",4,"ngIf"],[1,"font-7-em","text-italic"]],template:function(t,e){1&t&&(l.Fc(0,en,9,6,"div",0),l.Hc(1,"\n"),l.Tb(2,"mat-menu",1,2),l.Hc(4,"\n  "),l.Tb(5,"h6",3),l.Hc(6),l.fc(7,"translate"),l.Sb(),l.Hc(8,"\n\n  "),l.Fc(9,rn,10,2,"button",4),l.Hc(10,"\n"),l.Sb(),l.Hc(11,"\n")),2&t&&(l.kc("ngIf",e.companyList),l.Bb(6),l.Jc("\n    ",l.gc(7,3,"select_company.title"),"\n  "),l.Bb(3),l.kc("ngForOf",e.companyList))},directives:[a.k,W.a,T.f,a.j,O.b,W.d,W.b],pipes:[p.c],styles:[".max-width-200[_ngcontent-%COMP%]{max-width:150px}"]}),t}();function an(t,e){if(1&t&&l.Ob(0,"app-company-selector",7),2&t){var n=l.ec();l.kc("loggedInUser",n.loggedInUser)("ngClass",n.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",n.rtlDirection)}}var cn=function(){function t(t){this.companySelectorService=t,this.companies=null,this.companies=this.companySelectorService.currentCompanies}return t.\u0275fac=function(e){return new(e||t)(l.Nb(w.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-dashboard-toolbar"]],inputs:{rtlDirection:"rtlDirection",windowManager:"windowManager",loggedInUser:"loggedInUser",serviceList:"serviceList"},decls:27,vars:18,consts:[[1,"toolbar-container","display-flex","flex-space-between",3,"dir"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"rtlDirection","windowManager"],[1,"flex-spacer"],["class","box-holder pos-rel",3,"loggedInUser","ngClass","rtlDirection",4,"ngIf"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection","serviceList"],[1,"box-holder",3,"loggedInUser","ngClass","rtlDirection"],[1,"box-holder","pos-rel",3,"loggedInUser","ngClass","rtlDirection"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n  "),l.Hc(2,"\n  "),l.Ob(3,"app-main-menu",1),l.Hc(4,"\n  "),l.Hc(5,"\n\n  "),l.Hc(6,"\n  "),l.Ob(7,"app-window-app-container",2),l.Hc(8,"\n  "),l.Hc(9,"\n\n  "),l.Ob(10,"div",3),l.Hc(11,"\n\n  "),l.Hc(12,"\n  "),l.Fc(13,an,1,3,"app-company-selector",4),l.Hc(14,"\n  "),l.Hc(15,"\n\n  "),l.Hc(16,"\n  "),l.Ob(17,"app-user-status",5),l.Hc(18,"\n  "),l.Hc(19,"\n\n  "),l.Ob(20,"app-time-area",6),l.Hc(21,"\n\n  "),l.Hc(22,"\n  "),l.Ob(23,"app-profile-menu",6),l.Hc(24,"\n  "),l.Hc(25,"\n"),l.Sb(),l.Hc(26,"\n")),2&t&&(l.kc("dir",e.rtlDirection?"rtl":"ltr"),l.Bb(3),l.kc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-l-auto":"margin-r-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),l.Bb(4),l.kc("rtlDirection",e.rtlDirection)("windowManager",e.windowManager),l.Bb(6),l.kc("ngIf",e.companies&&e.companies.length>1),l.Bb(4),l.kc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection)("serviceList",e.serviceList),l.Bb(3),l.kc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection),l.Bb(3),l.kc("loggedInUser",e.loggedInUser)("ngClass",e.rtlDirection?"margin-r-auto":"margin-l-auto")("rtlDirection",e.rtlDirection))},directives:[O.b,Q,a.i,J,a.k,Tt,Jt,Ze,on],styles:['.toolbar-container .box-holder{margin:0 1em}.toolbar-container .box .mat-icon{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.toolbar-container .app-open{margin:0 .5em}.toolbar-container .app-open:before{content:"";position:absolute;bottom:0;left:0;margin:auto;right:0;width:75%;height:3px;background-color:#f57c00}.toolbar-container .app-open.app-minimized:before{width:20%}.toolbar-container .app-open:hover .mat-icon{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-8px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-5px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}'],encapsulation:2}),t}(),sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(e){o(e)}}function c(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},un=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},pn=function(t){return{"background-image":t}},fn=function(t){function e(e,n,r,i,o,a,c,s,l,u,p,f,g,d){var m=t.call(this,i,c)||this;return m.window=e,m.dialog=n,m.api=r,m.injector=i,m.messageService=o,m.electronService=a,m.userInfoService=c,m.statusApiService=s,m.softPhoneService=l,m.translateService=u,m.viewDirection=p,m.windowManagerService=f,m.wallPaperSelector=g,m.companySelectorService=d,m.serviceList=[],m._subscription=new h.Subscription,m._subscription.add(m.wallPaperSelector.currentWallpaper.subscribe((function(t){return m.wallpaper=t}))),m._subscription.add(m.userInfoService.currentUserInfo.subscribe((function(t){m.loggedInUser=t,m.serviceList=[];var e=[];m.loggedInUser.services.map((function(t){t.show_in_container&&("web_browser"===t.service_name?m.electronService.isElectron&&m.serviceList.push(t):m.serviceList.push(t)),e.push(t)})),m.windowManagerService.changeServices(e)}))),m._subscription.add(m.viewDirection.currentDirection.subscribe((function(t){return m.rtlDirection=t}))),m._subscription.add(m.windowManagerService.windowsList.subscribe((function(t){return m.windowManager=t}))),m}return sn(e,t),e.prototype.ngOnInit=function(){},e.prototype.stopWorkingBeforeCloseApp=function(){var t=this;f.a.production&&(this.window.onbeforeunload=function(e){return ln(t,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return[4,this.softPhoneService.sipHangUp()];case 1:return t.sent(),[4,this.softPhoneService.sipUnRegister()];case 2:return t.sent(),e.returnValue=!0,[2]}}))}))})},e.prototype.changeStatus=function(){var t=this;return new Promise((function(e){var n={user_id:t.loggedInUser.id,status:2};t.loginData||t.companySelectorService.currentCompany||e(!1),t.statusApiService.accessToken=t.loginData.token_type+" "+t.loginData.access_token,t._subscription.add(t.statusApiService.userChangeStatus(n).subscribe((function(n){!0===n.success?(new Notification("Office Container",{body:t.getTranslate("status.close_app_stop_working"),icon:"assets/profileImg/"+t.loggedInUser.email+".jpg",dir:"auto",requireInteraction:!0}),e(!0)):(new Notification("Office Container",{body:t.getTranslate("status.cant_stop_working"),icon:"assets/profileImg/"+t.loggedInUser.email+".jpg",dir:"auto",requireInteraction:!0}),e(!1))}),(function(){new Notification("Office Container",{body:t.getTranslate("status.cant_stop_working"),icon:"assets/profileImg/"+t.loggedInUser.email+".jpg",dir:"auto",requireInteraction:!0}),e(!1)})))}))},e.prototype.getTranslate=function(t){return this.translateService.instant(t)},e.prototype.ngOnDestroy=function(){var t=this;this._subscription&&this._subscription.unsubscribe(),this.window.onbeforeunload=function(e){return ln(t,void 0,void 0,(function(){return un(this,(function(t){return e.returnValue=!0,[2]}))}))}},e.\u0275fac=function(t){return new(t||e)(l.Nb("windowObject"),l.Nb(C.b),l.Nb(g.a),l.Nb(l.t),l.Nb(d.a),l.Nb(H.a),l.Nb(b.a),l.Nb(k),l.Nb(v.a),l.Nb(p.d),l.Nb(y.a),l.Nb(_.a),l.Nb(x.a),l.Nb(w.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-dashboard"]],features:[l.yb],decls:17,vars:12,consts:[[1,"dashboard-container","full-width","full-height","wallpaper","pos-rel",3,"ngStyle"],[3,"rtlDirection"],["id","calendar-desktop",1,"dashboard-app-boundary","height-full-minus-70","padding-full"],[3,"indexID","loggedInUser","serviceList","rtlDirection"],[1,"dashboard-toolbar","pos-fix","bottom-full","right-full","left-full","height-40",3,"loggedInUser","rtlDirection","serviceList","windowManager"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Hc(1,"\n\n  "),l.Ob(2,"app-soft-phone-incoming-call",1),l.Hc(3,"\n\n  "),l.Tb(4,"div",2),l.Hc(5,"\n    "),l.Tb(6,"app-events-handler-calendar",3),l.Hc(7,"\n    "),l.Sb(),l.Hc(8,"\n    "),l.Hc(9,"\n  "),l.Sb(),l.Hc(10,"\n\n  "),l.Ob(11,"app-screenshot"),l.Hc(12,"\n\n  "),l.Tb(13,"app-dashboard-toolbar",4),l.Hc(14,"\n  "),l.Sb(),l.Hc(15,"\n"),l.Sb(),l.Hc(16,"\n")),2&t&&(l.kc("ngStyle",l.nc(10,pn,"url("+e.wallpaper+")")),l.Bb(2),l.kc("rtlDirection",e.rtlDirection),l.Bb(4),l.kc("indexID","calendar-desktop")("loggedInUser",e.loggedInUser)("serviceList",e.serviceList)("rtlDirection",e.rtlDirection),l.Bb(7),l.kc("loggedInUser",e.loggedInUser)("rtlDirection",e.rtlDirection)("serviceList",e.serviceList)("windowManager",e.windowManager))},directives:[a.l,z,D.a,F,cn],styles:['.dashboard-container[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;z-index:-1;background:url(/assets/images/wallpapers/7.jpg) 50%}.dashboard-app-boundary[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;right:0}.card-bg[_ngcontent-%COMP%]{border-radius:10px!important;transition:all .4s!important;width:400px;height:300px;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%)}.card-bg[_ngcontent-%COMP%]:after, .card-bg[_ngcontent-%COMP%]:before{content:"";position:absolute}.card-bg[_ngcontent-%COMP%]:before{width:110%;top:-5px;right:-6px;height:100%;background-color:#fff;border-radius:0 0 200px/100px 0;transform:rotate(8deg);z-index:1}.card-bg[_ngcontent-%COMP%]:after{bottom:-12px;left:0;width:100%;height:124px;z-index:0}.card-bg[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:bottom}.card-bg[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{-webkit-animation-name:bounce-7;animation-name:bounce-7;-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:cubic-bezier(.28,.84,.42,1)}@-webkit-keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes bounce-7{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0)}30%{transform:scale(.9,1.1) translateY(-10px)}50%{transform:scale(1.05,.95) translateY(0)}57%{transform:scale(1) translateY(-7px)}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}.card-bg.service-task[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #441e52,0 10px 25px -7px #ff46fa,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-task[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff7af5 10%,#513162)}.card-bg.service-task[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-task[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#513162}.card-bg.service-pbx[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #ff3360,0 10px 25px -7px #ff811d,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-pbx[_ngcontent-%COMP%]:after{background-image:linear-gradient(135deg,#ff9a44 10%,#fc6076)}.card-bg.service-pbx[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-pbx[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fc6076}.card-bg.service-chat[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px rgba(0,121,226,.2),0 10px 25px -7px #0079e2,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-chat[_ngcontent-%COMP%]:after{background-image:linear-gradient(-225deg,#22e1ff,#1d8fe1 48%,#625eb1)}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{color:#625eb1}.card-bg.service-chat[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#1d8fe1}.card-bg.service-video-conference[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px #051732,0 10px 25px -7px #3b6586,0 1px 10px 0 rgba(0,0,0,.12)}.card-bg.service-video-conference[_ngcontent-%COMP%]:after{background-image:linear-gradient(315deg,#09203f,#537895 74%)}.card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .card-bg.service-video-conference[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#09203f}.profile-info[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{border:5px solid #fff;top:-2em}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{text-shadow:0 0 11px #999}.profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]{border:1px solid #ddd;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}']}),e}(m.a),gn=function(){function t(){}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[a.c,i.a,u,be,o.b.forChild([{path:"",component:fn}]),p.b.forChild()]]}),t}()},LvDl:function(t,e,n){(function(t){var r;(function(){var i,o="Expected a function",a="__lodash_hash_undefined__",c="__lodash_placeholder__",s=32,l=128,u=1/0,p=9007199254740991,f=NaN,g=4294967295,h=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],d="[object Arguments]",m="[object Array]",b="[object Boolean]",v="[object Date]",_="[object Error]",y="[object Function]",w="[object GeneratorFunction]",x="[object Map]",S="[object Number]",k="[object Object]",H="[object Promise]",C="[object RegExp]",M="[object Set]",O="[object String]",T="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",A="[object DataView]",z="[object Float32Array]",D="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",F=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,V=RegExp(Q.source),q=RegExp(X.source),$=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+|\s+$/g,it=/^\s+/,ot=/\s+$/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,yt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="["+kt+"]",Ct="["+wt+"]",Mt="\\d+",Ot="["+xt+"]",Tt="[^\\ud800-\\udfff"+kt+Mt+"\\u2700-\\u27bf"+xt+St+"]",It="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+St+"]",Bt="(?:"+Ot+"|"+Tt+")",Lt="(?:"+Dt+"|"+Tt+")",Rt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ut="(?:"+Ct+"|"+It+")?",Nt="[\\ufe0e\\ufe0f]?",Et=Nt+Ut+"(?:\\u200d(?:"+[Pt,At,zt].join("|")+")"+Nt+Ut+")*",Ft="(?:"+["[\\u2700-\\u27bf]",At,zt].join("|")+")"+Et,Wt="(?:"+[Pt+Ct+"?",Ct,At,zt,"[\\ud800-\\udfff]"].join("|")+")",Yt=RegExp("['\u2019]","g"),Qt=RegExp(Ct,"g"),Xt=RegExp(It+"(?="+It+")|"+Wt+Et,"g"),Vt=RegExp([Dt+"?"+Ot+"+"+Rt+"(?="+[Ht,Dt,"$"].join("|")+")",Lt+"+"+jt+"(?="+[Ht,Dt+Bt,"$"].join("|")+")",Dt+"?"+Bt+"+"+Rt,Dt+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Ft].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),$t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Kt={};Kt[z]=Kt[D]=Kt[B]=Kt[L]=Kt[R]=Kt[j]=Kt[U]=Kt[N]=Kt[E]=!0,Kt[d]=Kt[m]=Kt[P]=Kt[b]=Kt[A]=Kt[v]=Kt[_]=Kt[y]=Kt[x]=Kt[S]=Kt[k]=Kt[C]=Kt[M]=Kt[O]=Kt[I]=!1;var Zt={};Zt[d]=Zt[m]=Zt[P]=Zt[A]=Zt[b]=Zt[v]=Zt[z]=Zt[D]=Zt[B]=Zt[L]=Zt[R]=Zt[x]=Zt[S]=Zt[k]=Zt[C]=Zt[M]=Zt[O]=Zt[T]=Zt[j]=Zt[U]=Zt[N]=Zt[E]=!0,Zt[_]=Zt[y]=Zt[I]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),ae=e&&!e.nodeType&&e,ce=ae&&"object"==typeof t&&t&&!t.nodeType&&t,se=ce&&ce.exports===ae,le=se&&re.process,ue=function(){try{return ce&&ce.require&&ce.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),pe=ue&&ue.isArrayBuffer,fe=ue&&ue.isDate,ge=ue&&ue.isMap,he=ue&&ue.isRegExp,de=ue&&ue.isSet,me=ue&&ue.isTypedArray;function be(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ve(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function _e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ye(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function xe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Se(t,e){return!(null==t||!t.length)&&ze(t,e,0)>-1}function ke(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function He(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Me(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ie=Re("length");function Pe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ae(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ze(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ae(t,Be,n)}function De(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Be(t){return t!=t}function Le(t,e){var n=null==t?0:t.length;return n?Ne(t,e)/n:f}function Re(t){return function(e){return null==e?i:e[t]}}function je(t){return function(e){return null==t?i:t[e]}}function Ue(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ne(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Fe(t){return function(e){return t(e)}}function We(t,e){return He(e,(function(e){return t[e]}))}function Ye(t,e){return t.has(e)}function Qe(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function Xe(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}function Ve(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var qe=je({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),$e=je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function Ge(t){return qt.test(t)}function Ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ze(t,e){return function(n){return t(e(n))}}function tn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==c||(t[n]=c,o[i++]=n)}return o}function en(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function rn(t){return Ge(t)?function(t){for(var e=Xt.lastIndex=0;Xt.test(t);)++e;return e}(t):Ie(t)}function on(t){return Ge(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.split("")}(t)}var an=je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function t(e){var n,r=(e=null==e?oe:cn.defaults(oe.Object(),e,cn.pick(oe,Jt))).Array,wt=e.Date,xt=e.Error,St=e.Function,kt=e.Math,Ht=e.Object,Ct=e.RegExp,Mt=e.String,Ot=e.TypeError,Tt=r.prototype,It=Ht.prototype,Pt=e["__core-js_shared__"],At=St.prototype.toString,zt=It.hasOwnProperty,Dt=0,Bt=(n=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=It.toString,Rt=At.call(Ht),jt=oe._,Ut=Ct("^"+At.call(zt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=se?e.Buffer:i,Et=e.Symbol,Ft=e.Uint8Array,Wt=Nt?Nt.allocUnsafe:i,Xt=Ze(Ht.getPrototypeOf,Ht),qt=Ht.create,te=It.propertyIsEnumerable,re=Tt.splice,ie=Et?Et.isConcatSpreadable:i,ae=Et?Et.iterator:i,ce=Et?Et.toStringTag:i,le=function(){try{var t=co(Ht,"defineProperty");return t({},"",{}),t}catch(e){}}(),ue=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Ie=wt&&wt.now!==oe.Date.now&&wt.now,je=e.setTimeout!==oe.setTimeout&&e.setTimeout,sn=kt.ceil,ln=kt.floor,un=Ht.getOwnPropertySymbols,pn=Nt?Nt.isBuffer:i,fn=e.isFinite,gn=Tt.join,hn=Ze(Ht.keys,Ht),dn=kt.max,mn=kt.min,bn=wt.now,vn=e.parseInt,_n=kt.random,yn=Tt.reverse,wn=co(e,"DataView"),xn=co(e,"Map"),Sn=co(e,"Promise"),kn=co(e,"Set"),Hn=co(e,"WeakMap"),Cn=co(Ht,"create"),Mn=Hn&&new Hn,On={},Tn=Ro(wn),In=Ro(xn),Pn=Ro(Sn),An=Ro(kn),zn=Ro(Hn),Dn=Et?Et.prototype:i,Bn=Dn?Dn.valueOf:i,Ln=Dn?Dn.toString:i;function Rn(t){if(tc(t)&&!Wa(t)&&!(t instanceof En)){if(t instanceof Nn)return t;if(zt.call(t,"__wrapped__"))return jo(t)}return new Nn(t)}var jn=function(){function t(){}return function(e){if(!Za(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Un(){}function Nn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function En(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new Wn(t);this.size=e.size}function Vn(t,e){var n=Wa(t),r=!n&&Fa(t),i=!n&&!r&&Va(t),o=!n&&!r&&!i&&sc(t),a=n||r||i||o,c=a?Ee(t.length,Mt):[],s=c.length;for(var l in t)!e&&!zt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ho(l,s))||c.push(l);return c}function qn(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function $n(t,e){return Ao(Hi(t),ir(e,0,t.length))}function Jn(t){return Ao(Hi(t))}function Gn(t,e,n){(n!==i&&!Ua(t[e],n)||n===i&&!(e in t))&&nr(t,e,n)}function Kn(t,e,n){var r=t[e];zt.call(t,e)&&Ua(r,n)&&(n!==i||e in t)||nr(t,e,n)}function Zn(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function tr(t,e,n,r){return lr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function er(t,e){return t&&Ci(e,Ic(e),t)}function nr(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function rr(t,e){for(var n=-1,o=e.length,a=r(o),c=null==t;++n<o;)a[n]=c?i:Hc(t,e[n]);return a}function ir(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function or(t,e,n,r,o,a){var c,s=1&e,l=2&e,u=4&e;if(n&&(c=o?n(t,r,o,a):n(t)),c!==i)return c;if(!Za(t))return t;var p=Wa(t);if(p){if(c=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&zt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return Hi(t,c)}else{var f=uo(t),g=f==y||f==w;if(Va(t))return _i(t,s);if(f==k||f==d||g&&!o){if(c=l||g?{}:fo(t),!s)return l?function(t,e){return Ci(t,lo(t),e)}(t,function(t,e){return t&&Ci(e,Pc(e),t)}(c,t)):function(t,e){return Ci(t,so(t),e)}(t,er(c,t))}else{if(!Zt[f])return o?t:{};c=function(t,e,n){var r=t.constructor;switch(e){case P:return yi(t);case b:case v:return new r(+t);case A:return function(t,e){var n=e?yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case z:case D:case B:case L:case R:case j:case U:case N:case E:return wi(t,n);case x:return new r;case S:case O:return new r(t);case C:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new r;case T:return Bn?Ht(Bn.call(t)):{}}}(t,f,s)}}a||(a=new Xn);var h=a.get(t);if(h)return h;a.set(t,c),oc(t)?t.forEach((function(r){c.add(or(r,e,n,r,t,a))})):ec(t)&&t.forEach((function(r,i){c.set(i,or(r,e,n,i,t,a))}));var m=p?i:(u?l?to:Zi:l?Pc:Ic)(t);return _e(m||t,(function(r,i){m&&(r=t[i=r]),Kn(c,i,or(r,e,n,i,t,a))})),c}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ht(t);r--;){var o=n[r],a=t[o];if(a===i&&!(o in t)||!(0,e[o])(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new Ot(o);return Oo((function(){t.apply(i,n)}),e)}function sr(t,e,n,r){var i=-1,o=Se,a=!0,c=t.length,s=[],l=e.length;if(!c)return s;n&&(e=He(e,Fe(n))),r?(o=ke,a=!1):e.length>=200&&(o=Ye,a=!1,e=new Qn(e));t:for(;++i<c;){var u=t[i],p=null==n?u:n(u);if(u=r||0!==u?u:0,a&&p==p){for(var f=l;f--;)if(e[f]===p)continue t;s.push(u)}else o(e,p,r)||s.push(u)}return s}Rn.templateSettings={escape:$,evaluate:J,interpolate:G,variable:"",imports:{_:Rn}},(Rn.prototype=Un.prototype).constructor=Rn,(Nn.prototype=jn(Un.prototype)).constructor=Nn,(En.prototype=jn(Un.prototype)).constructor=En,Fn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Fn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fn.prototype.get=function(t){var e=this.__data__;if(Cn){var n=e[t];return n===a?i:n}return zt.call(e,t)?e[t]:i},Fn.prototype.has=function(t){var e=this.__data__;return Cn?e[t]!==i:zt.call(e,t)},Fn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cn&&e===i?a:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=Zn(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Wn.prototype.get=function(t){var e=this.__data__,n=Zn(e,t);return n<0?i:e[n][1]},Wn.prototype.has=function(t){return Zn(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,r=Zn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(xn||Wn),string:new Fn}},Yn.prototype.delete=function(t){var e=oo(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return oo(this,t).get(t)},Yn.prototype.has=function(t){return oo(this,t).has(t)},Yn.prototype.set=function(t,e){var n=oo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,a),this},Qn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!xn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(t,e),this.size=n.size,this};var lr=Ti(br),ur=Ti(vr,!0);function pr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function fr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],c=e(a);if(null!=c&&(s===i?c==c&&!cc(c):n(c,s)))var s=c,l=a}return l}function gr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function hr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=go),i||(i=[]);++o<a;){var c=t[o];e>0&&n(c)?e>1?hr(c,e-1,n,r,i):Ce(i,c):r||(i[i.length]=c)}return i}var dr=Ii(),mr=Ii(!0);function br(t,e){return t&&dr(t,e,Ic)}function vr(t,e){return t&&mr(t,e,Ic)}function _r(t,e){return xe(e,(function(e){return Ja(t[e])}))}function yr(t,e){for(var n=0,r=(e=di(e,t)).length;null!=t&&n<r;)t=t[Lo(e[n++])];return n&&n==r?t:i}function wr(t,e,n){var r=e(t);return Wa(t)?r:Ce(r,n(t))}function xr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ce&&ce in Ht(t)?function(t){var e=zt.call(t,ce),n=t[ce];try{t[ce]=i;var r=!0}catch(a){}var o=Lt.call(t);return r&&(e?t[ce]=n:delete t[ce]),o}(t):function(t){return Lt.call(t)}(t)}function Sr(t,e){return t>e}function kr(t,e){return null!=t&&zt.call(t,e)}function Hr(t,e){return null!=t&&e in Ht(t)}function Cr(t,e,n){for(var o=n?ke:Se,a=t[0].length,c=t.length,s=c,l=r(c),u=1/0,p=[];s--;){var f=t[s];s&&e&&(f=He(f,Fe(e))),u=mn(f.length,u),l[s]=!n&&(e||a>=120&&f.length>=120)?new Qn(s&&f):i}f=t[0];var g=-1,h=l[0];t:for(;++g<a&&p.length<u;){var d=f[g],m=e?e(d):d;if(d=n||0!==d?d:0,!(h?Ye(h,m):o(p,m,n))){for(s=c;--s;){var b=l[s];if(!(b?Ye(b,m):o(t[s],m,n)))continue t}h&&h.push(m),p.push(d)}}return p}function Mr(t,e,n){var r=null==(t=ko(t,e=di(e,t)))?t:t[Lo($o(e))];return null==r?i:be(r,t,n)}function Or(t){return tc(t)&&xr(t)==d}function Tr(t,e,n,r,o){return t===e||(null==t||null==e||!tc(t)&&!tc(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var c=Wa(t),s=Wa(e),l=c?m:uo(t),u=s?m:uo(e),p=(l=l==d?k:l)==k,f=(u=u==d?k:u)==k,g=l==u;if(g&&Va(t)){if(!Va(e))return!1;c=!0,p=!1}if(g&&!p)return a||(a=new Xn),c||sc(t)?Gi(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case b:case v:case S:return Ua(+t,+e);case _:return t.name==e.name&&t.message==e.message;case C:case O:return t==e+"";case x:var c=Ke;case M:if(c||(c=en),t.size!=e.size&&!(1&r))return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=Gi(c(t),c(e),r,i,o,a);return a.delete(t),l;case T:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(t,e,l,n,r,o,a);if(!(1&n)){var h=p&&zt.call(t,"__wrapped__"),y=f&&zt.call(e,"__wrapped__");if(h||y){var w=h?t.value():t,H=y?e.value():e;return a||(a=new Xn),o(w,H,n,r,a)}}return!!g&&(a||(a=new Xn),function(t,e,n,r,o,a){var c=1&n,s=Zi(t),l=s.length;if(l!=Zi(e).length&&!c)return!1;for(var u=l;u--;){var p=s[u];if(!(c?p in e:zt.call(e,p)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var h=!0;a.set(t,e),a.set(e,t);for(var d=c;++u<l;){var m=t[p=s[u]],b=e[p];if(r)var v=c?r(b,m,p,e,t,a):r(m,b,p,t,e,a);if(!(v===i?m===b||o(m,b,n,r,a):v)){h=!1;break}d||(d="constructor"==p)}if(h&&!d){var _=t.constructor,y=e.constructor;_==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(h=!1)}return a.delete(t),a.delete(e),h}(t,e,n,r,o,a))}(t,e,n,r,Tr,o))}function Ir(t,e,n,r){var o=n.length,a=o,c=!r;if(null==t)return!a;for(t=Ht(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=n[o])[0],u=t[l],p=s[1];if(c&&s[2]){if(u===i&&!(l in t))return!1}else{var f=new Xn;if(r)var g=r(u,p,l,t,e,f);if(!(g===i?Tr(p,u,3,r,f):g))return!1}}return!0}function Pr(t){return!(!Za(t)||(e=t,Bt&&Bt in e))&&(Ja(t)?Ut:dt).test(Ro(t));var e}function Ar(t){return"function"==typeof t?t:null==t?ns:"object"==typeof t?Wa(t)?Rr(t[0],t[1]):Lr(t):ps(t)}function zr(t){if(!yo(t))return hn(t);var e=[];for(var n in Ht(t))zt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t,e){return t<e}function Br(t,e){var n=-1,i=Qa(t)?r(t.length):[];return lr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Lr(t){var e=ao(t);return 1==e.length&&e[0][2]?xo(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Rr(t,e){return bo(t)&&wo(e)?xo(Lo(t),e):function(n){var r=Hc(n,t);return r===i&&r===e?Cc(n,t):Tr(e,r,3)}}function jr(t,e,n,r,o){t!==e&&dr(e,(function(a,c){if(o||(o=new Xn),Za(a))!function(t,e,n,r,o,a,c){var s=Co(t,n),l=Co(e,n),u=c.get(l);if(u)Gn(t,n,u);else{var p=a?a(s,l,n+"",t,e,c):i,f=p===i;if(f){var g=Wa(l),h=!g&&Va(l),d=!g&&!h&&sc(l);p=l,g||h||d?Wa(s)?p=s:Xa(s)?p=Hi(s):h?(f=!1,p=_i(l,!0)):d?(f=!1,p=wi(l,!0)):p=[]:rc(l)||Fa(l)?(p=s,Fa(s)?p=mc(s):Za(s)&&!Ja(s)||(p=fo(l))):f=!1}f&&(c.set(l,p),o(p,l,r,a,c),c.delete(l)),Gn(t,n,p)}}(t,e,c,n,jr,r,o);else{var s=r?r(Co(t,c),a,c+"",t,e,o):i;s===i&&(s=a),Gn(t,c,s)}}),Pc)}function Ur(t,e){var n=t.length;if(n)return ho(e+=e<0?n:0,n)?t[e]:i}function Nr(t,e,n){e=e.length?He(e,(function(t){return Wa(t)?function(e){return yr(e,1===t.length?t[0]:t)}:t})):[ns];var r=-1;return e=He(e,Fe(io())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,c=n.length;++r<a;){var s=xi(i[r],o[r]);if(s)return r>=c?s:s*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Br(t,(function(t,n,i){return{criteria:He(e,(function(e){return e(t)})),index:++r,value:t}})))}function Er(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],c=yr(t,a);n(c,a)&&$r(o,di(a,t),c)}return o}function Fr(t,e,n,r){var i=r?De:ze,o=-1,a=e.length,c=t;for(t===e&&(e=Hi(e)),n&&(c=He(t,Fe(n)));++o<a;)for(var s=0,l=e[o],u=n?n(l):l;(s=i(c,u,s,r))>-1;)c!==t&&re.call(c,s,1),re.call(t,s,1);return t}function Wr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ho(i)?re.call(t,i,1):ci(t,i)}}return t}function Yr(t,e){return t+ln(_n()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ln(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return To(So(t,e,ns),t+"")}function Vr(t){return qn(Uc(t))}function qr(t,e){var n=Uc(t);return Ao(n,ir(e,0,n.length))}function $r(t,e,n,r){if(!Za(t))return t;for(var o=-1,a=(e=di(e,t)).length,c=a-1,s=t;null!=s&&++o<a;){var l=Lo(e[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=c){var p=s[l];(u=r?r(p,l,s):i)===i&&(u=Za(p)?p:ho(e[o+1])?[]:{})}Kn(s,l,u),s=s[l]}return t}var Jr=Mn?function(t,e){return Mn.set(t,e),t}:ns,Gr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:Zc(e),writable:!0})}:ns;function Kr(t){return Ao(Uc(t))}function Zr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function ti(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ei(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cc(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ni(t,e,ns,n)}function ni(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var c=(e=n(e))!=e,s=null===e,l=cc(e),u=e===i;o<a;){var p=ln((o+a)/2),f=n(t[p]),g=f!==i,h=null===f,d=f==f,m=cc(f);if(c)var b=r||d;else b=u?d&&(r||g):s?d&&g&&(r||!h):l?d&&g&&!h&&(r||!m):!h&&!m&&(r?f<=e:f<e);b?o=p+1:a=p}return mn(a,4294967294)}function ri(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],c=e?e(a):a;if(!n||!Ua(c,s)){var s=c;o[i++]=0===a?0:a}}return o}function ii(t){return"number"==typeof t?t:cc(t)?f:+t}function oi(t){if("string"==typeof t)return t;if(Wa(t))return He(t,oi)+"";if(cc(t))return Ln?Ln.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=Se,o=t.length,a=!0,c=[],s=c;if(n)a=!1,i=ke;else if(o>=200){var l=e?null:Qi(t);if(l)return en(l);a=!1,i=Ye,s=new Qn}else s=e?[]:c;t:for(;++r<o;){var u=t[r],p=e?e(u):u;if(u=n||0!==u?u:0,a&&p==p){for(var f=s.length;f--;)if(s[f]===p)continue t;e&&s.push(p),c.push(u)}else i(s,p,n)||(s!==c&&s.push(p),c.push(u))}return c}function ci(t,e){return null==(t=ko(t,e=di(e,t)))||delete t[Lo($o(e))]}function si(t,e,n,r){return $r(t,e,n(yr(t,e)),r)}function li(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Zr(t,r?0:o,r?o+1:i):Zr(t,r?o+1:0,r?i:o)}function ui(t,e){var n=t;return n instanceof En&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),n)}function pi(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var c=t[o],s=-1;++s<i;)s!=o&&(a[o]=sr(a[o]||c,t[s],e,n));return ai(hr(a,1),e,n)}function fi(t,e,n){for(var r=-1,o=t.length,a=e.length,c={};++r<o;)n(c,t[r],r<a?e[r]:i);return c}function gi(t){return Xa(t)?t:[]}function hi(t){return"function"==typeof t?t:ns}function di(t,e){return Wa(t)?t:bo(t,e)?[t]:Bo(bc(t))}var mi=Xr;function bi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Zr(t,e,n)}var vi=ue||function(t){return oe.clearTimeout(t)};function _i(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function yi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function wi(t,e){var n=e?yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=cc(t),c=e!==i,s=null===e,l=e==e,u=cc(e);if(!s&&!u&&!a&&t>e||a&&c&&l&&!s&&!u||r&&c&&l||!n&&l||!o)return 1;if(!r&&!a&&!u&&t<e||u&&n&&o&&!r&&!a||s&&n&&o||!c&&o||!l)return-1}return 0}function Si(t,e,n,i){for(var o=-1,a=t.length,c=n.length,s=-1,l=e.length,u=dn(a-c,0),p=r(l+u),f=!i;++s<l;)p[s]=e[s];for(;++o<c;)(f||o<a)&&(p[n[o]]=t[o]);for(;u--;)p[s++]=t[o++];return p}function ki(t,e,n,i){for(var o=-1,a=t.length,c=-1,s=n.length,l=-1,u=e.length,p=dn(a-s,0),f=r(p+u),g=!i;++o<p;)f[o]=t[o];for(var h=o;++l<u;)f[h+l]=e[l];for(;++c<s;)(g||o<a)&&(f[h+n[c]]=t[o++]);return f}function Hi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ci(t,e,n,r){var o=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var s=e[a],l=r?r(n[s],t[s],s,n,t):i;l===i&&(l=t[s]),o?nr(n,s,l):Kn(n,s,l)}return n}function Mi(t,e){return function(n,r){var i=Wa(n)?ve:tr,o=e?e():{};return i(n,t,io(r,2),o)}}function Oi(t){return Xr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,c=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,c&&mo(n[0],n[1],c)&&(a=o<3?i:a,o=1),e=Ht(e);++r<o;){var s=n[r];s&&t(e,s,r,a)}return e}))}function Ti(t,e){return function(n,r){if(null==n)return n;if(!Qa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ht(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ii(t){return function(e,n,r){for(var i=-1,o=Ht(e),a=r(e),c=a.length;c--;){var s=a[t?c:++i];if(!1===n(o[s],s,o))break}return e}}function Pi(t){return function(e){var n=Ge(e=bc(e))?on(e):i,r=n?n[0]:e.charAt(0),o=n?bi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ai(t){return function(e){return Me(Jc(Fc(e).replace(Yt,"")),t,"")}}function zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=jn(t.prototype),r=t.apply(n,e);return Za(r)?r:n}}function Di(t){return function(e,n,r){var o=Ht(e);if(!Qa(e)){var a=io(n,3);e=Ic(e),n=function(t){return a(o[t],t,o)}}var c=t(e,n,r);return c>-1?o[a?e[c]:c]:i}}function Bi(t){return Ki((function(e){var n=e.length,r=n,a=Nn.prototype.thru;for(t&&e.reverse();r--;){var c=e[r];if("function"!=typeof c)throw new Ot(o);if(a&&!s&&"wrapper"==no(c))var s=new Nn([],!0)}for(r=s?r:n;++r<n;){var l=no(c=e[r]),u="wrapper"==l?eo(c):i;s=u&&vo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[no(u[0])].apply(s,u[3]):1==c.length&&vo(c)?s[l]():s.thru(c)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Wa(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Li(t,e,n,o,a,c,s,u,p,f){var g=e&l,h=1&e,d=2&e,m=24&e,b=512&e,v=d?i:zi(t);return function i(){for(var l=arguments.length,_=r(l),y=l;y--;)_[y]=arguments[y];if(m)var w=ro(i),x=Ve(_,w);if(o&&(_=Si(_,o,a,m)),c&&(_=ki(_,c,s,m)),l-=x,m&&l<f){var S=tn(_,w);return Wi(t,e,Li,i.placeholder,n,_,S,u,p,f-l)}var k=h?n:this,H=d?k[t]:t;return l=_.length,u?_=Ho(_,u):b&&l>1&&_.reverse(),g&&p<l&&(_.length=p),this&&this!==oe&&this instanceof i&&(H=v||zi(H)),H.apply(k,_)}}function Ri(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function ji(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=ii(n),r=ii(r)),o=t(n,r)}return o}}function Ui(t){return Ki((function(e){return e=He(e,Fe(io())),Xr((function(n){var r=this;return t(e,(function(t){return be(t,r,n)}))}))}))}function Ni(t,e){var n=(e=e===i?" ":oi(e)).length;if(n<2)return n?Qr(e,t):e;var r=Qr(e,sn(t/rn(e)));return Ge(e)?bi(on(r),0,t).join(""):r.slice(0,t)}function Ei(t){return function(e,n,o){return o&&"number"!=typeof o&&mo(e,n,o)&&(n=o=i),e=fc(e),n===i?(n=e,e=0):n=fc(n),function(t,e,n,i){for(var o=-1,a=dn(sn((e-t)/(n||1)),0),c=r(a);a--;)c[i?a:++o]=t,t+=n;return c}(e,n,o=o===i?e<n?1:-1:fc(o),t)}}function Fi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=dc(e),n=dc(n)),t(e,n)}}function Wi(t,e,n,r,o,a,c,l,u,p){var f=8&e;e|=f?s:64,4&(e&=~(f?64:s))||(e&=-4);var g=[t,e,o,f?a:i,f?c:i,f?i:a,f?i:c,l,u,p],h=n.apply(i,g);return vo(t)&&Mo(h,g),h.placeholder=r,Io(h,t,e)}function Yi(t){var e=kt[t];return function(t,n){if(t=dc(t),(n=null==n?0:mn(gc(n),292))&&fn(t)){var r=(bc(t)+"e").split("e");return+((r=(bc(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=kn&&1/en(new kn([,-0]))[1]==u?function(t){return new kn(t)}:cs;function Xi(t){return function(e){var n=uo(e);return n==x?Ke(e):n==M?nn(e):function(t,e){return He(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Vi(t,e,n,a,u,p,f,g){var h=2&e;if(!h&&"function"!=typeof t)throw new Ot(o);var d=a?a.length:0;if(d||(e&=-97,a=u=i),f=f===i?f:dn(gc(f),0),g=g===i?g:gc(g),d-=u?u.length:0,64&e){var m=a,b=u;a=u=i}var v=h?i:eo(t),_=[t,e,n,a,u,m,b,p,f,g];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||r==l&&8==n||r==l&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var o=e[3];if(o){var a=t[3];t[3]=a?Si(a,o,e[4]):o,t[4]=a?tn(t[3],c):e[4]}(o=e[5])&&(t[5]=(a=t[5])?ki(a,o,e[6]):o,t[6]=a?tn(t[5],c):e[6]),(o=e[7])&&(t[7]=o),r&l&&(t[8]=null==t[8]?e[8]:mn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(_,v),t=_[0],e=_[1],n=_[2],a=_[3],u=_[4],!(g=_[9]=_[9]===i?h?0:t.length:dn(_[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?function(t,e,n){var o=zi(t);return function a(){for(var c=arguments.length,s=r(c),l=c,u=ro(a);l--;)s[l]=arguments[l];var p=c<3&&s[0]!==u&&s[c-1]!==u?[]:tn(s,u);return(c-=p.length)<n?Wi(t,e,Li,a.placeholder,i,s,p,i,i,n-c):be(this&&this!==oe&&this instanceof a?o:t,this,s)}}(t,e,g):e!=s&&33!=e||u.length?Li.apply(i,_):function(t,e,n,i){var o=1&e,a=zi(t);return function e(){for(var c=-1,s=arguments.length,l=-1,u=i.length,p=r(u+s),f=this&&this!==oe&&this instanceof e?a:t;++l<u;)p[l]=i[l];for(;s--;)p[l++]=arguments[++c];return be(f,o?n:this,p)}}(t,e,n,a);else var y=function(t,e,n){var r=1&e,i=zi(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Io((v?Jr:Mo)(y,_),t,e)}function qi(t,e,n,r){return t===i||Ua(t,It[n])&&!zt.call(r,n)?e:t}function $i(t,e,n,r,o,a){return Za(t)&&Za(e)&&(a.set(e,t),jr(t,e,i,$i,a),a.delete(e)),t}function Ji(t){return rc(t)?i:t}function Gi(t,e,n,r,o,a){var c=1&n,s=t.length,l=e.length;if(s!=l&&!(c&&l>s))return!1;var u=a.get(t),p=a.get(e);if(u&&p)return u==e&&p==t;var f=-1,g=!0,h=2&n?new Qn:i;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],m=e[f];if(r)var b=c?r(m,d,f,e,t,a):r(d,m,f,t,e,a);if(b!==i){if(b)continue;g=!1;break}if(h){if(!Te(e,(function(t,e){if(!Ye(h,e)&&(d===t||o(d,t,n,r,a)))return h.push(e)}))){g=!1;break}}else if(d!==m&&!o(d,m,n,r,a)){g=!1;break}}return a.delete(t),a.delete(e),g}function Ki(t){return To(So(t,i,Yo),t+"")}function Zi(t){return wr(t,Ic,so)}function to(t){return wr(t,Pc,lo)}var eo=Mn?function(t){return Mn.get(t)}:cs;function no(t){for(var e=t.name+"",n=On[e],r=zt.call(On,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ro(t){return(zt.call(Rn,"placeholder")?Rn:t).placeholder}function io(){var t=Rn.iteratee||rs;return t=t===rs?Ar:t,arguments.length?t(arguments[0],arguments[1]):t}function oo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ao(t){for(var e=Ic(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,wo(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Pr(n)?n:i}var so=un?function(t){return null==t?[]:(t=Ht(t),xe(un(t),(function(e){return te.call(t,e)})))}:hs,lo=un?function(t){for(var e=[];t;)Ce(e,so(t)),t=Xt(t);return e}:hs,uo=xr;function po(t,e,n){for(var r=-1,i=(e=di(e,t)).length,o=!1;++r<i;){var a=Lo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ka(i)&&ho(a,i)&&(Wa(t)||Fa(t))}function fo(t){return"function"!=typeof t.constructor||yo(t)?{}:jn(Xt(t))}function go(t){return Wa(t)||Fa(t)||!!(ie&&t&&t[ie])}function ho(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,n){if(!Za(n))return!1;var r=typeof e;return!!("number"==r?Qa(n)&&ho(e,n.length):"string"==r&&e in n)&&Ua(n[e],t)}function bo(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cc(t))||Z.test(t)||!K.test(t)||null!=e&&t in Ht(e)}function vo(t){var e=no(t),n=Rn[e];if("function"!=typeof n||!(e in En.prototype))return!1;if(t===n)return!0;var r=eo(n);return!!r&&t===r[0]}(wn&&uo(new wn(new ArrayBuffer(1)))!=A||xn&&uo(new xn)!=x||Sn&&uo(Sn.resolve())!=H||kn&&uo(new kn)!=M||Hn&&uo(new Hn)!=I)&&(uo=function(t){var e=xr(t),n=e==k?t.constructor:i,r=n?Ro(n):"";if(r)switch(r){case Tn:return A;case In:return x;case Pn:return H;case An:return M;case zn:return I}return e});var _o=Pt?Ja:ds;function yo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function wo(t){return t==t&&!Za(t)}function xo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Ht(n))}}function So(t,e,n){return e=dn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=dn(i.length-e,0),c=r(a);++o<a;)c[o]=i[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=i[o];return s[e]=n(c),be(t,this,s)}}function ko(t,e){return e.length<2?t:yr(t,Zr(e,0,-1))}function Ho(t,e){for(var n=t.length,r=mn(e.length,n),o=Hi(t);r--;){var a=e[r];t[r]=ho(a,n)?o[a]:i}return t}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Mo=Po(Jr),Oo=je||function(t,e){return oe.setTimeout(t,e)},To=Po(Gr);function Io(t,e,n){var r=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return _e(h,(function(n){var r="_."+n[0];e&n[1]&&!Se(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(st):[]}(r),n)))}function Po(t){var e=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ao(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Yr(n,o),c=t[a];t[a]=t[n],t[n]=c}return t.length=e,t}var zo,Do,Bo=(zo=za((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(ut,"$1"):n||t)})),e}),(function(t){return 500===Do.size&&Do.clear(),t})),Do=zo.cache,zo);function Lo(t){if("string"==typeof t||cc(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ro(t){if(null!=t){try{return At.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function jo(t){if(t instanceof En)return t.clone();var e=new Nn(t.__wrapped__,t.__chain__);return e.__actions__=Hi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Xr((function(t,e){return Xa(t)?sr(t,hr(e,1,Xa,!0)):[]})),No=Xr((function(t,e){var n=$o(e);return Xa(n)&&(n=i),Xa(t)?sr(t,hr(e,1,Xa,!0),io(n,2)):[]})),Eo=Xr((function(t,e){var n=$o(e);return Xa(n)&&(n=i),Xa(t)?sr(t,hr(e,1,Xa,!0),i,n):[]}));function Fo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gc(n);return i<0&&(i=dn(r+i,0)),Ae(t,io(e,3),i)}function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gc(n),o=n<0?dn(r+o,0):mn(o,r-1)),Ae(t,io(e,3),o,!0)}function Yo(t){return null!=t&&t.length?hr(t,1):[]}function Qo(t){return t&&t.length?t[0]:i}var Xo=Xr((function(t){var e=He(t,gi);return e.length&&e[0]===t[0]?Cr(e):[]})),Vo=Xr((function(t){var e=$o(t),n=He(t,gi);return e===$o(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Cr(n,io(e,2)):[]})),qo=Xr((function(t){var e=$o(t),n=He(t,gi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Cr(n,i,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Jo=Xr(Go);function Go(t,e){return t&&t.length&&e&&e.length?Fr(t,e):t}var Ko=Ki((function(t,e){var n=null==t?0:t.length,r=rr(t,e);return Wr(t,He(e,(function(t){return ho(t,n)?+t:t})).sort(xi)),r}));function Zo(t){return null==t?t:yn.call(t)}var ta=Xr((function(t){return ai(hr(t,1,Xa,!0))})),ea=Xr((function(t){var e=$o(t);return Xa(e)&&(e=i),ai(hr(t,1,Xa,!0),io(e,2))})),na=Xr((function(t){var e=$o(t);return e="function"==typeof e?e:i,ai(hr(t,1,Xa,!0),i,e)}));function ra(t){if(!t||!t.length)return[];var e=0;return t=xe(t,(function(t){if(Xa(t))return e=dn(t.length,e),!0})),Ee(e,(function(e){return He(t,Re(e))}))}function ia(t,e){if(!t||!t.length)return[];var n=ra(t);return null==e?n:He(n,(function(t){return be(e,i,t)}))}var oa=Xr((function(t,e){return Xa(t)?sr(t,e):[]})),aa=Xr((function(t){return pi(xe(t,Xa))})),ca=Xr((function(t){var e=$o(t);return Xa(e)&&(e=i),pi(xe(t,Xa),io(e,2))})),sa=Xr((function(t){var e=$o(t);return e="function"==typeof e?e:i,pi(xe(t,Xa),i,e)})),la=Xr(ra),ua=Xr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ia(t,n)}));function pa(t){var e=Rn(t);return e.__chain__=!0,e}function fa(t,e){return e(t)}var ga=Ki((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return rr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof En&&ho(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fa,args:[o],thisArg:i}),new Nn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ha=Mi((function(t,e,n){zt.call(t,n)?++t[n]:nr(t,n,1)})),da=Di(Fo),ma=Di(Wo);function ba(t,e){return(Wa(t)?_e:lr)(t,io(e,3))}function va(t,e){return(Wa(t)?ye:ur)(t,io(e,3))}var _a=Mi((function(t,e,n){zt.call(t,n)?t[n].push(e):nr(t,n,[e])})),ya=Xr((function(t,e,n){var i=-1,o="function"==typeof e,a=Qa(t)?r(t.length):[];return lr(t,(function(t){a[++i]=o?be(e,t,n):Mr(t,e,n)})),a})),wa=Mi((function(t,e,n){nr(t,n,e)}));function xa(t,e){return(Wa(t)?He:Br)(t,io(e,3))}var Sa=Mi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ka=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&mo(t,e[0],e[1])?e=[]:n>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),Nr(t,hr(e,1),[])})),Ha=Ie||function(){return oe.Date.now()};function Ca(t,e,n){return e=n?i:e,Vi(t,l,i,i,i,i,e=t&&null==e?t.length:e)}function Ma(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=gc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Oa=Xr((function(t,e,n){var r=1;if(n.length){var i=tn(n,ro(Oa));r|=s}return Vi(t,r,e,n,i)})),Ta=Xr((function(t,e,n){var r=3;if(n.length){var i=tn(n,ro(Ta));r|=s}return Vi(e,r,t,n,i)}));function Ia(t,e,n){var r,a,c,s,l,u,p=0,f=!1,g=!1,h=!0;if("function"!=typeof t)throw new Ot(o);function d(e){var n=r,o=a;return r=a=i,p=e,s=t.apply(o,n)}function m(t){return p=t,l=Oo(v,e),f?d(t):s}function b(t){var n=t-u;return u===i||n>=e||n<0||g&&t-p>=c}function v(){var t=Ha();if(b(t))return _(t);l=Oo(v,function(t){var n=e-(t-u);return g?mn(n,c-(t-p)):n}(t))}function _(t){return l=i,h&&r?d(t):(r=a=i,s)}function y(){var t=Ha(),n=b(t);if(r=arguments,a=this,u=t,n){if(l===i)return m(u);if(g)return vi(l),l=Oo(v,e),d(u)}return l===i&&(l=Oo(v,e)),s}return e=dc(e)||0,Za(n)&&(f=!!n.leading,c=(g="maxWait"in n)?dn(dc(n.maxWait)||0,e):c,h="trailing"in n?!!n.trailing:h),y.cancel=function(){l!==i&&vi(l),p=0,r=u=a=l=i},y.flush=function(){return l===i?s:_(Ha())},y}var Pa=Xr((function(t,e){return cr(t,1,e)})),Aa=Xr((function(t,e,n){return cr(t,dc(e)||0,n)}));function za(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(za.Cache||Yn),n}function Da(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}za.Cache=Yn;var Ba=mi((function(t,e){var n=(e=1==e.length&&Wa(e[0])?He(e[0],Fe(io())):He(hr(e,1),Fe(io()))).length;return Xr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return be(t,this,r)}))})),La=Xr((function(t,e){var n=tn(e,ro(La));return Vi(t,s,i,e,n)})),Ra=Xr((function(t,e){var n=tn(e,ro(Ra));return Vi(t,64,i,e,n)})),ja=Ki((function(t,e){return Vi(t,256,i,i,i,e)}));function Ua(t,e){return t===e||t!=t&&e!=e}var Na=Fi(Sr),Ea=Fi((function(t,e){return t>=e})),Fa=Or(function(){return arguments}())?Or:function(t){return tc(t)&&zt.call(t,"callee")&&!te.call(t,"callee")},Wa=r.isArray,Ya=pe?Fe(pe):function(t){return tc(t)&&xr(t)==P};function Qa(t){return null!=t&&Ka(t.length)&&!Ja(t)}function Xa(t){return tc(t)&&Qa(t)}var Va=pn||ds,qa=fe?Fe(fe):function(t){return tc(t)&&xr(t)==v};function $a(t){if(!tc(t))return!1;var e=xr(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!rc(t)}function Ja(t){if(!Za(t))return!1;var e=xr(t);return e==y||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ga(t){return"number"==typeof t&&t==gc(t)}function Ka(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function Za(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function tc(t){return null!=t&&"object"==typeof t}var ec=ge?Fe(ge):function(t){return tc(t)&&uo(t)==x};function nc(t){return"number"==typeof t||tc(t)&&xr(t)==S}function rc(t){if(!tc(t)||xr(t)!=k)return!1;var e=Xt(t);if(null===e)return!0;var n=zt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==Rt}var ic=he?Fe(he):function(t){return tc(t)&&xr(t)==C},oc=de?Fe(de):function(t){return tc(t)&&uo(t)==M};function ac(t){return"string"==typeof t||!Wa(t)&&tc(t)&&xr(t)==O}function cc(t){return"symbol"==typeof t||tc(t)&&xr(t)==T}var sc=me?Fe(me):function(t){return tc(t)&&Ka(t.length)&&!!Kt[xr(t)]},lc=Fi(Dr),uc=Fi((function(t,e){return t<=e}));function pc(t){if(!t)return[];if(Qa(t))return ac(t)?on(t):Hi(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=uo(t);return(e==x?Ke:e==M?en:Uc)(t)}function fc(t){return t?(t=dc(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gc(t){var e=fc(t),n=e%1;return e==e?n?e-n:e:0}function hc(t){return t?ir(gc(t),0,g):0}function dc(t){if("number"==typeof t)return t;if(cc(t))return f;if(Za(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Za(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(rt,"");var n=ht.test(t);return n||mt.test(t)?ne(t.slice(2),n?2:8):gt.test(t)?f:+t}function mc(t){return Ci(t,Pc(t))}function bc(t){return null==t?"":oi(t)}var vc=Oi((function(t,e){if(yo(e)||Qa(e))Ci(e,Ic(e),t);else for(var n in e)zt.call(e,n)&&Kn(t,n,e[n])})),_c=Oi((function(t,e){Ci(e,Pc(e),t)})),yc=Oi((function(t,e,n,r){Ci(e,Pc(e),t,r)})),wc=Oi((function(t,e,n,r){Ci(e,Ic(e),t,r)})),xc=Ki(rr),Sc=Xr((function(t,e){t=Ht(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&mo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],c=Pc(a),s=-1,l=c.length;++s<l;){var u=c[s],p=t[u];(p===i||Ua(p,It[u])&&!zt.call(t,u))&&(t[u]=a[u])}return t})),kc=Xr((function(t){return t.push(i,$i),be(zc,i,t)}));function Hc(t,e,n){var r=null==t?i:yr(t,e);return r===i?n:r}function Cc(t,e){return null!=t&&po(t,e,Hr)}var Mc=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),Zc(ns)),Oc=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),zt.call(t,e)?t[e].push(n):t[e]=[n]}),io),Tc=Xr(Mr);function Ic(t){return Qa(t)?Vn(t):zr(t)}function Pc(t){return Qa(t)?Vn(t,!0):function(t){if(!Za(t))return function(t){var e=[];if(null!=t)for(var n in Ht(t))e.push(n);return e}(t);var e=yo(t),n=[];for(var r in t)("constructor"!=r||!e&&zt.call(t,r))&&n.push(r);return n}(t)}var Ac=Oi((function(t,e,n){jr(t,e,n)})),zc=Oi((function(t,e,n,r){jr(t,e,n,r)})),Dc=Ki((function(t,e){var n={};if(null==t)return n;var r=!1;e=He(e,(function(e){return e=di(e,t),r||(r=e.length>1),e})),Ci(t,to(t),n),r&&(n=or(n,7,Ji));for(var i=e.length;i--;)ci(n,e[i]);return n})),Bc=Ki((function(t,e){return null==t?{}:function(t,e){return Er(t,e,(function(e,n){return Cc(t,n)}))}(t,e)}));function Lc(t,e){if(null==t)return{};var n=He(to(t),(function(t){return[t]}));return e=io(e),Er(t,n,(function(t,n){return e(t,n[0])}))}var Rc=Xi(Ic),jc=Xi(Pc);function Uc(t){return null==t?[]:We(t,Ic(t))}var Nc=Ai((function(t,e,n){return e=e.toLowerCase(),t+(n?Ec(e):e)}));function Ec(t){return $c(bc(t).toLowerCase())}function Fc(t){return(t=bc(t))&&t.replace(vt,qe).replace(Qt,"")}var Wc=Ai((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Yc=Ai((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Qc=Pi("toLowerCase"),Xc=Ai((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Vc=Ai((function(t,e,n){return t+(n?" ":"")+$c(e)})),qc=Ai((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),$c=Pi("toUpperCase");function Jc(t,e,n){return t=bc(t),(e=n?i:e)===i?function(t){return $t.test(t)}(t)?function(t){return t.match(Vt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Gc=Xr((function(t,e){try{return be(t,i,e)}catch(n){return $a(n)?n:new xt(n)}})),Kc=Ki((function(t,e){return _e(e,(function(e){e=Lo(e),nr(t,e,Oa(t[e],t))})),t}));function Zc(t){return function(){return t}}var ts=Bi(),es=Bi(!0);function ns(t){return t}function rs(t){return Ar("function"==typeof t?t:or(t,1))}var is=Xr((function(t,e){return function(n){return Mr(n,t,e)}})),os=Xr((function(t,e){return function(n){return Mr(t,n,e)}}));function as(t,e,n){var r=Ic(e),i=_r(e,r);null!=n||Za(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=_r(e,Ic(e)));var o=!(Za(n)&&"chain"in n&&!n.chain),a=Ja(t);return _e(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Hi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ce([this.value()],arguments))})})),t}function cs(){}var ss=Ui(He),ls=Ui(we),us=Ui(Te);function ps(t){return bo(t)?Re(Lo(t)):function(t){return function(e){return yr(e,t)}}(t)}var fs=Ei(),gs=Ei(!0);function hs(){return[]}function ds(){return!1}var ms,bs=ji((function(t,e){return t+e}),0),vs=Yi("ceil"),_s=ji((function(t,e){return t/e}),1),ys=Yi("floor"),ws=ji((function(t,e){return t*e}),1),xs=Yi("round"),Ss=ji((function(t,e){return t-e}),0);return Rn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=gc(t),function(){if(--t<1)return e.apply(this,arguments)}},Rn.ary=Ca,Rn.assign=vc,Rn.assignIn=_c,Rn.assignInWith=yc,Rn.assignWith=wc,Rn.at=xc,Rn.before=Ma,Rn.bind=Oa,Rn.bindAll=Kc,Rn.bindKey=Ta,Rn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Rn.chain=pa,Rn.chunk=function(t,e,n){e=(n?mo(t,e,n):e===i)?1:dn(gc(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,c=0,s=r(sn(o/e));a<o;)s[c++]=Zr(t,a,a+=e);return s},Rn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Rn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ce(Wa(n)?Hi(n):[n],hr(e,1))},Rn.cond=function(t){var e=null==t?0:t.length,n=io();return t=e?He(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var i=t[r];if(be(i[0],this,n))return be(i[1],this,n)}}))},Rn.conforms=function(t){return function(t){var e=Ic(t);return function(n){return ar(n,t,e)}}(or(t,1))},Rn.constant=Zc,Rn.countBy=ha,Rn.create=function(t,e){var n=jn(t);return null==e?n:er(n,e)},Rn.curry=function t(e,n,r){var o=Vi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Rn.curryRight=function t(e,n,r){var o=Vi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Rn.debounce=Ia,Rn.defaults=Sc,Rn.defaultsDeep=kc,Rn.defer=Pa,Rn.delay=Aa,Rn.difference=Uo,Rn.differenceBy=No,Rn.differenceWith=Eo,Rn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Zr(t,(e=n||e===i?1:gc(e))<0?0:e,r):[]},Rn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Zr(t,0,(e=r-(e=n||e===i?1:gc(e)))<0?0:e):[]},Rn.dropRightWhile=function(t,e){return t&&t.length?li(t,io(e,3),!0,!0):[]},Rn.dropWhile=function(t,e){return t&&t.length?li(t,io(e,3),!0):[]},Rn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&mo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=gc(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gc(r))<0&&(r+=o),r=n>r?0:hc(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Rn.filter=function(t,e){return(Wa(t)?xe:gr)(t,io(e,3))},Rn.flatMap=function(t,e){return hr(xa(t,e),1)},Rn.flatMapDeep=function(t,e){return hr(xa(t,e),u)},Rn.flatMapDepth=function(t,e,n){return n=n===i?1:gc(n),hr(xa(t,e),n)},Rn.flatten=Yo,Rn.flattenDeep=function(t){return null!=t&&t.length?hr(t,u):[]},Rn.flattenDepth=function(t,e){return null!=t&&t.length?hr(t,e=e===i?1:gc(e)):[]},Rn.flip=function(t){return Vi(t,512)},Rn.flow=ts,Rn.flowRight=es,Rn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Rn.functions=function(t){return null==t?[]:_r(t,Ic(t))},Rn.functionsIn=function(t){return null==t?[]:_r(t,Pc(t))},Rn.groupBy=_a,Rn.initial=function(t){return null!=t&&t.length?Zr(t,0,-1):[]},Rn.intersection=Xo,Rn.intersectionBy=Vo,Rn.intersectionWith=qo,Rn.invert=Mc,Rn.invertBy=Oc,Rn.invokeMap=ya,Rn.iteratee=rs,Rn.keyBy=wa,Rn.keys=Ic,Rn.keysIn=Pc,Rn.map=xa,Rn.mapKeys=function(t,e){var n={};return e=io(e,3),br(t,(function(t,r,i){nr(n,e(t,r,i),t)})),n},Rn.mapValues=function(t,e){var n={};return e=io(e,3),br(t,(function(t,r,i){nr(n,r,e(t,r,i))})),n},Rn.matches=function(t){return Lr(or(t,1))},Rn.matchesProperty=function(t,e){return Rr(t,or(e,1))},Rn.memoize=za,Rn.merge=Ac,Rn.mergeWith=zc,Rn.method=is,Rn.methodOf=os,Rn.mixin=as,Rn.negate=Da,Rn.nthArg=function(t){return t=gc(t),Xr((function(e){return Ur(e,t)}))},Rn.omit=Dc,Rn.omitBy=function(t,e){return Lc(t,Da(io(e)))},Rn.once=function(t){return Ma(2,t)},Rn.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?i:n)||(n=null==n?[]:[n]),Nr(t,e,n))},Rn.over=ss,Rn.overArgs=Ba,Rn.overEvery=ls,Rn.overSome=us,Rn.partial=La,Rn.partialRight=Ra,Rn.partition=Sa,Rn.pick=Bc,Rn.pickBy=Lc,Rn.property=ps,Rn.propertyOf=function(t){return function(e){return null==t?i:yr(t,e)}},Rn.pull=Jo,Rn.pullAll=Go,Rn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Fr(t,e,io(n,2)):t},Rn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Fr(t,e,i,n):t},Rn.pullAt=Ko,Rn.range=fs,Rn.rangeRight=gs,Rn.rearg=ja,Rn.reject=function(t,e){return(Wa(t)?xe:gr)(t,Da(io(e,3)))},Rn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=io(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Wr(t,i),n},Rn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Xr(t,e=e===i?e:gc(e))},Rn.reverse=Zo,Rn.sampleSize=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:gc(e),(Wa(t)?$n:qr)(t,e)},Rn.set=function(t,e,n){return null==t?t:$r(t,e,n)},Rn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:$r(t,e,n,r)},Rn.shuffle=function(t){return(Wa(t)?Jn:Kr)(t)},Rn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&mo(t,e,n)?(e=0,n=r):(e=null==e?0:gc(e),n=n===i?r:gc(n)),Zr(t,e,n)):[]},Rn.sortBy=ka,Rn.sortedUniq=function(t){return t&&t.length?ri(t):[]},Rn.sortedUniqBy=function(t,e){return t&&t.length?ri(t,io(e,2)):[]},Rn.split=function(t,e,n){return n&&"number"!=typeof n&&mo(t,e,n)&&(e=n=i),(n=n===i?g:n>>>0)?(t=bc(t))&&("string"==typeof e||null!=e&&!ic(e))&&!(e=oi(e))&&Ge(t)?bi(on(t),0,n):t.split(e,n):[]},Rn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:dn(gc(e),0),Xr((function(n){var r=n[e],i=bi(n,0,e);return r&&Ce(i,r),be(t,this,i)}))},Rn.tail=function(t){var e=null==t?0:t.length;return e?Zr(t,1,e):[]},Rn.take=function(t,e,n){return t&&t.length?Zr(t,0,(e=n||e===i?1:gc(e))<0?0:e):[]},Rn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Zr(t,(e=r-(e=n||e===i?1:gc(e)))<0?0:e,r):[]},Rn.takeRightWhile=function(t,e){return t&&t.length?li(t,io(e,3),!1,!0):[]},Rn.takeWhile=function(t,e){return t&&t.length?li(t,io(e,3)):[]},Rn.tap=function(t,e){return e(t),t},Rn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return Za(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ia(t,e,{leading:r,maxWait:e,trailing:i})},Rn.thru=fa,Rn.toArray=pc,Rn.toPairs=Rc,Rn.toPairsIn=jc,Rn.toPath=function(t){return Wa(t)?He(t,Lo):cc(t)?[t]:Hi(Bo(bc(t)))},Rn.toPlainObject=mc,Rn.transform=function(t,e,n){var r=Wa(t),i=r||Va(t)||sc(t);if(e=io(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Za(t)&&Ja(o)?jn(Xt(t)):{}}return(i?_e:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Rn.unary=function(t){return Ca(t,1)},Rn.union=ta,Rn.unionBy=ea,Rn.unionWith=na,Rn.uniq=function(t){return t&&t.length?ai(t):[]},Rn.uniqBy=function(t,e){return t&&t.length?ai(t,io(e,2)):[]},Rn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},Rn.unset=function(t,e){return null==t||ci(t,e)},Rn.unzip=ra,Rn.unzipWith=ia,Rn.update=function(t,e,n){return null==t?t:si(t,e,hi(n))},Rn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:si(t,e,hi(n),r)},Rn.values=Uc,Rn.valuesIn=function(t){return null==t?[]:We(t,Pc(t))},Rn.without=oa,Rn.words=Jc,Rn.wrap=function(t,e){return La(hi(e),t)},Rn.xor=aa,Rn.xorBy=ca,Rn.xorWith=sa,Rn.zip=la,Rn.zipObject=function(t,e){return fi(t||[],e||[],Kn)},Rn.zipObjectDeep=function(t,e){return fi(t||[],e||[],$r)},Rn.zipWith=ua,Rn.entries=Rc,Rn.entriesIn=jc,Rn.extend=_c,Rn.extendWith=yc,as(Rn,Rn),Rn.add=bs,Rn.attempt=Gc,Rn.camelCase=Nc,Rn.capitalize=Ec,Rn.ceil=vs,Rn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=dc(n))==n?n:0),e!==i&&(e=(e=dc(e))==e?e:0),ir(dc(t),e,n)},Rn.clone=function(t){return or(t,4)},Rn.cloneDeep=function(t){return or(t,5)},Rn.cloneDeepWith=function(t,e){return or(t,5,e="function"==typeof e?e:i)},Rn.cloneWith=function(t,e){return or(t,4,e="function"==typeof e?e:i)},Rn.conformsTo=function(t,e){return null==e||ar(t,e,Ic(e))},Rn.deburr=Fc,Rn.defaultTo=function(t,e){return null==t||t!=t?e:t},Rn.divide=_s,Rn.endsWith=function(t,e,n){t=bc(t),e=oi(e);var r=t.length,o=n=n===i?r:ir(gc(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Rn.eq=Ua,Rn.escape=function(t){return(t=bc(t))&&q.test(t)?t.replace(X,$e):t},Rn.escapeRegExp=function(t){return(t=bc(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Rn.every=function(t,e,n){var r=Wa(t)?we:pr;return n&&mo(t,e,n)&&(e=i),r(t,io(e,3))},Rn.find=da,Rn.findIndex=Fo,Rn.findKey=function(t,e){return Pe(t,io(e,3),br)},Rn.findLast=ma,Rn.findLastIndex=Wo,Rn.findLastKey=function(t,e){return Pe(t,io(e,3),vr)},Rn.floor=ys,Rn.forEach=ba,Rn.forEachRight=va,Rn.forIn=function(t,e){return null==t?t:dr(t,io(e,3),Pc)},Rn.forInRight=function(t,e){return null==t?t:mr(t,io(e,3),Pc)},Rn.forOwn=function(t,e){return t&&br(t,io(e,3))},Rn.forOwnRight=function(t,e){return t&&vr(t,io(e,3))},Rn.get=Hc,Rn.gt=Na,Rn.gte=Ea,Rn.has=function(t,e){return null!=t&&po(t,e,kr)},Rn.hasIn=Cc,Rn.head=Qo,Rn.identity=ns,Rn.includes=function(t,e,n,r){t=Qa(t)?t:Uc(t),n=n&&!r?gc(n):0;var i=t.length;return n<0&&(n=dn(i+n,0)),ac(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ze(t,e,n)>-1},Rn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gc(n);return i<0&&(i=dn(r+i,0)),ze(t,e,i)},Rn.inRange=function(t,e,n){return e=fc(e),n===i?(n=e,e=0):n=fc(n),function(t,e,n){return t>=mn(e,n)&&t<dn(e,n)}(t=dc(t),e,n)},Rn.invoke=Tc,Rn.isArguments=Fa,Rn.isArray=Wa,Rn.isArrayBuffer=Ya,Rn.isArrayLike=Qa,Rn.isArrayLikeObject=Xa,Rn.isBoolean=function(t){return!0===t||!1===t||tc(t)&&xr(t)==b},Rn.isBuffer=Va,Rn.isDate=qa,Rn.isElement=function(t){return tc(t)&&1===t.nodeType&&!rc(t)},Rn.isEmpty=function(t){if(null==t)return!0;if(Qa(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Va(t)||sc(t)||Fa(t)))return!t.length;var e=uo(t);if(e==x||e==M)return!t.size;if(yo(t))return!zr(t).length;for(var n in t)if(zt.call(t,n))return!1;return!0},Rn.isEqual=function(t,e){return Tr(t,e)},Rn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Tr(t,e,i,n):!!r},Rn.isError=$a,Rn.isFinite=function(t){return"number"==typeof t&&fn(t)},Rn.isFunction=Ja,Rn.isInteger=Ga,Rn.isLength=Ka,Rn.isMap=ec,Rn.isMatch=function(t,e){return t===e||Ir(t,e,ao(e))},Rn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Ir(t,e,ao(e),n)},Rn.isNaN=function(t){return nc(t)&&t!=+t},Rn.isNative=function(t){if(_o(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(t)},Rn.isNil=function(t){return null==t},Rn.isNull=function(t){return null===t},Rn.isNumber=nc,Rn.isObject=Za,Rn.isObjectLike=tc,Rn.isPlainObject=rc,Rn.isRegExp=ic,Rn.isSafeInteger=function(t){return Ga(t)&&t>=-9007199254740991&&t<=p},Rn.isSet=oc,Rn.isString=ac,Rn.isSymbol=cc,Rn.isTypedArray=sc,Rn.isUndefined=function(t){return t===i},Rn.isWeakMap=function(t){return tc(t)&&uo(t)==I},Rn.isWeakSet=function(t){return tc(t)&&"[object WeakSet]"==xr(t)},Rn.join=function(t,e){return null==t?"":gn.call(t,e)},Rn.kebabCase=Wc,Rn.last=$o,Rn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gc(n))<0?dn(r+o,0):mn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ae(t,Be,o,!0)},Rn.lowerCase=Yc,Rn.lowerFirst=Qc,Rn.lt=lc,Rn.lte=uc,Rn.max=function(t){return t&&t.length?fr(t,ns,Sr):i},Rn.maxBy=function(t,e){return t&&t.length?fr(t,io(e,2),Sr):i},Rn.mean=function(t){return Le(t,ns)},Rn.meanBy=function(t,e){return Le(t,io(e,2))},Rn.min=function(t){return t&&t.length?fr(t,ns,Dr):i},Rn.minBy=function(t,e){return t&&t.length?fr(t,io(e,2),Dr):i},Rn.stubArray=hs,Rn.stubFalse=ds,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=ws,Rn.nth=function(t,e){return t&&t.length?Ur(t,gc(e)):i},Rn.noConflict=function(){return oe._===this&&(oe._=jt),this},Rn.noop=cs,Rn.now=Ha,Rn.pad=function(t,e,n){t=bc(t);var r=(e=gc(e))?rn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ni(ln(i),n)+t+Ni(sn(i),n)},Rn.padEnd=function(t,e,n){t=bc(t);var r=(e=gc(e))?rn(t):0;return e&&r<e?t+Ni(e-r,n):t},Rn.padStart=function(t,e,n){t=bc(t);var r=(e=gc(e))?rn(t):0;return e&&r<e?Ni(e-r,n)+t:t},Rn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(bc(t).replace(it,""),e||0)},Rn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&mo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fc(t),e===i?(e=t,t=0):e=fc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=_n();return mn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Yr(t,e)},Rn.reduce=function(t,e,n){var r=Wa(t)?Me:Ue,i=arguments.length<3;return r(t,io(e,4),n,i,lr)},Rn.reduceRight=function(t,e,n){var r=Wa(t)?Oe:Ue,i=arguments.length<3;return r(t,io(e,4),n,i,ur)},Rn.repeat=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:gc(e),Qr(bc(t),e)},Rn.replace=function(){var t=arguments,e=bc(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Rn.result=function(t,e,n){var r=-1,o=(e=di(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Lo(e[r])];a===i&&(r=o,a=n),t=Ja(a)?a.call(t):a}return t},Rn.round=xs,Rn.runInContext=t,Rn.sample=function(t){return(Wa(t)?qn:Vr)(t)},Rn.size=function(t){if(null==t)return 0;if(Qa(t))return ac(t)?rn(t):t.length;var e=uo(t);return e==x||e==M?t.size:zr(t).length},Rn.snakeCase=Xc,Rn.some=function(t,e,n){var r=Wa(t)?Te:ti;return n&&mo(t,e,n)&&(e=i),r(t,io(e,3))},Rn.sortedIndex=function(t,e){return ei(t,e)},Rn.sortedIndexBy=function(t,e,n){return ni(t,e,io(n,2))},Rn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ei(t,e);if(r<n&&Ua(t[r],e))return r}return-1},Rn.sortedLastIndex=function(t,e){return ei(t,e,!0)},Rn.sortedLastIndexBy=function(t,e,n){return ni(t,e,io(n,2),!0)},Rn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ei(t,e,!0)-1;if(Ua(t[n],e))return n}return-1},Rn.startCase=Vc,Rn.startsWith=function(t,e,n){return t=bc(t),n=null==n?0:ir(gc(n),0,t.length),e=oi(e),t.slice(n,n+e.length)==e},Rn.subtract=Ss,Rn.sum=function(t){return t&&t.length?Ne(t,ns):0},Rn.sumBy=function(t,e){return t&&t.length?Ne(t,io(e,2)):0},Rn.template=function(t,e,n){var r=Rn.templateSettings;n&&mo(t,e,n)&&(e=i),t=bc(t),e=yc({},e,r,qi);var o,a,c=yc({},e.imports,r.imports,qi),s=Ic(c),l=We(c,s),u=0,p=e.interpolate||_t,f="__p += '",g=Ct((e.escape||_t).source+"|"+p.source+"|"+(p===G?pt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),h="//# sourceURL="+(zt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(g,(function(e,n,r,i,c,s){return r||(r=i),f+=t.slice(u,s).replace(yt,Je),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),c&&(a=!0,f+="';\n"+c+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+e.length,e})),f+="';\n";var d=zt.call(e,"variable")&&e.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(F,""):f).replace(W,"$1").replace(Y,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Gc((function(){return St(s,h+"return "+f).apply(i,l)}));if(m.source=f,$a(m))throw m;return m},Rn.times=function(t,e){if((t=gc(t))<1||t>p)return[];var n=g,r=mn(t,g);e=io(e),t-=g;for(var i=Ee(r,e);++n<t;)e(n);return i},Rn.toFinite=fc,Rn.toInteger=gc,Rn.toLength=hc,Rn.toLower=function(t){return bc(t).toLowerCase()},Rn.toNumber=dc,Rn.toSafeInteger=function(t){return t?ir(gc(t),-9007199254740991,p):0===t?t:0},Rn.toString=bc,Rn.toUpper=function(t){return bc(t).toUpperCase()},Rn.trim=function(t,e,n){if((t=bc(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=oi(e)))return t;var r=on(t),o=on(e);return bi(r,Qe(r,o),Xe(r,o)+1).join("")},Rn.trimEnd=function(t,e,n){if((t=bc(t))&&(n||e===i))return t.replace(ot,"");if(!t||!(e=oi(e)))return t;var r=on(t);return bi(r,0,Xe(r,on(e))+1).join("")},Rn.trimStart=function(t,e,n){if((t=bc(t))&&(n||e===i))return t.replace(it,"");if(!t||!(e=oi(e)))return t;var r=on(t);return bi(r,Qe(r,on(e))).join("")},Rn.truncate=function(t,e){var n=30,r="...";if(Za(e)){var o="separator"in e?e.separator:o;n="length"in e?gc(e.length):n,r="omission"in e?oi(e.omission):r}var a=(t=bc(t)).length;if(Ge(t)){var c=on(t);a=c.length}if(n>=a)return t;var s=n-rn(r);if(s<1)return r;var l=c?bi(c,0,s).join(""):t.slice(0,s);if(o===i)return l+r;if(c&&(s+=l.length-s),ic(o)){if(t.slice(s).search(o)){var u,p=l;for(o.global||(o=Ct(o.source,bc(ft.exec(o))+"g")),o.lastIndex=0;u=o.exec(p);)var f=u.index;l=l.slice(0,f===i?s:f)}}else if(t.indexOf(oi(o),s)!=s){var g=l.lastIndexOf(o);g>-1&&(l=l.slice(0,g))}return l+r},Rn.unescape=function(t){return(t=bc(t))&&V.test(t)?t.replace(Q,an):t},Rn.uniqueId=function(t){var e=++Dt;return bc(t)+e},Rn.upperCase=qc,Rn.upperFirst=$c,Rn.each=ba,Rn.eachRight=va,Rn.first=Qo,as(Rn,(ms={},br(Rn,(function(t,e){zt.call(Rn.prototype,e)||(ms[e]=t)})),ms),{chain:!1}),Rn.VERSION="4.17.20",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Rn[t].placeholder=Rn})),_e(["drop","take"],(function(t,e){En.prototype[t]=function(n){n=n===i?1:dn(gc(n),0);var r=this.__filtered__&&!e?new En(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},En.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;En.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:io(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),_e(["head","last"],(function(t,e){var n="take"+(e?"Right":"");En.prototype[t]=function(){return this[n](1).value()[0]}})),_e(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");En.prototype[t]=function(){return this.__filtered__?new En(this):this[n](1)}})),En.prototype.compact=function(){return this.filter(ns)},En.prototype.find=function(t){return this.filter(t).head()},En.prototype.findLast=function(t){return this.reverse().find(t)},En.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new En(this):this.map((function(n){return Mr(n,t,e)}))})),En.prototype.reject=function(t){return this.filter(Da(io(t)))},En.prototype.slice=function(t,e){t=gc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new En(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=gc(e))<0?n.dropRight(-e):n.take(e-t)),n)},En.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},En.prototype.toArray=function(){return this.take(g)},br(En.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Rn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Rn.prototype[e]=function(){var e=this.__wrapped__,c=r?[1]:arguments,s=e instanceof En,l=c[0],u=s||Wa(e),p=function(t){var e=o.apply(Rn,Ce([t],c));return r&&f?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var f=this.__chain__,g=!!this.__actions__.length,h=a&&!f,d=s&&!g;if(!a&&u){e=d?e:new En(this);var m=t.apply(e,c);return m.__actions__.push({func:fa,args:[p],thisArg:i}),new Nn(m,f)}return h&&d?t.apply(this,c):(m=this.thru(p),h?r?m.value()[0]:m.value():m)})})),_e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Rn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),br(En.prototype,(function(t,e){var n=Rn[e];if(n){var r=n.name+"";zt.call(On,r)||(On[r]=[]),On[r].push({name:e,func:n})}})),On[Li(i,2).name]=[{name:"wrapper",func:i}],En.prototype.clone=function(){var t=new En(this.__wrapped__);return t.__actions__=Hi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Hi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Hi(this.__views__),t},En.prototype.reverse=function(){if(this.__filtered__){var t=new En(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},En.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=mn(e,t+a);break;case"takeRight":t=dn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,c=o.end,s=c-a,l=r?c:a-1,u=this.__iteratees__,p=u.length,f=0,g=mn(s,this.__takeCount__);if(!n||!r&&i==s&&g==s)return ui(t,this.__actions__);var h=[];t:for(;s--&&f<g;){for(var d=-1,m=t[l+=e];++d<p;){var b=u[d],v=b.type,_=(0,b.iteratee)(m);if(2==v)m=_;else if(!_){if(1==v)continue t;break t}}h[f++]=m}return h},Rn.prototype.at=ga,Rn.prototype.chain=function(){return pa(this)},Rn.prototype.commit=function(){return new Nn(this.value(),this.__chain__)},Rn.prototype.next=function(){this.__values__===i&&(this.__values__=pc(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Rn.prototype.plant=function(t){for(var e,n=this;n instanceof Un;){var r=jo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Rn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof En){var e=t;return this.__actions__.length&&(e=new En(this)),(e=e.reverse()).__actions__.push({func:fa,args:[Zo],thisArg:i}),new Nn(e,this.__chain__)}return this.thru(Zo)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return ui(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,ae&&(Rn.prototype[ae]=function(){return this}),Rn}();oe._=cn,(r=(function(){return cn}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))}}]);