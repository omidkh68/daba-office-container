(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"9U9y":function(t,e,n){"use strict";n.r(e),n.d(e,"SelectCompanyModule",(function(){return H}));var o,i=n("PCNd"),r=n("tyNb"),c=n("ofXK"),a=n("sYmb"),l=n("AytR"),s=n("EEPM"),p=n("zB/H"),g=n("ue6I"),u=n("DDyt"),f=n("dJ3e"),m=n("ISpo"),b=n("unh5"),h=n("Qjjq"),y=n("R0Ic"),d=n("fXoL"),v=n("cH1L"),w=n("MutI"),_=n("NFeN"),O=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(){return(S=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},C=function(t){return{"margin-b-full":t}};function k(t,e){if(1&t){var n=d.Ub();d.Tb(0,"mat-list-item",7),d.ac("click",(function(){d.vc(n);var t=e.$implicit;return d.ec().goHome(t)})),d.Hc(1,"\n        "),d.Tb(2,"div",8),d.Hc(3,"\n          "),d.Tb(4,"span",9),d.Hc(5),d.Sb(),d.Hc(6,"\n\n          "),d.Tb(7,"div",10),d.Hc(8,"\n            "),d.Tb(9,"mat-icon",11),d.Hc(10),d.Sb(),d.Hc(11,"\n          "),d.Sb(),d.Hc(12,"\n        "),d.Sb(),d.Hc(13,"\n      "),d.Sb()}if(2&t){var o=e.$implicit,i=e.index,r=d.ec();d.kc("dir",r.rtlDirection?"rtl":"ltr")("ngClass",d.nc(4,C,i!==r.companies.length-1)),d.Bb(5),d.Ic(o.name),d.Bb(5),d.Jc("\n              ",r.rtlDirection?"keyboard_arrow_left":"keyboard_arrow_right","\n            ")}}var P=function(t){function e(e,n,o,i,r,c,a,l){var s=t.call(this,n,i)||this;return s.router=e,s.injector=n,s.apiService=o,s.userInfoService=i,s.electronService=r,s.refreshLoginService=c,s.viewDirectionService=a,s.companySelectorService=l,s.companies=[],s.showBackLink=!1,s._subscription=new p.Subscription,s._subscription.add(s.viewDirectionService.currentDirection.subscribe((function(t){return s.rtlDirection=t}))),s}return O(e,t),e.prototype.ngOnInit=function(){this.getUserCompanies()},e.prototype.getUserCompanies=function(){var t=this;this.loginData&&this.loginData.token_type&&(this.apiService.accessToken=this.loginData.token_type+" "+this.loginData.access_token),this._subscription.add(this.apiService.getUserCompanies().subscribe((function(e){e.success&&(t.companies=e.data,setTimeout((function(){return t.showBackLink=!0}),500),1===t.companies.length&&t.changeSelectedCompany(t.companies[0]).then((function(){t.router.navigateByUrl("/")})))}),(function(){t.userInfoService.changeLoginData(null),t.router.navigateByUrl("/login")})))},e.prototype.getLoginDataAndWriteCompanyInfo=function(t){var e=this;return new Promise((function(n,o){try{var i=void 0,r=void 0;if(e.electronService.isElectron){var c=l.a.production?e.electronService.remote.app.getPath("userData"):e.electronService.remote.app.getAppPath();r=e.electronService.path.join(c,"loginData.txt"),i=e.electronService.fs.readFileSync(r,"utf8")}else i=localStorage.getItem("loginData");if(i){var a=JSON.parse(i);a=S(S({},a),{company:t}),e.electronService.isElectron?e.electronService.fs.writeFileSync(r,JSON.stringify(a)):localStorage.setItem("loginData",JSON.stringify(a)),n(!0)}else o(!1)}catch(s){o(!1)}}))},e.prototype.changeSelectedCompany=function(t){var e=this;return new Promise((function(n){e.getLoginDataAndWriteCompanyInfo(t).then((function(){e.companySelectorService.changeSelectedCompany(t),n(!0)}))}))},e.prototype.goHome=function(t){var e=this;this.changeSelectedCompany(t).then((function(){e.router.navigateByUrl("/")}))},e.prototype.goToLogin=function(){var t=this;this.userInfoService.changeLoginData(null),setTimeout((function(){return t.showBackLink=!1}),500),this.router.navigateByUrl("/login")},e.\u0275fac=function(t){return new(t||e)(d.Nb(r.a),d.Nb(d.t),d.Nb(s.a),d.Nb(u.a),d.Nb(f.a),d.Nb(m.a),d.Nb(b.a),d.Nb(h.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-select-company"]],features:[d.yb],decls:28,vars:11,consts:[[1,"background-gradient","full-width-screen","full-height-screen","display-flex","flex-center",3,"dir"],[1,"thirty-width","display-flex","pos-rel"],[1,"pos-abs","top-full-2-reverse","no-margin","full-width","text-white","font-full-plus-half-em"],[1,"full-width"],["class","company-item pos-rel cursor-pointer height-70 mat-elevation-z3 bg-white round-corner transition overflow-hide",3,"dir","ngClass","click",4,"ngFor","ngForOf"],[1,"pos-abs","bottom-full-reverse-2",3,"ngClass"],[1,"display-flex","text-white","align-items-center","cursor-pointer",3,"click"],[1,"company-item","pos-rel","cursor-pointer","height-70","mat-elevation-z3","bg-white","round-corner","transition","overflow-hide",3,"dir","ngClass","click"],[1,"padding-full","display-flex","flex-space-between","full-height","align-items-center","full-width"],[1,"company-name","transition"],[1,"arrow-container","pos-rel","display-flex","align-items-center","overflow-hide","width-35","height-50"],[1,"arrow","transition","font-full-em-3","full-width","full-height","pos-abs","text-green-500"]],template:function(t,e){1&t&&(d.Tb(0,"div",0),d.Hc(1,"\n  "),d.Tb(2,"div",1),d.Hc(3,"\n    "),d.Tb(4,"h1",2),d.Hc(5),d.fc(6,"translate"),d.Sb(),d.Hc(7,"\n\n    "),d.Tb(8,"mat-list",3),d.Hc(9,"\n      "),d.Fc(10,k,14,6,"mat-list-item",4),d.Hc(11,"\n    "),d.Sb(),d.Hc(12,"\n\n    "),d.Tb(13,"div",5),d.Hc(14,"\n      "),d.Tb(15,"a",6),d.ac("click",(function(){return e.goToLogin()})),d.Hc(16,"\n        "),d.Tb(17,"mat-icon"),d.Hc(18),d.Sb(),d.Hc(19,"\n\n        "),d.Tb(20,"span"),d.Hc(21),d.fc(22,"translate"),d.Sb(),d.Hc(23,"\n      "),d.Sb(),d.Hc(24,"\n    "),d.Sb(),d.Hc(25,"\n  "),d.Sb(),d.Hc(26,"\n"),d.Sb(),d.Hc(27,"\n")),2&t&&(d.kc("dir",e.rtlDirection?"rtl":"ltr"),d.Bb(5),d.Jc("\n      ",d.gc(6,7,"select_company.title"),"\n    "),d.Bb(3),d.kc("@listAnimation",e.companies.length),d.Bb(2),d.kc("ngForOf",e.companies),d.Bb(3),d.kc("ngClass",e.showBackLink?"":"display-none"),d.Bb(5),d.Ic(e.rtlDirection?"keyboard_arrow_right":"keyboard_arrow_left"),d.Bb(3),d.Ic(d.gc(22,9,"select_company.back_to_login")))},directives:[v.b,w.a,c.j,c.i,_.a,w.d],pipes:[a.c],styles:['.background-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(120deg,#743c97,#f43b47)}.top-full-2-reverse[_ngcontent-%COMP%]{top:-2em!important}.bottom-full-reverse-2[_ngcontent-%COMP%]{bottom:-3em!important}.company-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:0;background-color:#4caf50;transition:all .4s}.company-item[dir=rtl][_ngcontent-%COMP%]:before{right:0}.company-item[dir=rtl][_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{right:-100px}.company-item[dir=ltr][_ngcontent-%COMP%]:before{left:0}.company-item[dir=ltr][_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{left:-100px}.company-item[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{opacity:0}.company-item[_ngcontent-%COMP%]:hover{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.company-item[_ngcontent-%COMP%]:hover:before{width:10px}.company-item[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{opacity:1;-webkit-animation:show-arrow 1s linear;animation:show-arrow 1s linear}.company-item[_ngcontent-%COMP%]:hover[dir=rtl]{padding-right:10px}.company-item[_ngcontent-%COMP%]:hover[dir=rtl]   .arrow[_ngcontent-%COMP%]{right:0}.company-item[_ngcontent-%COMP%]:hover[dir=ltr]{padding-left:10px}.company-item[_ngcontent-%COMP%]:hover[dir=ltr]   .arrow[_ngcontent-%COMP%]{left:0}.company-item[_ngcontent-%COMP%]:hover   .company-name[_ngcontent-%COMP%]{font-weight:700}@-webkit-keyframes show-arrow{0%{opacity:0}33.33333%{opacity:.5}to{opacity:1}}@keyframes show-arrow{0%{opacity:0}33.33333%{opacity:.5}to{opacity:1}}'],data:{animation:[Object(y.n)("listAnimation",[Object(y.m)("* => *",[Object(y.h)(":leave",[Object(y.j)(100,[Object(y.e)("0.2s",Object(y.l)({opacity:0}))])],{optional:!0}),Object(y.h)(":enter",[Object(y.l)({opacity:0}),Object(y.j)(100,[Object(y.e)("0.2s",Object(y.l)({opacity:1}))])],{optional:!0})])])]}}),e}(g.a),H=function(){function t(){}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[c.c,i.a,r.b.forChild([{path:"",component:P}]),a.b.forChild()]]}),t}()}}]);