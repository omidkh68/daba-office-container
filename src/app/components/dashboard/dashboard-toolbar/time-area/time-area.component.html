<div [dir]="rtlDirection ? 'rtl' : 'ltr'"
     [matMenuTriggerFor]="timeAreaMenu"
     [ngClass]="rtlDirection ? 'margin-l-auto' : 'margin-r-auto'"
     class="box pos-rel mat-elevation-z1 padding-r-l text-center round-corner height-40 overflow-hide cursor-pointer">
  <mat-icon class="text-dark-mode-color text-gray-800">access_time</mat-icon>

  <div class="display-flex">
    <mat-list [ngClass]="rtlDirection ? 'text-right' : 'text-left'">
      <mat-list-item class="text-dark-mode-color text-gray-800">
        <div mat-line class="font-8-rem">{{datetime ? datetime.date : ''}}</div>
        <div mat-line class="font-8-rem">{{datetime ? datetime.weekday : ''}}</div>
      </mat-list-item>
    </mat-list>

    <mat-list [ngClass]="rtlDirection ? 'text-left' : 'text-right'">
      <mat-list-item class="text-dark-mode-color font-8-rem text-gray-800">
        <app-time-area-digital-clock [timezone]="loggedInUser.timezone" matLine>
        </app-time-area-digital-clock>
        <div mat-line dir="ltr" class="font-8-rem"><span>{{loggedInUser.timezone}}</span></div>
      </mat-list-item>
    </mat-list>
  </div>
</div>
<mat-menu class="toolbar-menu time-area-menu" #timeAreaMenu="matMenu" xPosition="before" yPosition="above">

<!--  <div #clock class="clock">-->
<!--    <div #hours class="hands hours"></div>-->
<!--    <div #minutes class="hands minutes"></div>-->
<!--    <div #seconds class="hands seconds"></div>-->
<!--  </div>-->
  <h6 (click)="addMoreClock($event);" mat-subheader class="padding-half text-weight-normal font-9-rem text-dark-mode-color">
    {{'dashboard.dashboard_toolbar.active_clocks' | translate}}
    <mat-icon *ngIf="!checkMoreClock" class="pos-abs left-0">add</mat-icon>
    <span *ngIf="checkMoreClock" class="pos-abs left-0">Done</span>
  </h6>

  <div *ngIf="!checkMoreClockContent" class="display-flex flex-space-around padding-half">
    <div
         *ngIf="cityClocksList.length < 3"
         (click)="showMoreClockContent($event);"
         [ngClass]="(checkMoreClock)?'right-to-left':'left-to-right'"
         #clockPlus class="animate opacity-0 clock-plus"><mat-icon class="text-white">add</mat-icon></div>

    <app-time-area-clock [cityClocksList]="cityClocksList" [item]="clock" [item_index]="i" [checkMoreClock]="checkMoreClock" *ngFor="let clock of cityClocksList; index as i" class="animate">
    </app-time-area-clock>
  </div>

  <div class="padding-half" *ngIf="checkMoreClockContent">

    <form class="example-form">
      <mat-form-field class="full-width">
        <mat-label>Assignee</mat-label>
        <input class="full-width" type="text" (click)="$event.stopPropagation()" matInput [formControl]="myControl" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
          <mat-option (click)="setClockCity(option)" *ngFor="let option of filteredOptions | async" [value]="option">
            {{option.city}} - {{option.timezone}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>

<!--    <form [formGroup]="form" (submit)="submit()">-->
<!--      <mat-form-field class="full-width font-9-em">-->
<!--        <input (click)="$event.stopPropagation()" matInput placeholder="جستجو" class="full-width" type="text"-->
<!--               formControlName="cityName" tabindex="2">-->
<!--        <mat-label>-->
<!--          جستجوی شهر-->
<!--        </mat-label>-->
<!--      </mat-form-field>-->
<!--    </form>-->


<!--    <input (click)="$event.stopPropagation()" type="text" placeholder="جستجوی شهر..." />-->

  </div>


</mat-menu>
